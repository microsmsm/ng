(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{igdQ:function(t,e,a){"use strict";a.r(e),a.d(e,"ScrumboardModule",(function(){return Fe}));var o=a("tyNb"),c=a("bTqV"),i=a("bSwM"),r=a("A5z7"),n=a("FKr1"),s=a("iadO"),d=a("0IaG"),b=a("kmnG"),m=a("NFeN"),l=a("qFsG"),u=a("MutI"),g=a("STbY"),f=a("bv9b"),p=a("XhcP"),h=a("/t3+"),x=a("Qu3c"),v=a("212X"),w=a("5HBU"),k=a("LPQX"),X=a("2Vo4"),Y=a("fXoL"),y=a("tk/3");let L=(()=>{class t{constructor(t){this._httpClient=t,this.onBoardsChanged=new X.a([]),this.onBoardChanged=new X.a([])}resolve(t,e){return this.routeParams=t.params,new Promise((t,e)=>{Promise.all([this.getBoards()]).then(()=>{t()},e)})}getBoards(){return new Promise((t,e)=>{this._httpClient.get("api/scrumboard-boards").subscribe(e=>{this.boards=e,this.onBoardsChanged.next(this.boards),t(this.boards)},e)})}getBoard(t){return new Promise((e,a)=>{this._httpClient.get("api/scrumboard-boards/"+t).subscribe(t=>{this.board=t,this.onBoardChanged.next(this.board),e(this.board)},a)})}addCard(t,e){return this.board.lists.map(a=>{if(a.id===t)return a.idCards.push(e.id)}),this.board.cards.push(e),this.updateBoard()}addList(t){return this.board.lists.push(t),this.updateBoard()}removeList(t){const e=this.board.lists.find(e=>e.id===t);for(const o of e.idCards)this.removeCard(o);const a=this.board.lists.indexOf(e);return this.board.lists.splice(a,1),this.updateBoard()}removeCard(t,e){const a=this.board.cards.find(e=>e.id===t);if(e){const a=this.board.lists.find(t=>e===t.id);a.idCards.splice(a.idCards.indexOf(t),1)}this.board.cards.splice(this.board.cards.indexOf(a),1),this.updateBoard()}updateBoard(){return new Promise((t,e)=>{this._httpClient.post("api/scrumboard-boards/"+this.board.id,this.board).subscribe(e=>{this.onBoardChanged.next(this.board),t(this.board)},e)})}updateCard(t){this.board.cards.map(e=>{if(e.id===t.id)return t}),this.updateBoard()}createNewBoard(t){return new Promise((e,a)=>{this._httpClient.post("api/scrumboard-boards/"+t.id,t).subscribe(a=>{e(t)},a)})}}return t.\u0275fac=function(e){return new(e||t)(Y.cc(y.b))},t.\u0275prov=Y.Ob({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t){this._scrumboardService=t}resolve(t){return this._scrumboardService.getBoard(t.paramMap.get("boardId"))}}return t.\u0275fac=function(e){return new(e||t)(Y.cc(L))},t.\u0275prov=Y.Ob({token:t,factory:t.\u0275fac}),t})();var T=a("XNiG"),I=a("1G5W"),F=a("PVWW"),A=a("jD4G");const G=[{id:"56027e4119ad3a5dc28b36cd",name:"Design",color:"red-500"},{id:"5640635e19ad3a5dc21416b2",name:"App",color:"blue-500"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",color:"green-400"}],M=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"Vincent Munoz",avatar:"assets/images/avatars/vincent.jpg"}];class S{constructor(t){this.name=t.name||"Untitled Board",this.uri=t.uri||"untitled-board",this.id=t.id||A.a.generateGUID(),this.settings=t.settings||{color:"",subscribed:!0,cardCoverImages:!0},this.lists=[],this.cards=[],this.members=t.members||M,this.labels=t.labels||G}}var _=a("XiUz"),R=a("EwFO"),D=a("ofXK");const O=function(){return{y:"100%"}},B=function(t){return{value:"*",params:t}};function H(t,e){if(1&t&&(Y.Yb(0,"div",7),Y.Yb(1,"mat-icon",5),Y.Tc(2,"assessment"),Y.Xb(),Y.Yb(3,"div",6),Y.Tc(4),Y.Xb(),Y.Xb()),2&t){const t=e.$implicit;Y.rc("routerLink","/apps/scrumboard/boards/"+t.id+"/"+t.uri)("@animate",Y.uc(4,B,Y.tc(3,O))),Y.Gb(4),Y.Uc(t.name)}}const N=function(){return{delay:"100ms"}},z=function(){return{value:"50"}};let U=(()=>{class t{constructor(t,e){this._router=t,this._scrumboardService=e,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardsChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.boards=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}newBoard(){const t=new S({});this._scrumboardService.createNewBoard(t).then(()=>{this._router.navigate(["/apps/scrumboard/boards/"+t.id+"/"+t.uri])})}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(o.g),Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard"]],decls:11,vars:11,consts:[["id","boards","fxLayout","column","fxLayoutAlign","start center","fxFlex","","fusePerfectScrollbar","",1,"fuse-navy"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"header","pt-44","pt-md-88"],["fxFlex","0 0 auto","fxLayout","row wrap","fxLayoutAlign","center center",1,"board-list"],["class","board-list-item","fxLayout","column","fxLayoutAlign","center center",3,"routerLink",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item","add-new-board",3,"click"],[1,"s-56"],[1,"board-name"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item",3,"routerLink"]],template:function(t,e){1&t&&(Y.Yb(0,"div",0),Y.Yb(1,"div",1),Y.Yb(2,"h1"),Y.Tc(3,"Scrumboard App"),Y.Xb(),Y.Xb(),Y.Yb(4,"div",2),Y.Rc(5,H,5,6,"div",3),Y.Yb(6,"div",4),Y.gc("click",(function(){return e.newBoard()})),Y.Yb(7,"mat-icon",5),Y.Tc(8,"add_circle"),Y.Xb(),Y.Yb(9,"div",6),Y.Tc(10,"Add new board"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()),2&t&&(Y.Gb(1),Y.rc("@animate",Y.uc(5,B,Y.tc(4,N))),Y.Gb(3),Y.rc("@animateStagger",Y.tc(7,z)),Y.Gb(1),Y.rc("ngForOf",e.boards),Y.Gb(1),Y.rc("@animate",Y.uc(9,B,Y.tc(8,O))))},directives:[_.e,_.d,_.b,R.a,D.s,m.a,o.h],styles:["scrumboard{min-height:100%}scrumboard #boards{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}scrumboard #boards .header h1{font-size:40px;font-weight:300}scrumboard #boards .board-list{padding:32px 0;max-height:none!important}scrumboard #boards .board-list .board-list-item{min-width:210px;min-height:210px;width:210px;height:210px;padding:24px 0;margin:16px;border-radius:8px;background:rgba(0,0,0,.12);transition:box-shadow .15s ease-in;cursor:pointer}scrumboard #boards .board-list .board-list-item:hover:not(.add-new-board){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}scrumboard #boards .board-list .board-list-item .board-name{padding:16px 32px 0;font-weight:300;font-size:16px;text-align:center}scrumboard #boards .board-list .board-list-item.add-new-board{background:rgba(0,0,0,.06);border:2px dashed hsla(0,0%,100%,.37)}"],encapsulation:2,data:{animation:F.a}}),t})();class ${constructor(t){this.id=t.id||A.a.generateGUID(),this.name=t.name||"",this.idCards=[]}}var Z=a("znSr"),P=a("3Pt+");const V=["nameInput"];function q(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",2),Y.Yb(1,"span"),Y.Tc(2),Y.Xb(),Y.Yb(3,"button",3),Y.gc("click",(function(){return Y.Hc(t),Y.kc().openForm()})),Y.Yb(4,"mat-icon",4),Y.Tc(5,"edit_mode"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.Gb(2),Y.Uc(t.board.name)}}function j(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"form",5),Y.gc("ngSubmit",(function(){return Y.Hc(t),Y.kc().onFormSubmit()})),Y.Tb(1,"input",6,7),Y.Yb(3,"button",8),Y.Yb(4,"mat-icon"),Y.Tc(5,"check"),Y.Xb(),Y.Xb(),Y.Yb(6,"button",9),Y.gc("click",(function(){return Y.Hc(t),Y.kc().closeForm()})),Y.Yb(7,"mat-icon"),Y.Tc(8,"close"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.rc("formGroup",t.form)}}let W=(()=>{class t{constructor(t){this.formBuilder=t,this.formActive=!1,this.boardNameChanged=new Y.o}openForm(){this.form=this.formBuilder.group({name:[this.board.name]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.board.name=this.form.getRawValue().name,this.board.uri=encodeURIComponent(this.board.name).replace(/%20/g,"-").toLowerCase(),this.boardNameChanged.next(this.board.name),this.formActive=!1)}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(P.d))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-edit-board-name"]],viewQuery:function(t,e){var a;1&t&&Y.Xc(V,!0),2&t&&Y.Cc(a=Y.hc())&&(e.nameInputField=a.first)},inputs:{board:"board"},outputs:{boardNameChanged:"boardNameChanged"},decls:2,vars:2,consts:[["class","board-name","fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","board-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",1,"board-name"],["mat-icon-button","",3,"click"],[1,"s-16"],["fxLayout","row","fxFlex","1 0 auto",1,"board-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","1 0 auto","placeholder","Write a board name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(Y.Rc(0,q,6,1,"div",0),Y.Rc(1,j,9,1,"form",1)),2&t&&(Y.rc("ngIf",!e.formActive),Y.Gb(1),Y.rc("ngIf",e.formActive))},directives:[D.t,_.b,_.e,_.d,c.b,m.a,P.x,P.q,P.i,P.c,P.p,P.g],styles:["scrumboard-edit-board-name{display:block!important}scrumboard-edit-board-name .board-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600}"],encapsulation:2}),t})();const J=["nameInput"];function Q(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"button",3),Y.gc("click",(function(){return Y.Hc(t),Y.kc().openForm()})),Y.Yb(1,"div",4),Y.Yb(2,"mat-icon",5),Y.Tc(3,"add"),Y.Xb(),Y.Yb(4,"span"),Y.Tc(5,"Add a list"),Y.Xb(),Y.Xb(),Y.Xb()}}function E(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"form",6),Y.gc("submit",(function(){return Y.Hc(t),Y.kc().onFormSubmit()})),Y.Tb(1,"input",7,8),Y.Yb(3,"button",9),Y.Yb(4,"mat-icon"),Y.Tc(5,"check"),Y.Xb(),Y.Xb(),Y.Yb(6,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.kc().closeForm()})),Y.Yb(7,"mat-icon"),Y.Tc(8,"close"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.rc("formGroup",t.form)}}let K=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.listAdded=new Y.o}openForm(){this.form=this._formBuilder.group({name:[""]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.listAdded.next(this.form.getRawValue().name),this.formActive=!1)}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(P.d))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-add-list"]],viewQuery:function(t,e){var a;1&t&&Y.Xc(J,!0),2&t&&Y.Cc(a=Y.hc())&&(e.nameInputField=a.first)},outputs:{listAdded:"listAdded"},decls:3,vars:2,consts:[[1,"list","new-list","mat-elevation-z1"],["mat-button","","class","new-list-form-button",3,"click",4,"ngIf"],["class","new-list-form","fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",3,"formGroup","submit",4,"ngIf"],["mat-button","",1,"new-list-form-button",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"red"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",1,"new-list-form",3,"formGroup","submit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto",3,"click"]],template:function(t,e){1&t&&(Y.Yb(0,"div",0),Y.Rc(1,Q,6,0,"button",1),Y.Rc(2,E,9,1,"form",2),Y.Xb()),2&t&&(Y.Gb(1),Y.rc("ngIf",!e.formActive),Y.Gb(1),Y.rc("ngIf",e.formActive))},directives:[D.t,c.b,_.e,_.d,m.a,P.x,P.q,_.b,P.i,P.c,P.p,P.g],styles:["scrumboard-board-add-list .new-list{border-radius:2px}scrumboard-board-add-list .new-list .new-list-form-button{text-transform:none;font-size:15px;padding:0 16px;height:64px;margin:0;width:100%}scrumboard-board-add-list .new-list .new-list-form-button mat-icon{border-radius:50%;height:40px;width:40px;line-height:40px;margin-right:16px}scrumboard-board-add-list .new-list .new-list-form{padding:16px;height:64px}scrumboard-board-add-list .new-list .new-list-form>input{height:100%}"],encapsulation:2}),t})();var tt=a("f0Cb"),et=a("Z9WT"),at=a("s3g0");function ot(t,e){1&t&&(Y.Yb(0,"mat-icon",6),Y.Tc(1,"check"),Y.Xb())}function ct(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"button",7),Y.gc("click",(function(e){Y.Hc(t);const a=Y.kc(2);return e.stopPropagation(),a.setColor("")})),Y.Yb(1,"mat-icon",6),Y.Tc(2,"delete"),Y.Xb(),Y.Xb()}}function it(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"mat-list-item",2),Y.gc("click",(function(){Y.Hc(t);const a=e.$implicit;return Y.kc().setColor(a.key)})),Y.Yb(1,"p",3),Y.Tc(2),Y.Xb(),Y.Rc(3,ot,2,0,"mat-icon",4),Y.Rc(4,ct,3,0,"button",5),Y.Xb()}if(2&t){const t=e.$implicit,a=Y.kc();Y.rc("ngClass",t.key),Y.Gb(2),Y.Uc(t.key),Y.Gb(1),Y.rc("ngIf",t.key===a.board.settings.color),Y.Gb(1),Y.rc("ngIf",t.key===a.board.settings.color)}}let rt=(()=>{class t{constructor(t){this._scrumboardService=t,this.colors=et.a.all,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}setColor(t){this.board.settings.color=t,this._scrumboardService.updateBoard()}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-color-selector"]],decls:3,vars:3,consts:[[1,"colors"],["class","color m-8 mat-elevation-z1","matRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["matRipple","",1,"color","m-8","mat-elevation-z1",3,"ngClass","click"],["fxFlex",""],["class","s-16",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"s-16"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(Y.Yb(0,"mat-list",0),Y.Rc(1,it,5,4,"mat-list-item",1),Y.lc(2,"keys"),Y.Xb()),2&t&&(Y.Gb(1),Y.rc("ngForOf",Y.mc(2,1,e.colors)))},directives:[u.a,D.s,u.c,n.r,D.q,Z.a,_.b,D.t,m.a,c.b],pipes:[at.a],styles:["scrumboard-board-color-selector .colors .color{position:relative;cursor:pointer}"],encapsulation:2}),t})();function nt(t,e){1&t&&(Y.Yb(0,"mat-icon",13),Y.Tc(1,"check"),Y.Xb())}function st(t,e){1&t&&(Y.Yb(0,"mat-icon",13),Y.Tc(1,"check"),Y.Xb())}function dt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",2),Y.Yb(1,"div",3),Y.Yb(2,"div"),Y.Tc(3,"Settings"),Y.Xb(),Y.Xb(),Y.Yb(4,"div",4),Y.Yb(5,"div",5),Y.Yb(6,"div",6),Y.Yb(7,"div",7),Y.gc("click",(function(){return Y.Hc(t),Y.kc().view="board-color"})),Y.Yb(8,"mat-icon",8),Y.Tc(9,"format_color_fill"),Y.Xb(),Y.Yb(10,"p",9),Y.Tc(11,"Board Color"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(12,"div",6),Y.Yb(13,"div",7),Y.gc("click",(function(){return Y.Hc(t),Y.kc().toggleCardCover()})),Y.Yb(14,"mat-icon",8),Y.Tc(15,"photo"),Y.Xb(),Y.Yb(16,"p",10),Y.Tc(17,"Card Cover Images"),Y.Xb(),Y.Rc(18,nt,2,0,"mat-icon",11),Y.Xb(),Y.Xb(),Y.Yb(19,"div",6),Y.Yb(20,"div",7),Y.gc("click",(function(){return Y.Hc(t),Y.kc().toggleSubscription()})),Y.Yb(21,"mat-icon",8),Y.Tc(22,"remove_red_eye"),Y.Xb(),Y.Yb(23,"p",10),Y.Tc(24,"Subscribe"),Y.Xb(),Y.Rc(25,st,2,0,"mat-icon",11),Y.Xb(),Y.Xb(),Y.Yb(26,"div",6),Y.Yb(27,"div",12),Y.Yb(28,"mat-icon",8),Y.Tc(29,"content_copy"),Y.Xb(),Y.Yb(30,"p",9),Y.Tc(31,"Copy Board"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(32,"div",6),Y.Yb(33,"div",12),Y.Yb(34,"mat-icon",8),Y.Tc(35,"delete"),Y.Xb(),Y.Yb(36,"p",9),Y.Tc(37,"Delete Board"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Tb(38,"mat-divider"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.rc("@slideInLeft",void 0),Y.Gb(1),Y.rc("ngClass",t.board.settings.color),Y.Gb(17),Y.rc("ngIf",t.board.settings.cardCoverImages),Y.Gb(7),Y.rc("ngIf",t.board.settings.subscribed)}}function bt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",2),Y.Yb(1,"div",14),Y.Yb(2,"div"),Y.Tc(3,"Background Color"),Y.Xb(),Y.Yb(4,"button",15),Y.gc("click",(function(){return Y.Hc(t),Y.kc().view="main"})),Y.Yb(5,"mat-icon",16),Y.Tc(6,"arrow_back"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(7,"div",17),Y.Tb(8,"scrumboard-board-color-selector"),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.rc("@slideInRight",void 0),Y.Gb(1),Y.rc("ngClass",t.board.settings.color)}}let mt=(()=>{class t{constructor(t){this.scrumboardService=t,this.view="main",this._unsubscribeAll=new T.a}ngOnInit(){this.scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleCardCover(){this.board.settings.cardCoverImages=!this.board.settings.cardCoverImages,this.scrumboardService.updateBoard()}toggleSubscription(){this.board.settings.subscribed=!this.board.settings.subscribed,this.scrumboardService.updateBoard()}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-settings"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch","click"],["class","view",4,"ngSwitchCase"],[1,"view"],["fxLayout","column","fxLayoutAlign","center center",1,"header","px-24",3,"ngClass"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"click"],[1,"nav-link-icon"],[1,"title"],["fxFlex","",1,"title"],["class","s-18",4,"ngIf"],["matRipple","",1,"nav-link"],[1,"s-18"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","px-24",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"s-16"],["fusePerfectScrollbar","",1,"content","p-8"]],template:function(t,e){1&t&&(Y.Yb(0,"div",0),Y.gc("click",(function(t){return t.stopPropagation()})),Y.Rc(1,dt,39,4,"div",1),Y.Rc(2,bt,9,2,"div",1),Y.Xb()),2&t&&(Y.rc("ngSwitch",e.view),Y.Gb(1),Y.rc("ngSwitchCase","main"),Y.Gb(1),Y.rc("ngSwitchCase","board-color"))},directives:[D.x,D.y,_.e,_.d,D.q,Z.a,R.a,n.r,m.a,_.b,D.t,tt.a,c.b,rt],styles:["scrumboard-board-settings{display:flex;flex-direction:column;flex:1 0 auto;height:100%}scrumboard-board-settings .views{display:flex;flex-direction:column;position:relative;overflow:hidden;height:100%}scrumboard-board-settings .views .view{position:absolute;width:100%;height:100%;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column}scrumboard-board-settings .views .view>.header{flex:0 1 auto;height:64px;min-height:64px;border-bottom:1px solid}scrumboard-board-settings .views .view>.content{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch}"],encapsulation:2,data:{animation:F.a}}),t})();var lt=a("2nsM");class ut{constructor(t){this.id=t.id||A.a.generateGUID(),this.name=t.name||"",this.description=t.description||"",this.idAttachmentCover=t.idAttachmentCover||"",this.idMembers=t.idMembers||[],this.idLabels=t.idLabels||[],this.attachments=t.attachments||[],this.subscribed=t.subscribed||!0,this.checklists=t.checklists||[],this.checkItems=t.checkItems||0,this.checkItemsChecked=t.checkItemsChecked||0,this.comments=t.comments||[],this.activities=t.activities||[],this.due=t.due||""}}var gt=a("qwfY");function ft(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",10),Y.Tb(1,"div",11),Y.Yb(2,"mat-checkbox",12),Y.gc("change",(function(){Y.Hc(t);const a=e.$implicit,o=Y.kc(2);return o.toggleInArray(a.id,o.card.idLabels),o.onCardLabelsChanged()})),Y.Tc(3),Y.Xb(),Y.Yb(4,"button",13),Y.Yb(5,"mat-icon",14),Y.gc("click",(function(){Y.Hc(t);const a=e.$implicit,o=Y.kc(2);return o.labelsMenuView="edit",o.selectedLabel=a})),Y.Tc(6,"mode_edit"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=e.$implicit,a=Y.kc(2);Y.Gb(1),Y.rc("ngClass",t.color),Y.Gb(1),Y.rc("checked",a.card.idLabels.indexOf(t.id)>-1),Y.Gb(1),Y.Vc(" ",t.name," ")}}function pt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",4),Y.Yb(1,"div",5),Y.Yb(2,"div"),Y.Tc(3,"Labels"),Y.Xb(),Y.Yb(4,"button",6),Y.gc("click",(function(){return Y.Hc(t),Y.kc().labelsMenuView="add"})),Y.Yb(5,"mat-icon",7),Y.Tc(6,"add"),Y.Xb(),Y.Yb(7,"span"),Y.Tc(8,"Add"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(9,"div",8),Y.Rc(10,ft,7,3,"div",9),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.Gb(10),Y.rc("ngForOf",t.board.labels)}}function ht(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",15),Y.Yb(1,"div",16),Y.Yb(2,"button",17),Y.gc("click",(function(){return Y.Hc(t),Y.kc().labelsMenuView="labels"})),Y.Yb(3,"mat-icon",7),Y.Tc(4,"arrow_back"),Y.Xb(),Y.Xb(),Y.Yb(5,"div"),Y.Tc(6,"Edit Label"),Y.Xb(),Y.Xb(),Y.Yb(7,"div",18),Y.Yb(8,"mat-form-field"),Y.Yb(9,"input",19),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().selectedLabel.name=e}))("change",(function(){return Y.Hc(t),Y.kc().onLabelChange()})),Y.Xb(),Y.Xb(),Y.Yb(10,"fuse-material-color-picker",20),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().selectedLabel.color=e}))("colorChanged",(function(e){return Y.Hc(t),Y.kc().onLabelChange()})),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.Gb(9),Y.rc("ngModel",t.selectedLabel.name),Y.Gb(1),Y.rc("ngModel",t.selectedLabel.color)}}function xt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",21),Y.Yb(1,"div",16),Y.Yb(2,"button",17),Y.gc("click",(function(){return Y.Hc(t),Y.kc().labelsMenuView="labels"})),Y.Yb(3,"mat-icon",7),Y.Tc(4,"arrow_back"),Y.Xb(),Y.Xb(),Y.Yb(5,"div"),Y.Tc(6,"Add Label"),Y.Xb(),Y.Xb(),Y.Yb(7,"form",22,23),Y.gc("submit",(function(){return Y.Hc(t),Y.kc().addNewLabel()})),Y.Yb(9,"div",24),Y.Yb(10,"mat-form-field",25),Y.Yb(11,"input",26),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().newLabel.name=e})),Y.Xb(),Y.Xb(),Y.Yb(12,"fuse-material-color-picker",27),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().newLabel.color=e})),Y.Xb(),Y.Xb(),Y.Yb(13,"button",28),Y.Tc(14,"ADD NEW LABEL"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.Dc(8),e=Y.kc();Y.Gb(11),Y.rc("ngModel",e.newLabel.name),Y.Gb(1),Y.rc("ngModel",e.newLabel.color),Y.Gb(1),Y.rc("disabled",!t.valid)}}let vt=(()=>{class t{constructor(t){this._scrumboardService=t,this.cardLabelsChanged=new Y.o,this.labelsMenuView="labels",this.newLabel={id:"",name:"",color:"blue-400"},this.toggleInArray=A.a.toggleInArray,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onCardLabelsChanged(){this.cardLabelsChanged.next()}onLabelChange(){this._scrumboardService.updateBoard()}addNewLabel(){this.newLabel.id=A.a.generateGUID(),this.board.labels.push(Object.assign({},this.newLabel)),this.newLabel.name="",this.labelsMenuView="labels"}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-label-selector"]],inputs:{card:"card"},outputs:{cardLabelsChanged:"cardLabelsChanged"},decls:4,vars:4,consts:[[1,"views",3,"ngSwitch","click"],["class","view","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view edit","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view add","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["fxFlex","","fxLayout","column",1,"view"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","",3,"click"],[1,"s-16"],["fxFlex","","fxLayout","column","fusePerfectScrollbar",""],["class","label","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",1,"label"],[1,"label-color",3,"ngClass"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"checked","change"],["mat-icon-button",""],[1,"s-16",3,"click"],["fxFlex","","fxLayout","column",1,"view","edit"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"content"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange","change"],[1,"ml-8",3,"ngModel","ngModelChange","colorChanged"],["fxFlex","","fxLayout","column",1,"view","add"],["fxFlex","","fxLayout","column","fxLayoutAlign","start end",3,"submit"],["newLabelForm","ngForm"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],["matInput","","placeholder","Name","name","labelName","required","",3,"ngModel","ngModelChange"],["name","labelColor",1,"ml-8",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"mat-accent","mt-16",3,"disabled"]],template:function(t,e){1&t&&(Y.Yb(0,"div",0),Y.gc("click",(function(t){return t.stopPropagation()})),Y.Rc(1,pt,11,1,"div",1),Y.Rc(2,ht,11,2,"div",2),Y.Rc(3,xt,15,3,"div",3),Y.Xb()),2&t&&(Y.rc("ngSwitch",e.labelsMenuView),Y.Gb(1),Y.rc("ngSwitchCase","labels"),Y.Gb(1),Y.rc("ngSwitchCase","edit"),Y.Gb(1),Y.rc("ngSwitchCase","add"))},directives:[D.x,D.y,_.b,_.e,_.d,c.b,m.a,R.a,D.s,D.q,Z.a,i.a,b.c,l.b,P.c,P.p,P.s,gt.a,P.x,P.q,P.r,P.v],styles:[".scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 8px 8px 16px;margin-bottom:8px}.scrumboard-labels-menu .mat-menu-content .views .view .label{margin:0 8px 8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view .label .label-color{width:8px;height:8px;border-radius:100%;margin-right:12px}.scrumboard-labels-menu .mat-menu-content .views .view.add>.header,.scrumboard-labels-menu .mat-menu-content .views .view.edit>.header{padding:0 8px 8px 0}.scrumboard-labels-menu .mat-menu-content .views .view.add form,.scrumboard-labels-menu .mat-menu-content .views .view.edit form{padding:0 16px 8px}.scrumboard-labels-menu .mat-menu-content .views .view.add form .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit form .mat-form-field-infix{width:auto!important}.scrumboard-labels-menu .mat-menu-content .views .view.add .content,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content{padding:8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add .content .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content .mat-form-field-infix{width:auto!important}"],encapsulation:2,data:{animation:F.a}}),t})();var wt=a("vVcS");const kt=["checklistMenuTrigger"],Xt=["newCheckListTitleField"];function Yt(t,e){if(1&t&&(Y.Yb(0,"button",13),Y.Yb(1,"mat-icon"),Y.Tc(2,"today"),Y.Xb(),Y.Xb()),2&t){Y.kc();const t=Y.Dc(6);Y.rc("matMenuTriggerFor",t)}}function yt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"mat-form-field"),Y.Yb(1,"input",38),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc(2).card.due=e})),Y.Xb(),Y.Tb(2,"mat-datepicker-toggle",39),Y.Tb(3,"mat-datepicker",null,40),Y.Xb()}if(2&t){const t=Y.Dc(4),e=Y.kc(2);Y.Gb(1),Y.rc("matDatepicker",t)("ngModel",e.card.due),Y.Gb(1),Y.rc("for",t)}}function Lt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"mat-checkbox",41),Y.gc("change",(function(){Y.Hc(t);const a=e.$implicit,o=Y.kc(2);return o.toggleInArray(a.id,o.card.idMembers),o.updateCard()})),Y.Yb(1,"div",42),Y.Tb(2,"img",43),Y.Yb(3,"p",44),Y.Tc(4),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=e.$implicit,a=Y.kc(2);Y.rc("checked",a.card.idMembers.indexOf(t.id)>-1),Y.Gb(2),Y.rc("alt",t.name)("src",t.avatar,Y.Jc),Y.Gb(2),Y.Uc(t.name)}}function Ct(t,e){1&t&&(Y.Yb(0,"mat-icon"),Y.Tc(1,"visibility"),Y.Xb())}function Tt(t,e){1&t&&(Y.Yb(0,"mat-icon"),Y.Tc(1,"visibility_off"),Y.Xb())}function It(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.kc(2).toggleSubscribe()})),Y.Tc(1," Unsubscribe "),Y.Xb()}}function Ft(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.kc(2).toggleSubscribe()})),Y.Tc(1," Subscribe "),Y.Xb()}}function At(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"mat-toolbar",3),Y.Yb(1,"div",4),Y.Yb(2,"div",5),Y.Yb(3,"div",6),Y.Rc(4,Yt,3,1,"button",7),Y.Yb(5,"mat-menu",8,9),Y.Yb(7,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.kc().removeDueDate()})),Y.Tc(8,"Remove Due Date"),Y.Xb(),Y.Xb(),Y.Rc(9,yt,5,3,"mat-form-field",11),Y.Xb(),Y.Yb(10,"div",12),Y.Yb(11,"button",13),Y.Yb(12,"mat-icon"),Y.Tc(13,"label"),Y.Xb(),Y.Xb(),Y.Yb(14,"mat-menu",14,15),Y.Yb(16,"scrumboard-label-selector",16),Y.gc("cardLabelsChanged",(function(){return Y.Hc(t),Y.kc().updateCard()})),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(17,"div",17),Y.Yb(18,"button",18),Y.Yb(19,"mat-icon"),Y.Tc(20,"account_circle"),Y.Xb(),Y.Xb(),Y.Yb(21,"mat-menu",8,19),Y.Yb(23,"div",20),Y.gc("click",(function(e){return Y.Hc(t),e.stopPropagation()})),Y.Rc(24,Lt,5,4,"mat-checkbox",21),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(25,"button",22),Y.Yb(26,"mat-icon"),Y.Tc(27,"attachment"),Y.Xb(),Y.Xb(),Y.Yb(28,"div",6),Y.Yb(29,"button",23,24),Y.gc("menuOpened",(function(){return Y.Hc(t),Y.kc().onChecklistMenuOpen()})),Y.Yb(31,"mat-icon"),Y.Tc(32,"check_box"),Y.Xb(),Y.Xb(),Y.Yb(33,"mat-menu",8,25),Y.Yb(35,"form",26,27),Y.gc("submit",(function(){Y.Hc(t);const e=Y.Dc(36);return Y.kc().addChecklist(e)}))("click",(function(e){return Y.Hc(t),e.stopPropagation()})),Y.Yb(37,"mat-form-field",28),Y.gc("click",(function(e){return Y.Hc(t),e.stopPropagation()})),Y.Yb(38,"mat-label"),Y.Tc(39,"Checklist title"),Y.Xb(),Y.Tb(40,"input",29,30),Y.Xb(),Y.Yb(43,"button",31),Y.Tc(44,"Add Checklist "),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(45,"div",32),Y.Yb(46,"button",13),Y.Rc(47,Ct,2,0,"mat-icon",11),Y.Rc(48,Tt,2,0,"mat-icon",11),Y.Xb(),Y.Yb(49,"mat-menu",8,33),Y.Rc(51,It,2,0,"button",34),Y.Rc(52,Ft,2,0,"button",34),Y.Xb(),Y.Xb(),Y.Yb(53,"div",35),Y.Yb(54,"button",18),Y.Yb(55,"mat-icon"),Y.Tc(56,"more_horiz"),Y.Xb(),Y.Xb(),Y.Yb(57,"mat-menu",8,36),Y.Yb(59,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.kc().removeCard()})),Y.Tc(60," Remove Card "),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(61,"button",37),Y.gc("click",(function(){return Y.Hc(t),Y.kc().matDialogRef.close()})),Y.Yb(62,"mat-icon"),Y.Tc(63,"close"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.Dc(15),e=Y.Dc(22),a=Y.Dc(34),o=Y.Dc(36),c=Y.Dc(50),i=Y.Dc(58),r=Y.kc();Y.Gb(4),Y.rc("ngIf",r.card.due),Y.Gb(1),Y.rc("overlapTrigger",!1),Y.Gb(4),Y.rc("ngIf",!r.card.due),Y.Gb(2),Y.rc("matMenuTriggerFor",t),Y.Gb(3),Y.rc("overlapTrigger",!1),Y.Gb(2),Y.rc("card",r.card),Y.Gb(2),Y.rc("matMenuTriggerFor",e),Y.Gb(3),Y.rc("overlapTrigger",!1),Y.Gb(3),Y.rc("ngForOf",r.board.members),Y.Gb(5),Y.rc("matMenuTriggerFor",a),Y.Gb(4),Y.rc("overlapTrigger",!1),Y.Gb(10),Y.rc("disabled",!o.valid),Y.Gb(3),Y.rc("matMenuTriggerFor",c),Y.Gb(1),Y.rc("ngIf",r.card.subscribed),Y.Gb(1),Y.rc("ngIf",!r.card.subscribed),Y.Gb(1),Y.rc("overlapTrigger",!1),Y.Gb(2),Y.rc("ngIf",r.card.subscribed),Y.Gb(1),Y.rc("ngIf",!r.card.subscribed),Y.Gb(2),Y.rc("matMenuTriggerFor",i),Y.Gb(3),Y.rc("overlapTrigger",!1)}}function Gt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",73),Y.Yb(1,"mat-form-field",49),Y.Yb(2,"mat-label"),Y.Tc(3,"Due Date"),Y.Xb(),Y.Yb(4,"input",38),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc(2).card.due=e})),Y.Xb(),Y.Tb(5,"mat-datepicker-toggle",39),Y.Tb(6,"mat-datepicker",null,74),Y.Xb(),Y.Xb()}if(2&t){const t=Y.Dc(7),e=Y.kc(2);Y.Gb(4),Y.rc("matDatepicker",t)("ngModel",e.card.due),Y.Gb(1),Y.rc("for",t)}}function Mt(t,e){if(1&t&&(Y.Yb(0,"mat-chip",81),Y.lc(1,"getById"),Y.Yb(2,"span"),Y.Tc(3),Y.lc(4,"getById"),Y.Xb(),Y.Xb()),2&t){const t=e.$implicit,a=Y.kc(4);Y.rc("ngClass",Y.oc(1,2,a.board.labels,t,"color")),Y.Gb(3),Y.Uc(Y.oc(4,6,a.board.labels,t,"name"))}}function St(t,e){if(1&t&&(Y.Yb(0,"div",78),Y.Yb(1,"div",60),Y.Yb(2,"mat-icon",61),Y.Tc(3,"label"),Y.Xb(),Y.Yb(4,"span",62),Y.Tc(5,"Labels"),Y.Xb(),Y.Xb(),Y.Yb(6,"div",63),Y.Yb(7,"mat-chip-list",79),Y.Rc(8,Mt,5,10,"mat-chip",80),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(3);Y.Gb(8),Y.rc("ngForOf",t.card.idLabels)}}function _t(t,e){if(1&t&&(Y.Yb(0,"div",85),Y.Tb(1,"img",86),Y.lc(2,"getById"),Y.lc(3,"getById"),Y.Xb()),2&t){const t=e.$implicit,a=Y.kc(4);Y.Gb(1),Y.rc("src",Y.oc(2,2,a.board.members,t,"avatar"),Y.Jc)("matTooltip",Y.oc(3,6,a.board.members,t,"name"))}}function Rt(t,e){if(1&t&&(Y.Yb(0,"div",82),Y.Yb(1,"div",60),Y.Yb(2,"mat-icon",61),Y.Tc(3,"supervisor_account"),Y.Xb(),Y.Yb(4,"span",62),Y.Tc(5,"Members"),Y.Xb(),Y.Xb(),Y.Yb(6,"div",63),Y.Yb(7,"div",83),Y.Rc(8,_t,4,10,"div",84),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(3);Y.Gb(8),Y.rc("ngForOf",t.card.idMembers)}}function Dt(t,e){if(1&t&&(Y.Yb(0,"div",75),Y.Rc(1,St,9,1,"div",76),Y.Rc(2,Rt,9,1,"div",77),Y.Xb()),2&t){const t=Y.kc(2);Y.Gb(1),Y.rc("ngIf",t.card.idLabels[0]),Y.Gb(1),Y.rc("ngIf",t.card.idMembers[0])}}function Ot(t,e){1&t&&(Y.Yb(0,"mat-icon",106),Y.Tc(1," star "),Y.Xb())}function Bt(t,e){1&t&&(Y.Yb(0,"span"),Y.Tc(1,"Make Cover"),Y.Xb())}function Ht(t,e){1&t&&(Y.Yb(0,"span"),Y.Tc(1,"Remove Cover"),Y.Xb())}function Nt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",95),Y.Yb(1,"div",96),Y.Tb(2,"img",97),Y.Xb(),Y.Yb(3,"div",98),Y.Yb(4,"div",99),Y.Yb(5,"div",100),Y.Yb(6,"span",101),Y.Tc(7),Y.Xb(),Y.Rc(8,Ot,2,0,"mat-icon",102),Y.Xb(),Y.Yb(9,"span",103),Y.Tc(10),Y.Xb(),Y.Xb(),Y.Yb(11,"button",104),Y.Yb(12,"mat-icon"),Y.Tc(13,"more_vert"),Y.Xb(),Y.Xb(),Y.Yb(14,"mat-menu",null,105),Y.Yb(16,"button",10),Y.gc("click",(function(){Y.Hc(t);const e=Y.kc().$implicit;return Y.kc(3).toggleCoverImage(e.id)})),Y.Rc(17,Bt,2,0,"span",11),Y.Rc(18,Ht,2,0,"span",11),Y.Xb(),Y.Yb(19,"button",10),Y.gc("click",(function(){Y.Hc(t);const e=Y.kc().$implicit;return Y.kc(3).removeAttachment(e)})),Y.Tc(20," Remove Attachment "),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.Dc(15),e=Y.kc().$implicit,a=Y.kc(3);Y.Gb(2),Y.rc("src",e.src,Y.Jc),Y.Gb(5),Y.Uc(e.name),Y.Gb(1),Y.rc("ngIf",a.card.idAttachmentCover===e.id),Y.Gb(2),Y.Uc(e.time),Y.Gb(1),Y.rc("matMenuTriggerFor",t),Y.Gb(6),Y.rc("ngIf",a.card.idAttachmentCover!==e.id),Y.Gb(1),Y.rc("ngIf",a.card.idAttachmentCover===e.id)}}function zt(t,e){if(1&t&&(Y.Yb(0,"div",107),Y.Yb(1,"div",108),Y.Yb(2,"span"),Y.Tc(3,"LINK"),Y.Xb(),Y.Xb(),Y.Yb(4,"div",109),Y.Yb(5,"span",110),Y.Tc(6),Y.Xb(),Y.Yb(7,"span",103),Y.Tc(8),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.kc().$implicit;Y.Gb(6),Y.Uc(t.url),Y.Gb(2),Y.Uc(t.time)}}function Ut(t,e){1&t&&(Y.Yb(0,"div",92),Y.Rc(1,Nt,21,7,"div",93),Y.Rc(2,zt,9,2,"div",94),Y.Xb()),2&t&&(Y.rc("ngSwitch",e.$implicit.type),Y.Gb(1),Y.rc("ngSwitchCase","image"),Y.Gb(1),Y.rc("ngSwitchCase","link"))}function $t(t,e){if(1&t&&(Y.Yb(0,"div",58),Y.Yb(1,"div",87),Y.Yb(2,"div",88),Y.Yb(3,"mat-icon",61),Y.Tc(4,"attachment"),Y.Xb(),Y.Yb(5,"span",62),Y.Tc(6,"Attachments"),Y.Xb(),Y.Xb(),Y.Yb(7,"div",63),Y.Yb(8,"div",89),Y.Rc(9,Ut,3,3,"div",90),Y.Xb(),Y.Yb(10,"button",91),Y.Tc(11," Add an attachment "),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(2);Y.Gb(9),Y.rc("ngForOf",t.card.attachments)}}function Zt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",127),Y.Yb(1,"div",5),Y.Yb(2,"mat-form-field",128),Y.Yb(3,"input",129),Y.gc("ngModelChange",(function(a){return Y.Hc(t),e.$implicit.name=a})),Y.Xb(),Y.Yb(4,"mat-checkbox",130),Y.gc("ngModelChange",(function(a){return Y.Hc(t),e.$implicit.checked=a}))("change",(function(){Y.Hc(t);const e=Y.kc().$implicit;return Y.kc(2).updateCheckedCount(e)})),Y.Xb(),Y.Yb(5,"button",131),Y.gc("click",(function(){Y.Hc(t);const a=e.$implicit,o=Y.kc().$implicit;return Y.kc(2).removeChecklistItem(a,o)})),Y.Yb(6,"mat-icon",132),Y.Tc(7,"delete"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=e.$implicit;Y.Gb(3),Y.rc("ngModel",t.name),Y.Gb(1),Y.sc("aria-label",t.name),Y.rc("ngModel",t.checked)}}function Pt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",58),Y.Yb(1,"div",111),Y.Yb(2,"div",60),Y.Yb(3,"mat-icon",61),Y.Tc(4,"check_box"),Y.Xb(),Y.Yb(5,"span",112),Y.Tc(6),Y.Xb(),Y.Yb(7,"div"),Y.Yb(8,"button",113),Y.Yb(9,"mat-icon",47),Y.Tc(10,"more_vert"),Y.Xb(),Y.Xb(),Y.Yb(11,"mat-menu",null,114),Y.Yb(13,"button",10),Y.gc("click",(function(){Y.Hc(t);const a=e.$implicit;return Y.kc(2).removeChecklist(a)})),Y.Yb(14,"mat-icon"),Y.Tc(15,"delete"),Y.Xb(),Y.Yb(16,"span"),Y.Tc(17,"Remove Checklist"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(18,"div",63),Y.Yb(19,"div",115),Y.Yb(20,"span",116),Y.Tc(21),Y.Xb(),Y.Tb(22,"mat-progress-bar",117),Y.Xb(),Y.Yb(23,"div",118),Y.Rc(24,Zt,8,3,"div",119),Y.Xb(),Y.Yb(25,"form",120,121),Y.gc("submit",(function(){Y.Hc(t);const a=e.$implicit,o=Y.Dc(26);return Y.kc(2).addCheckItem(o,a)})),Y.Yb(27,"div",122),Y.Yb(28,"mat-form-field",123),Y.Tb(29,"input",124,125),Y.Xb(),Y.Xb(),Y.Yb(31,"button",126),Y.Yb(32,"mat-icon"),Y.Tc(33,"add"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=e.$implicit,a=Y.Dc(12),o=Y.Dc(26);Y.Gb(6),Y.Uc(t.name),Y.Gb(2),Y.rc("matMenuTriggerFor",a),Y.Gb(13),Y.Wc(" ",t.checkItemsChecked," / ",t.checkItems.length," "),Y.Gb(1),Y.sc("value",100*t.checkItemsChecked/t.checkItems.length),Y.Gb(2),Y.rc("ngForOf",t.checkItems),Y.Gb(7),Y.rc("disabled",!o.valid||o.pristine)}}function Vt(t,e){if(1&t&&(Y.Yb(0,"div",133),Y.Tb(1,"img",134),Y.lc(2,"getById"),Y.Yb(3,"div",135),Y.Yb(4,"div",136),Y.Tc(5),Y.lc(6,"getById"),Y.Xb(),Y.Yb(7,"div",137),Y.Tc(8),Y.Xb(),Y.Yb(9,"div",138),Y.Tc(10),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=e.$implicit,a=Y.kc(2);Y.Gb(1),Y.rc("src",Y.oc(2,4,a.board.members,t.idMember,"avatar"),Y.Jc),Y.Gb(4),Y.Vc(" ",Y.oc(6,8,a.board.members,t.idMember,"name")," "),Y.Gb(3),Y.Uc(t.message),Y.Gb(2),Y.Uc(t.time)}}function qt(t,e){if(1&t&&(Y.Yb(0,"div",141),Y.Tb(1,"img",142),Y.lc(2,"getById"),Y.Yb(3,"div"),Y.Yb(4,"div",42),Y.Yb(5,"div",143),Y.Tc(6),Y.lc(7,"getById"),Y.Xb(),Y.Yb(8,"div",144),Y.Tc(9),Y.Xb(),Y.Xb(),Y.Yb(10,"div",145),Y.Tc(11),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=e.$implicit,a=Y.kc(3);Y.Gb(1),Y.rc("src",Y.oc(2,4,a.board.members,t.idMember,"avatar"),Y.Jc),Y.Gb(5),Y.Vc(" ",Y.oc(7,8,a.board.members,t.idMember,"name")," "),Y.Gb(3),Y.Uc(t.message),Y.Gb(2),Y.Uc(t.time)}}function jt(t,e){if(1&t&&(Y.Yb(0,"div",58),Y.Yb(1,"div",139),Y.Yb(2,"div",60),Y.Yb(3,"mat-icon",61),Y.Tc(4,"list"),Y.Xb(),Y.Yb(5,"span",62),Y.Tc(6,"Activity"),Y.Xb(),Y.Xb(),Y.Yb(7,"div",63),Y.Rc(8,qt,12,12,"div",140),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(2);Y.Gb(8),Y.rc("ngForOf",t.card.activities)}}function Wt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",45),Y.Yb(1,"div",46),Y.Yb(2,"span"),Y.Tc(3),Y.Xb(),Y.Yb(4,"mat-icon",47),Y.Tc(5,"chevron_right"),Y.Xb(),Y.Yb(6,"span"),Y.Tc(7),Y.Xb(),Y.Xb(),Y.Yb(8,"div",42),Y.Yb(9,"div",48),Y.Yb(10,"mat-form-field",49),Y.Yb(11,"mat-label"),Y.Tc(12,"Title"),Y.Xb(),Y.Yb(13,"input",50),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().card.name=e}))("change",(function(){return Y.Hc(t),Y.kc().updateCard()})),Y.Xb(),Y.Xb(),Y.Xb(),Y.Rc(14,Gt,8,3,"div",51),Y.Xb(),Y.Yb(15,"div",52),Y.Yb(16,"mat-form-field",49),Y.Yb(17,"mat-label"),Y.Tc(18,"Description"),Y.Xb(),Y.Yb(19,"textarea",53),Y.gc("ngModelChange",(function(e){return Y.Hc(t),Y.kc().card.description=e}))("change",(function(){return Y.Hc(t),Y.kc().updateCard()})),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(20,"div",54),Y.Rc(21,Dt,3,2,"div",55),Y.Rc(22,$t,12,1,"div",56),Y.Rc(23,Pt,34,7,"div",57),Y.Yb(24,"div",58),Y.Yb(25,"div",59),Y.Yb(26,"div",60),Y.Yb(27,"mat-icon",61),Y.Tc(28,"comment"),Y.Xb(),Y.Yb(29,"span",62),Y.Tc(30,"Comments"),Y.Xb(),Y.Xb(),Y.Yb(31,"div",63),Y.Yb(32,"form",64,65),Y.gc("submit",(function(){Y.Hc(t);const e=Y.Dc(33);return Y.kc().addNewComment(e)})),Y.Yb(34,"div",66),Y.Tb(35,"img",67),Y.Yb(36,"mat-form-field",68),Y.Yb(37,"mat-label"),Y.Tc(38,"Comment"),Y.Xb(),Y.Tb(39,"input",69,70),Y.Xb(),Y.Yb(41,"button",71),Y.Yb(42,"mat-icon"),Y.Tc(43,"add"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Rc(44,Vt,11,12,"div",72),Y.Xb(),Y.Xb(),Y.Xb(),Y.Rc(45,jt,9,1,"div",56),Y.Xb(),Y.Xb()}if(2&t){const t=Y.Dc(33),e=Y.kc();Y.Gb(3),Y.Uc(e.board.name),Y.Gb(4),Y.Uc(e.list.name),Y.Gb(6),Y.rc("ngModel",e.card.name),Y.Gb(1),Y.rc("ngIf",e.card.due),Y.Gb(5),Y.rc("ngModel",e.card.description),Y.Gb(2),Y.rc("ngIf",e.card.idLabels[0]||e.card.idMembers[0]),Y.Gb(1),Y.rc("ngIf",e.card.attachments[0]),Y.Gb(1),Y.rc("ngForOf",e.card.checklists),Y.Gb(18),Y.rc("disabled",!t.valid||t.pristine),Y.Gb(3),Y.rc("ngForOf",e.card.comments),Y.Gb(1),Y.rc("ngIf",e.card.activities[0])}}let Jt=(()=>{class t{constructor(t,e,a,o){this.matDialogRef=t,this._data=e,this._matDialog=a,this._scrumboardService=o,this.toggleInArray=A.a.toggleInArray,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t,this.card=this.board.cards.find(t=>this._data.cardId===t.id),this.list=this.board.lists.find(t=>this._data.listId===t.id)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}removeDueDate(){this.card.due="",this.updateCard()}toggleSubscribe(){this.card.subscribed=!this.card.subscribed,this.updateCard()}toggleCoverImage(t){this.card.idAttachmentCover=this.card.idAttachmentCover===t?"":t,this.updateCard()}removeAttachment(t){t.id===this.card.idAttachmentCover&&(this.card.idAttachmentCover=""),this.card.attachments.splice(this.card.attachments.indexOf(t),1),this.updateCard()}removeChecklist(t){this.card.checklists.splice(this.card.checklists.indexOf(t),1),this.updateCard()}updateCheckedCount(t){const e=t.checkItems;let a=0,o=0,c=0;for(const i of e)i.checked&&a++;t.checkItemsChecked=a;for(const i of this.card.checklists)c+=i.checkItems.length,o+=i.checkItemsChecked;this.card.checkItems=c,this.card.checkItemsChecked=o,this.updateCard()}removeChecklistItem(t,e){e.checkItems.splice(e.checkItems.indexOf(t),1),this.updateCheckedCount(e),this.updateCard()}addCheckItem(t,e){const a=t.value.checkItem;a&&""!==a&&(e.checkItems.push({name:a,checked:!1}),this.updateCheckedCount(e),t.setValue({checkItem:""}),this.updateCard())}addChecklist(t){this.card.checklists.push({id:A.a.generateGUID(),name:t.value.checklistTitle,checkItemsChecked:0,checkItems:[]}),t.setValue({checklistTitle:""}),t.resetForm(),this.checklistMenu.closeMenu(),this.updateCard()}onChecklistMenuOpen(){setTimeout(()=>{this.newCheckListTitleField.nativeElement.focus()})}addNewComment(t){this.card.comments.unshift({idMember:"36027j1930450d8bf7b10158",message:t.value.newComment,time:"now"}),t.setValue({newComment:""}),this.updateCard()}removeCard(){this.confirmDialogRef=this._matDialog.open(lt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the card?",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&(this.matDialogRef.close(),this._scrumboardService.removeCard(this.card.id,this.list.id))})}updateCard(){this._scrumboardService.updateCard(this.card)}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(d.f),Y.Sb(d.a),Y.Sb(d.b),Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-card-dialog"]],viewQuery:function(t,e){var a;1&t&&(Y.Xc(kt,!0),Y.Xc(Xt,!0)),2&t&&(Y.Cc(a=Y.hc())&&(e.checklistMenu=a.first),Y.Cc(a=Y.hc())&&(e.newCheckListTitleField=a.first))},decls:3,vars:2,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","","class","accent m-0","fxFlex","1 0 auto","fxLayout","row",4,"ngIf"],["mat-dialog-content","","class","py-24 px-0 m-0","fusePerfectScrollbar","",4,"ngIf"],["matDialogTitle","","fxFlex","1 0 auto","fxLayout","row",1,"accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","0 1 auto",1,"due-date"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["dueDateMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto",1,"labels"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"scrumboard-labels-menu",3,"overlapTrigger"],["labelsMenu","matMenu"],[3,"card","cardLabelsChanged"],["fxFlex","0 1 auto",1,"members"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["membersMenu","matMenu"],["fxFlex","","fxLayout","column",1,"scrumboard-members-menu",3,"click"],["class","member px-16",3,"checked","change",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Attachment"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","menuOpened"],["checklistMenuTrigger","matMenuTrigger"],["checklistMenu","matMenu"],["fxLayout","column","fxLayoutAlign","start end",1,"px-16","py-8",3,"submit","click"],["newChecklistForm","ngForm"],["appearance","outline","fxFlex","",3,"click"],["matInput","","ngModel","","name","checklistTitle","required",""],["newCheckListTitleField","","checklistTitle","ngModel"],["mat-raised-button","","aria-label","Add Checklist",1,"mat-accent",3,"disabled"],["fxFlex","0 1 auto",1,"subscribe"],["subscribeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["fxFlex","0 1 auto",1,"options"],["optionsMenu","matMenu"],["mat-icon-button","","aria-label","Close Dialog",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["menuPicker",""],[1,"member","px-16",3,"checked","change"],["fxLayout","row","fxLayoutAlign","start center"],[1,"avatar",3,"alt","src"],[1,"member-name"],["mat-dialog-content","","fusePerfectScrollbar","",1,"py-24","px-0","m-0"],["fxLayout","row","fxLayoutAlign","start center",1,"card-breadcrumb","mt-8","mb-32","px-24"],[1,"s-20"],["fxLayout","row","fxLayoutAlign","start center",1,"card-name","px-24"],["appearance","outline",1,"w-100-p"],["matInput","","required","",3,"ngModel","ngModelChange","change"],["class","due-date px-24 pl-0","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[1,"description","px-24","mb-16"],["matInput","","columns","1","mat-maxlength","150","max-rows","4",3,"ngModel","ngModelChange","change"],[1,"sections"],["class","section","fxLayout","column","fxLayout.gt-xs","row",4,"ngIf"],["class","section",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"comments"],["fxLayout","row","fxLayoutAlign","start center",1,"section-header"],[1,"mr-8"],[1,"section-title"],[1,"section-content"],["name","cardCommentForm","fxLayout","column","fxLayoutAlign","start","no-validate","",1,"comment","new-comment",3,"submit"],["newCommentForm","ngForm"],["fxLayout","row","fxLayoutAlign","center center"],["src","assets/images/avatars/profile.jpg",1,"comment-member-avatar"],["appearance","outline","fxFlex","",1,"mr-12"],["matInput","","name","newComment","ngModel","","required",""],["newComment","ngModel"],["mat-mini-fab","","aria-label","Add",1,"mat-accent",3,"disabled"],["class","comment","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"due-date","px-24","pl-0"],["picker",""],["fxLayout","column","fxLayout.gt-xs","row",1,"section"],["fxFlex","","class","labels",4,"ngIf"],["fxFlex","","class","members",4,"ngIf"],["fxFlex","",1,"labels"],[1,"label-chips"],["class","label-chip mb-4","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"label-chip","mb-4",3,"ngClass"],["fxFlex","",1,"members"],["fxLayout","row","fxLayoutWrap","",1,"member-chips"],["class","member-chip mb-4","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-chip","mb-4"],[1,"member-chip-avatar",3,"src","matTooltip"],[1,"attachments"],["fxLayout","row","fxLayoutAlign","start",1,"section-header"],["fxLayout","column","fxLayoutAlign","start","fxLayoutWrap","","fxLayout.gt-sm","row"],["class","attachment","fxFlex","33",3,"ngSwitch",4,"ngFor","ngForOf"],["mat-stroked-button","","aria-label","add attachment",1,"add-attachment-button"],["fxFlex","33",1,"attachment",3,"ngSwitch"],["fxLayout","column","fxLayoutAlign","start",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout","column","fxLayoutAlign","start"],[1,"attachment-preview","mat-elevation-z1"],[3,"src"],["fxLayout","row","fxLayoutAlign","start center",1,"attachment-content","mt-8"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","start start"],[1,"attachment-name"],["class","yellow-700-fg attachment-is-cover",4,"ngIf"],[1,"attachment-time"],["mat-icon-button","",1,"attachment-actions-button",3,"matMenuTriggerFor"],["attachmentActionsMenu","matMenu"],[1,"yellow-700-fg","attachment-is-cover"],["fxLayout","row"],["fxLayout","column","fxLayoutAlign","center center",1,"attachment-preview","mat-elevation-z2"],["fxLayout","column",1,"attachment-content"],[1,"attachment-url"],[1,"checklist"],["fxFlex","",1,"section-title"],["mat-icon-button","",1,"checklist-actions-button",3,"matMenuTriggerFor"],["checklistActionsMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start center",1,"checklist-progress"],[1,"checklist-progress-value"],["color","accent","mode","determinate",1,"checklist-progressbar",3,"value"],[1,"check-items"],["class","check-item","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["name","newCheckItemForm","fxLayout","row","fxLayoutAlign","start center",1,"new-check-item-form",3,"submit"],["newCheckItemForm","ngForm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["appearance","outline","fxFlex","",1,"no-errors-spacer","mr-16"],["matInput","","ngModel","","name","checkItem","autocomplete","off","placeholder","New checklist item"],["checkItem","ngModel"],["mat-mini-fab","","color","accent","aria-label","Add",3,"disabled"],["fxLayout","row","fxLayoutAlign","space-between center",1,"check-item"],["appearance","outline","fxFlex",""],["matInput","",3,"ngModel","ngModelChange"],["matPrefix","",3,"ngModel","aria-label","ngModelChange","change"],["mat-icon-button","","matSuffix","",1,"checklist-actions-button",3,"click"],[1,"secondary-text"],["fxLayout","row","fxLayoutAlign","start center",1,"comment"],[1,"comment-member-avatar",3,"src"],["fxLayout","column"],[1,"comment-member-name"],[1,"comment-bubble"],[1,"comment-time","secondary-text"],[1,"activities"],["class","activity","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"activity"],[1,"activity-member-avatar",3,"src"],[1,"activity-member-name"],[1,"activity-message"],[1,"activity-time","mt-4","secondary-text"]],template:function(t,e){1&t&&(Y.Yb(0,"div",0),Y.Rc(1,At,64,20,"mat-toolbar",1),Y.Rc(2,Wt,46,11,"div",2),Y.Xb()),2&t&&(Y.Gb(1),Y.rc("ngIf",e.card),Y.Gb(1),Y.rc("ngIf",e.card))},directives:[D.t,h.a,d.g,_.b,_.e,_.d,g.d,g.a,c.b,g.c,m.a,vt,D.s,P.x,P.q,P.r,b.c,b.g,l.b,P.c,P.p,P.s,P.v,s.b,s.d,b.i,s.a,i.a,d.d,R.a,r.c,r.a,D.q,Z.a,x.a,D.x,D.y,f.a,b.h],pipes:[wt.a],styles:["@media screen and (max-width:599px){.scrumboard-card-dialog{width:100%}}@media screen and (min-width:600px){.scrumboard-card-dialog{width:720px}}.scrumboard-card-dialog .mat-dialog-container{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field{width:auto;margin:0 8px}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{align-items:center}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content{position:relative}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-breadcrumb{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-subscribe{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .picker{width:140px;min-width:140px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{width:100%;font-size:22px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{font-size:14px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section{border-bottom:1px solid;padding:0 24px;margin-bottom:32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child{border-bottom:none;margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child .section-content{padding-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header{font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header .section-title{font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-content{padding:24px 16px 32px 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip{display:block}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip{margin:4px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .member-chip-avatar{width:32px;border-radius:50%}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment{padding:0 24px 24px 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{font-weight:600;border-radius:4px;overflow:hidden}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-name,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-url{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-is-cover{margin-left:6px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button mat-icon{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress{margin:0 0 16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress .checklist-progress-value{margin-right:12px;font-weight:600;white-space:nowrap;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .editable-wrap{flex:1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox{position:relative;top:-5px;margin:0 12px 0 3px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox .mat-label{font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox.mat-checked .mat-label{text-decoration:line-through}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item .checklist-actions-button{position:relative;top:2px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form{margin:32px 0 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-name{font-size:14px;font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-time{font-size:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble{position:relative;padding:8px 12px;border:1px solid;font-size:14px;margin:6px 0;border-radius:20px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-name{font-size:14px;font-weight:600;margin-right:5px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-message{font-size:14px;margin-right:8px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-time{font-size:12px}.scrumboard-card-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.scrumboard-members-menu{width:240px}.scrumboard-members-menu .mat-checkbox-label,.scrumboard-members-menu .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid}"],encapsulation:2}),t})();const Qt=["nameInput"];function Et(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",2),Y.gc("click",(function(){return Y.Hc(t),Y.kc().openForm()})),Y.Tc(1),Y.Xb()}if(2&t){const t=Y.kc();Y.Gb(1),Y.Vc(" ",t.list.name,"\n")}}function Kt(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"form",3),Y.gc("ngSubmit",(function(){return Y.Hc(t),Y.kc().onFormSubmit()})),Y.Tb(1,"input",4,5),Y.Yb(3,"button",6),Y.Yb(4,"mat-icon"),Y.Tc(5,"check"),Y.Xb(),Y.Xb(),Y.Yb(6,"button",7),Y.gc("click",(function(){return Y.Hc(t),Y.kc().closeForm()})),Y.Yb(7,"mat-icon"),Y.Tc(8,"close"),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.rc("formGroup",t.form)}}let te=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.listNameChanged=new Y.o}openForm(){this.form=this._formBuilder.group({name:[this.list.name]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.list.name=this.form.getRawValue().name,this.listNameChanged.next(this.list.name),this.formActive=!1)}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(P.d))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-edit-list-name"]],viewQuery:function(t,e){var a;1&t&&Y.Xc(Qt,!0),2&t&&Y.Cc(a=Y.hc())&&(e.nameInputField=a.first)},inputs:{list:"list"},outputs:{listNameChanged:"listNameChanged"},decls:2,vars:2,consts:[["fxFlex","1 0 auto","class","list-header-name",3,"click",4,"ngIf"],["class","list-header-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto",1,"list-header-name",3,"click"],["fxLayout","row","fxFlex","1 0 auto",1,"list-header-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(Y.Rc(0,Et,2,1,"div",0),Y.Rc(1,Kt,9,1,"form",1)),2&t&&(Y.rc("ngIf",!e.formActive),Y.Gb(1),Y.rc("ngIf",e.formActive))},directives:[D.t,_.b,P.x,P.q,_.e,P.i,P.c,P.p,P.g,c.b,m.a],styles:["scrumboard-board-edit-list-name .list-header-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;cursor:pointer}"],encapsulation:2}),t})();const ee=["nameInput"];function ae(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",2),Y.gc("click",(function(){return Y.Hc(t),Y.kc().openForm()})),Y.Yb(1,"mat-icon",3),Y.Tc(2,"add"),Y.Xb(),Y.Yb(3,"div"),Y.Tc(4,"Add a card"),Y.Xb(),Y.Xb()}}function oe(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"div",4),Y.Yb(1,"form",5),Y.gc("submit",(function(){return Y.Hc(t),Y.kc().onFormSubmit()})),Y.Yb(2,"mat-form-field",6),Y.Tb(3,"input",7,8),Y.Xb(),Y.Yb(5,"div",9),Y.Yb(6,"button",10),Y.Yb(7,"span"),Y.Tc(8,"Add"),Y.Xb(),Y.Xb(),Y.Yb(9,"button",11),Y.gc("click",(function(){return Y.Hc(t),Y.kc().closeForm()})),Y.Yb(10,"mat-icon"),Y.Tc(11,"close"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb()}if(2&t){const t=Y.kc();Y.Gb(1),Y.rc("formGroup",t.form),Y.Gb(5),Y.rc("disabled",t.form.invalid)}}let ce=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.cardAdded=new Y.o}openForm(){this.form=this._formBuilder.group({name:""}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){if(this.form.valid){const t=this.form.getRawValue().name;this.cardAdded.next(t),this.formActive=!1}}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(P.d))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-add-card"]],viewQuery:function(t,e){var a;1&t&&Y.Xc(ee,!0),2&t&&Y.Cc(a=Y.hc())&&(e.nameInputField=a.first)},outputs:{cardAdded:"cardAdded"},decls:2,vars:2,consts:[["class","add-card-button","fxLayout","row","fxLayoutAlign","start center",3,"click",4,"ngIf"],["class","add-card-form-wrapper",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"add-card-button",3,"click"],[1,"s-20"],[1,"add-card-form-wrapper"],["fxLayout","column",1,"add-card-form",3,"formGroup","submit"],["fxFlex","","floatLabel","never"],["matInput","","formControlName","name","placeholder","Card title","autocomplete","off","required",""],["nameInput",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"pl-8"],["mat-raised-button","","aria-label","add",1,"add-button","mat-accent",3,"disabled"],["mat-icon-button","","aria-label","cancel",1,"cancel-button",3,"click"]],template:function(t,e){1&t&&(Y.Rc(0,ae,5,0,"div",0),Y.Rc(1,oe,12,2,"div",1)),2&t&&(Y.rc("ngIf",!e.formActive),Y.Gb(1),Y.rc("ngIf",e.formActive))},directives:[D.t,_.e,_.d,m.a,P.x,P.q,P.i,b.c,_.b,l.b,P.c,P.p,P.g,P.v,c.b],styles:["scrumboard-board-add-card .add-card-button{position:relative;height:48px;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:600;font-size:14px;cursor:pointer;border-radius:2px}scrumboard-board-add-card .add-card-button mat-icon{margin-right:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form{z-index:999;display:block;position:relative;padding:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form mat-form-field{width:100%;margin:0;padding:12px 8px}"],encapsulation:2}),t})();var ie=a("wd/R");function re(t,e){if(1&t&&(Y.Yb(0,"div",12),Y.Tb(1,"img",13),Y.lc(2,"getById"),Y.Xb()),2&t){const t=Y.kc();Y.Gb(1),Y.rc("src",Y.oc(2,1,t.card.attachments,t.card.idAttachmentCover,"src"),Y.Jc)}}function ne(t,e){if(1&t&&(Y.Tb(0,"span",16),Y.lc(1,"getById"),Y.lc(2,"getById")),2&t){const t=e.$implicit,a=Y.kc(2);Y.rc("ngClass",Y.oc(1,2,a.board.labels,t,"color"))("matTooltip",Y.oc(2,6,a.board.labels,t,"name"))}}function se(t,e){if(1&t&&(Y.Yb(0,"div",14),Y.Rc(1,ne,3,10,"span",15),Y.Xb()),2&t){const t=Y.kc();Y.Gb(1),Y.rc("ngForOf",t.card.idLabels)}}const de=function(t){return{overdue:t}};function be(t,e){if(1&t&&(Y.Yb(0,"span",20),Y.Yb(1,"mat-icon",21),Y.Tc(2,"access_time"),Y.Xb(),Y.Yb(3,"span"),Y.Tc(4),Y.lc(5,"date"),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(2);Y.rc("ngClass",Y.uc(5,de,t.isOverdue(t.card.due))),Y.Gb(4),Y.Uc(Y.nc(5,2,t.card.due,"mediumDate"))}}const me=function(t){return{completed:t}};function le(t,e){if(1&t&&(Y.Yb(0,"span",22),Y.Yb(1,"mat-icon",21),Y.Tc(2,"check_circle"),Y.Xb(),Y.Yb(3,"span"),Y.Tc(4),Y.Xb(),Y.Yb(5,"span"),Y.Tc(6,"/"),Y.Xb(),Y.Yb(7,"span"),Y.Tc(8),Y.Xb(),Y.Xb()),2&t){const t=Y.kc(2);Y.rc("ngClass",Y.uc(3,me,t.card.checkItemsChecked===t.card.checkItems)),Y.Gb(4),Y.Uc(t.card.checkItemsChecked),Y.Gb(4),Y.Uc(t.card.checkItems)}}function ue(t,e){if(1&t&&(Y.Yb(0,"div",17),Y.Rc(1,be,6,7,"span",18),Y.Rc(2,le,9,5,"span",19),Y.Xb()),2&t){const t=Y.kc();Y.Gb(1),Y.rc("ngIf",t.card.due),Y.Gb(1),Y.rc("ngIf",t.card.checkItems)}}function ge(t,e){if(1&t&&(Y.Yb(0,"div",25),Y.Tb(1,"img",26),Y.lc(2,"getById"),Y.lc(3,"getById"),Y.Xb()),2&t){const t=e.$implicit,a=Y.kc(2);Y.Gb(1),Y.rc("src",Y.oc(2,2,a.board.members,t,"avatar"),Y.Jc)("matTooltip",Y.oc(3,6,a.board.members,t,"name"))}}function fe(t,e){if(1&t&&(Y.Yb(0,"div",23),Y.Rc(1,ge,4,10,"div",24),Y.Xb()),2&t){const t=Y.kc();Y.Gb(1),Y.rc("ngForOf",t.card.idMembers)}}function pe(t,e){1&t&&(Y.Yb(0,"span",27),Y.Yb(1,"mat-icon",28),Y.Tc(2,"remove_red_eye"),Y.Xb(),Y.Xb())}function he(t,e){1&t&&(Y.Yb(0,"span",27),Y.Yb(1,"mat-icon",28),Y.Tc(2,"description"),Y.Xb(),Y.Xb())}function xe(t,e){if(1&t&&(Y.Yb(0,"span",27),Y.Yb(1,"mat-icon",28),Y.Tc(2,"attachment"),Y.Xb(),Y.Yb(3,"span",29),Y.Tc(4),Y.Xb(),Y.Xb()),2&t){const t=Y.kc();Y.Gb(4),Y.Uc(t.card.attachments.length)}}function ve(t,e){if(1&t&&(Y.Yb(0,"span",27),Y.Yb(1,"mat-icon",28),Y.Tc(2,"comment"),Y.Xb(),Y.Yb(3,"span",29),Y.Tc(4),Y.Xb(),Y.Xb()),2&t){const t=Y.kc();Y.Gb(4),Y.Uc(t.card.comments.length)}}let we=(()=>{class t{constructor(t){this._activatedRoute=t}ngOnInit(){this.board=this._activatedRoute.snapshot.data.board,this.card=this.board.cards.filter(t=>this.cardId===t.id)[0]}isOverdue(t){return ie()>ie(new Date(t))}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(o.a))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-card"]],inputs:{cardId:"cardId"},decls:16,vars:9,consts:[["class","list-card-cover",4,"ngIf"],[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["class","list-card-labels","fxLayout","row wrap",4,"ngIf"],[1,"list-card-name"],["class","list-card-badges","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","list-card-members","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer"],["fxLayout","row","fxLayoutAlign","start center"],["class","list-card-footer-item","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-cover"],[3,"src"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-label",3,"ngClass","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-badges"],["class","badge due-date","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["class","badge check-items","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","due-date",3,"ngClass"],[1,"s-16"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","check-items",3,"ngClass"],["fxLayout","row",1,"list-card-members"],["class","list-card-member",4,"ngFor","ngForOf"],[1,"list-card-member"],[1,"list-card-member-avatar",3,"src","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-footer-item"],[1,"s-18"],[1,"value"]],template:function(t,e){1&t&&(Y.Rc(0,re,3,5,"div",0),Y.Yb(1,"div",1),Y.Yb(2,"div",2),Y.Tb(3,"mat-icon",3),Y.Xb(),Y.Rc(4,se,2,1,"div",4),Y.Yb(5,"div",5),Y.Tc(6),Y.Xb(),Y.Rc(7,ue,3,2,"div",6),Y.Rc(8,fe,2,1,"div",7),Y.Xb(),Y.Yb(9,"div",8),Y.Yb(10,"div",9),Y.Rc(11,pe,3,0,"span",10),Y.Rc(12,he,3,0,"span",10),Y.Xb(),Y.Yb(13,"div",11),Y.Rc(14,xe,5,1,"span",10),Y.Rc(15,ve,5,1,"span",10),Y.Xb(),Y.Xb()),2&t&&(Y.rc("ngIf",e.board.settings.cardCoverImages&&e.card.idAttachmentCover),Y.Gb(4),Y.rc("ngIf",e.card.idLabels.length>0),Y.Gb(2),Y.Uc(e.card.name),Y.Gb(1),Y.rc("ngIf",e.card.due||e.card.checkItems),Y.Gb(1),Y.rc("ngIf",e.card.idMembers.length>0),Y.Gb(3),Y.rc("ngIf",e.card.subscribed),Y.Gb(1),Y.rc("ngIf",""!==e.card.description),Y.Gb(2),Y.rc("ngIf",e.card.attachments),Y.Gb(1),Y.rc("ngIf",e.card.comments))},directives:[D.t,m.a,_.e,_.d,D.s,D.q,Z.a,x.a],pipes:[wt.a,D.f],styles:['scrumboard-board-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}scrumboard-board-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}scrumboard-board-card .list-card-details{padding:16px 16px 0}scrumboard-board-card .list-card-details .list-card-labels{margin-bottom:6px}scrumboard-board-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}scrumboard-board-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges .badge{margin-right:8px;padding:4px 8px;border-radius:2px}scrumboard-board-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}scrumboard-board-card .list-card-details .list-card-members{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-members .list-card-member{margin-right:8px}scrumboard-board-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}scrumboard-board-card .list-card-footer{border-top:1px solid;padding:0 16px}scrumboard-board-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}scrumboard-board-card .list-card-footer .list-card-footer-item .value{padding-left:8px}scrumboard-board-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}scrumboard-board-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-card.gu-hide{display:none!important}scrumboard-board-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),t})();function ke(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"scrumboard-board-card",13),Y.gc("click",(function(){Y.Hc(t);const a=e.$implicit;return Y.kc().openCardDialog(a)})),Y.Xb()}if(2&t){const t=e.$implicit;Y.rc("model",t)("cardId",t)}}let Xe=(()=>{class t{constructor(t,e,a){this._activatedRoute=t,this._scrumboardService=e,this._matDialog=a,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onListNameChanged(t){this.list.name=t}onCardAdd(t){""!==t&&(this._scrumboardService.addCard(this.list.id,new ut({name:t})),setTimeout(()=>{this.listScroll.scrollToBottom(0,400)}))}removeList(t){this.confirmDialogRef=this._matDialog.open(lt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the list and it's all cards?",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this._scrumboardService.removeList(t)})}openCardDialog(t){this.dialogRef=this._matDialog.open(Jt,{panelClass:"scrumboard-card-dialog",data:{cardId:t,listId:this.list.id}}),this.dialogRef.afterClosed().subscribe(t=>{})}onDrop(t){this._scrumboardService.updateBoard()}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(o.a),Y.Sb(L),Y.Sb(d.b))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board-list"]],viewQuery:function(t,e){var a;1&t&&Y.Xc(R.a,!0),2&t&&Y.Cc(a=Y.hc())&&(e.listScroll=a.first)},inputs:{list:"list"},decls:17,vars:4,consts:[["fxLayout","column",1,"list","mat-elevation-z1"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",1,"list-header"],["fxFlex","1 0 auto",3,"list","listNameChanged"],["fxFlex","0 1 auto"],["mat-icon-button","",1,"list-header-option-button",3,"matMenuTriggerFor"],["listMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","column",1,"list-content"],["ngxDroppable","card","fusePerfectScrollbar","",1,"list-cards","ngx-dnd-container",3,"model","out"],["listScroll",""],["ngxDraggable","","class","scrumboard-board-card ngx-dnd-item",3,"model","cardId","click",4,"ngFor","ngForOf"],[1,"list-footer"],[3,"cardAdded"],["ngxDraggable","",1,"scrumboard-board-card","ngx-dnd-item",3,"model","cardId","click"]],template:function(t,e){if(1&t&&(Y.Yb(0,"div",0),Y.Yb(1,"div",1),Y.Yb(2,"scrumboard-board-edit-list-name",2),Y.gc("listNameChanged",(function(t){return e.onListNameChanged(t)})),Y.Xb(),Y.Yb(3,"div",3),Y.Yb(4,"button",4),Y.Yb(5,"mat-icon"),Y.Tc(6,"more_vert"),Y.Xb(),Y.Xb(),Y.Yb(7,"mat-menu",null,5),Y.Yb(9,"button",6),Y.gc("click",(function(){return e.removeList(e.list.id)})),Y.Tc(10,"Remove List"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(11,"div",7),Y.Yb(12,"div",8,9),Y.gc("out",(function(t){return e.onDrop(t)})),Y.Rc(14,ke,1,2,"scrumboard-board-card",10),Y.Xb(),Y.Xb(),Y.Yb(15,"div",11),Y.Yb(16,"scrumboard-board-add-card",12),Y.gc("cardAdded",(function(t){return e.onCardAdd(t)})),Y.Xb(),Y.Xb(),Y.Xb()),2&t){const t=Y.Dc(8);Y.Gb(2),Y.rc("list",e.list),Y.Gb(2),Y.rc("matMenuTriggerFor",t),Y.Gb(8),Y.rc("model",e.list.idCards),Y.Gb(2),Y.rc("ngForOf",e.list.idCards)}},directives:[_.e,_.b,_.d,te,c.b,g.c,m.a,g.d,g.a,v.c,R.a,D.s,ce,we,v.b],styles:['scrumboard-board-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}scrumboard-board-list .list{max-height:100%;border-radius:2px;transition:box-shadow .15s ease}scrumboard-board-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){scrumboard-board-list .list .list-header{height:48px;min-height:48px}}scrumboard-board-list .list .list-content{position:relative;min-height:0;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}scrumboard-board-list .list .list-content .list-cards{position:relative;min-height:32px;padding:0 16px}scrumboard-board-list .list .list-footer{display:flex;flex-direction:column;flex:1 0 auto;border-top:1px solid;min-height:48px}scrumboard-board-list .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-list.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}scrumboard-board-list.gu-mirror>.list{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-list.gu-hide{display:none!important}scrumboard-board-list.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-list.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),t})();function Ye(t,e){1&t&&(Y.Yb(0,"mat-icon",17),Y.Tc(1,"remove_red_eye"),Y.Xb())}const ye=function(){return{duration:"350ms",x:"100%"}},Le=function(t){return{value:"*",params:t}};function Ce(t,e){if(1&t&&Y.Tb(0,"scrumboard-board-list",18),2&t){const t=e.$implicit;Y.rc("model",t)("list",t)("@animate",Y.uc(4,Le,Y.tc(3,ye)))}}const Te=function(){return{value:"50"}},Ie=[{path:"boards",component:U,resolve:{scrumboard:L}},{path:"boards/:boardId/:boardUri",component:(()=>{class t{constructor(t,e,a){this._activatedRoute=t,this._location=e,this._scrumboardService=a,this._unsubscribeAll=new T.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onListAdd(t){""!==t&&this._scrumboardService.addList(new $({name:t}))}onBoardNameChanged(t){this._scrumboardService.updateBoard(),this._location.go("/apps/scrumboard/boards/"+this.board.id+"/"+this.board.uri)}onDrop(t){this._scrumboardService.updateBoard()}}return t.\u0275fac=function(e){return new(e||t)(Y.Sb(o.a),Y.Sb(D.n),Y.Sb(L))},t.\u0275cmp=Y.Mb({type:t,selectors:[["scrumboard-board"]],decls:24,vars:13,consts:[["id","board"],["fxLayout","column",1,"header","p-16","p-md-24",3,"ngClass"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","1 0 auto",1,"header-content"],["fxLayout","row","fxLayoutAlign","center center","fxFlexOrder","2","fxFlexOrder.gt-xs","1"],["mat-raised-button","","routerLink","/apps/scrumboard/boards","aria-label","boards button",1,"header-boards-button",3,"ngClass"],[1,"mr-8"],["fxLayout","row","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","center center","fxFlex","1 0 100%","fxFlex.gt-xs","1 0 auto","fxFlexOrder","1","fxFlexOrder.gt-xs","2",1,"header-board-name","mb-8","mb-md-0"],["class","board-subscribe s-16",4,"ngIf"],[3,"board","boardNameChanged"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexOrder","3",1,"toolbar"],["mat-icon-button","","aria-label","Settings","matTooltip","Settings",3,"click"],["fxFlex","",1,"board-content-wrapper","p-16","p-md-24"],["fxLayout","row","ngxDroppable","list",1,"board-content","ngx-dnd-container","p-16","p-md-24",3,"model","out"],["class","scrumboard-board-list list-wrapper ngx-dnd-item","ngxDraggable","",3,"model","list",4,"ngFor","ngForOf"],["ngxDraggable","",1,"new-list-wrapper",3,"moves","listAdded"],["position","end"],["settingsSidenav",""],[1,"board-subscribe","s-16"],["ngxDraggable","",1,"scrumboard-board-list","list-wrapper","ngx-dnd-item",3,"model","list"]],template:function(t,e){if(1&t){const t=Y.Zb();Y.Yb(0,"mat-sidenav-container"),Y.Yb(1,"div",0),Y.Yb(2,"div",1),Y.Yb(3,"div",2),Y.Yb(4,"div",3),Y.Yb(5,"button",4),Y.Yb(6,"mat-icon",5),Y.Tc(7,"assessment"),Y.Xb(),Y.Yb(8,"span"),Y.Tc(9,"BOARDS"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(10,"div",6),Y.Rc(11,Ye,2,0,"mat-icon",7),Y.Yb(12,"scrumboard-edit-board-name",8),Y.gc("boardNameChanged",(function(t){return e.onBoardNameChanged(t)})),Y.Xb(),Y.Xb(),Y.Yb(13,"div",9),Y.Yb(14,"button",10),Y.gc("click",(function(){return Y.Hc(t),Y.Dc(22).toggle()})),Y.Yb(15,"mat-icon"),Y.Tc(16,"settings"),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(17,"div",11),Y.Yb(18,"div",12),Y.gc("out",(function(t){return e.onDrop(t)})),Y.Rc(19,Ce,1,6,"scrumboard-board-list",13),Y.Yb(20,"scrumboard-board-add-list",14),Y.gc("listAdded",(function(t){return e.onListAdd(t)})),Y.Xb(),Y.Xb(),Y.Xb(),Y.Xb(),Y.Yb(21,"mat-sidenav",15,16),Y.Tb(23,"scrumboard-board-settings"),Y.Xb(),Y.Xb()}2&t&&(Y.Gb(2),Y.rc("ngClass",e.board.settings.color),Y.Gb(3),Y.rc("ngClass",e.board.settings.color+"-800"),Y.Gb(6),Y.rc("ngIf",e.board.settings.subscribed),Y.Gb(1),Y.rc("board",e.board),Y.Gb(6),Y.rc("model",e.board.lists)("@animateStagger",Y.tc(9,Te)),Y.Gb(1),Y.rc("ngForOf",e.board.lists),Y.Gb(1),Y.rc("moves",!1)("@animate",Y.uc(11,Le,Y.tc(10,ye))))},directives:[p.b,_.e,D.q,Z.a,_.d,_.b,_.c,c.b,o.h,m.a,D.t,W,x.a,v.c,D.s,K,v.b,p.a,mt,Xe],styles:["scrumboard-board mat-sidenav-container{width:100%;height:100%}scrumboard-board mat-sidenav-container mat-sidenav{width:320px!important;min-width:320px!important;max-width:320px!important}scrumboard-board mat-sidenav-container #board{display:flex;flex-direction:column!important;height:100%}scrumboard-board mat-sidenav-container #board>.header{position:relative;min-height:96px;background-image:none;z-index:49}scrumboard-board mat-sidenav-container #board>.header .header-content .header-boards-button{margin:0}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name{font-size:16px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .board-subscribe{margin-right:8px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .editable-buttons mat-icon{color:#fff!important}scrumboard-board mat-sidenav-container #board>.header .header-content .right-side>.mat-button:last-child{margin-right:0}scrumboard-board mat-sidenav-container #board #board-selector{position:absolute;top:96px;right:0;left:0;height:192px;z-index:48;padding:24px;opacity:1}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item{width:128px;height:192px;padding:16px;cursor:pointer;position:relative}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .board-name{text-align:center;padding:16px 0}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon{position:absolute;top:0;left:50%;width:32px;height:32px;margin-left:-16px;border-radius:50%;text-align:center;color:#fff}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon i{line-height:32px!important}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item.add-new-board{opacity:.6}scrumboard-board mat-sidenav-container #board .board-content-wrapper{position:relative}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:F.a}}),t})(),resolve:{board:C}},{path:"**",redirectTo:"boards"}];let Fe=(()=>{class t{}return t.\u0275mod=Y.Qb({type:t}),t.\u0275inj=Y.Pb({factory:function(e){return new(e||t)},providers:[L,C],imports:[[o.k.forChild(Ie),c.c,i.b,r.e,s.c,d.e,b.e,m.b,l.c,u.d,g.b,f.b,n.s,p.c,h.b,x.b,v.d,w.a,k.a,k.d]]}),t})()}}]);