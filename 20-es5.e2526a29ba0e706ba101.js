!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var c,i=a(t);if(e){var o=a(this).constructor;c=Reflect.construct(i,arguments,o)}else c=i.apply(this,arguments);return n(this,c)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,c=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(s){c=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{B9zo:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("XNiG"),c=n("1G5W"),i=n("fXoL"),o=n("h2q7"),s=function(){var t=function(){function t(e,n,c){r(this,t),this._elementRef=e,this._fuseMediaMatchService=n,this._renderer=c,this._unsubscribeAll=new a.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(c.a)(this._unsubscribeAll)).subscribe((function(e){"xs"===e?t._removeClass():t._addClass()})))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.l),i.Sb(o.a),i.Sb(i.J))},t.\u0275dir=i.Nb({type:t,selectors:[["",8,"inner-scroll"]]}),t}()},NulH:function(n,a,o){"use strict";o.r(a),o.d(a,"ContactsModule",(function(){return Ft}));var s=o("tyNb"),b=o("bTqV"),u=o("bSwM"),d=o("FKr1"),f=o("iadO"),m=o("kmnG"),h=o("NFeN"),p=o("qFsG"),g=o("STbY"),v=o("+0xr"),x=o("/t3+"),y=o("5HBU"),C=o("LPQX"),X=o("3Pt+"),w=o("XNiG"),Y=o("1G5W"),k=o("Kj3r"),_=o("/uUt"),S=o("PVWW"),T=o("0IaG"),D=o("jD4G"),O=function t(e){r(this,t),this.id=e.id||D.a.generateGUID(),this.name=e.name||"",this.lastName=e.lastName||"",this.avatar=e.avatar||"assets/images/avatars/profile.jpg",this.nickname=e.nickname||"",this.company=e.company||"",this.jobTitle=e.jobTitle||"",this.email=e.email||"",this.phone=e.phone||"",this.address=e.address||"",this.birthday=e.birthday||"",this.notes=e.notes||""},A=o("fXoL"),R=o("XiUz"),M=o("EwFO"),P=o("ofXK");function G(t,e){if(1&t){var n=A.Zb();A.Yb(0,"button",29),A.gc("click",(function(){A.Hc(n);var t=A.kc();return t.matDialogRef.close(["delete",t.contactForm])})),A.Tc(1," DELETE "),A.Xb()}}function I(t,e){if(1&t){var n=A.Zb();A.Yb(0,"button",30),A.gc("click",(function(){A.Hc(n);var t=A.kc();return t.matDialogRef.close(t.contactForm)})),A.Tc(1," ADD "),A.Xb()}if(2&t){var a=A.kc();A.rc("disabled",a.contactForm.invalid)}}function j(t,e){if(1&t){var n=A.Zb();A.Yb(0,"button",30),A.gc("click",(function(){A.Hc(n);var t=A.kc();return t.matDialogRef.close(["save",t.contactForm])})),A.Tc(1," SAVE "),A.Xb()}if(2&t){var a=A.kc();A.rc("disabled",a.contactForm.invalid)}}var L,F,N,H=((L=function(){function t(e,n,a){r(this,t),this.matDialogRef=e,this._data=n,this._formBuilder=a,this.action=n.action,"edit"===this.action?(this.dialogTitle="Edit Contact",this.contact=n.contact):(this.dialogTitle="New Contact",this.contact=new O({})),this.contactForm=this.createContactForm()}return l(t,[{key:"createContactForm",value:function(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}]),t}()).\u0275fac=function(t){return new(t||L)(A.Sb(T.f),A.Sb(T.a),A.Sb(X.d))},L.\u0275cmp=A.Mb({type:L,selectors:[["contacts-contact-form-dialog"]],decls:87,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","pb-0","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start"],["appearance","outline","fxFlex",""],["matSuffix","",1,"secondary-text"],["name","name","formControlName","name","matInput","","required",""],["name","lastName","formControlName","lastName","matInput",""],["name","nickname","formControlName","nickname","matInput",""],["formControlName","phone","matInput",""],["name","email","formControlName","email","matInput","","type","email"],["name","company","formControlName","company","matInput",""],["name","jobTitle","formControlName","jobTitle","matInput",""],["matInput","","name","birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput",""],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center",1,"m-0","p-16"],["mat-button","","class","mr-8","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-button","","class","save-button","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-button","","aria-label","Delete","matTooltip","Delete",1,"mr-8",3,"click"],["mat-button","","aria-label","SAVE",1,"save-button",3,"disabled","click"]],template:function(t,e){if(1&t&&(A.Yb(0,"div",0),A.Yb(1,"mat-toolbar",1),A.Yb(2,"mat-toolbar-row",2),A.Yb(3,"span",3),A.Tc(4),A.Xb(),A.Yb(5,"button",4),A.gc("click",(function(){return e.matDialogRef.close()})),A.Yb(6,"mat-icon"),A.Tc(7,"close"),A.Xb(),A.Xb(),A.Xb(),A.Yb(8,"mat-toolbar-row",5),A.Tb(9,"img",6),A.Yb(10,"div",7),A.Tc(11),A.Xb(),A.Xb(),A.Xb(),A.Yb(12,"div",8),A.Yb(13,"form",9),A.Yb(14,"div",10),A.Yb(15,"mat-form-field",11),A.Yb(16,"mat-label"),A.Tc(17,"Name"),A.Xb(),A.Yb(18,"mat-icon",12),A.Tc(19,"account_circle"),A.Xb(),A.Tb(20,"input",13),A.Xb(),A.Xb(),A.Yb(21,"div",10),A.Yb(22,"mat-form-field",11),A.Yb(23,"mat-label"),A.Tc(24,"Lastname"),A.Xb(),A.Yb(25,"mat-icon",12),A.Tc(26,"account_circle"),A.Xb(),A.Tb(27,"input",14),A.Xb(),A.Xb(),A.Yb(28,"div",10),A.Yb(29,"mat-form-field",11),A.Yb(30,"mat-label"),A.Tc(31,"Nickname"),A.Xb(),A.Yb(32,"mat-icon",12),A.Tc(33,"star"),A.Xb(),A.Tb(34,"input",15),A.Xb(),A.Xb(),A.Yb(35,"div",10),A.Yb(36,"mat-form-field",11),A.Yb(37,"mat-label"),A.Tc(38,"Phone number"),A.Xb(),A.Yb(39,"mat-icon",12),A.Tc(40,"phone"),A.Xb(),A.Tb(41,"input",16),A.Xb(),A.Xb(),A.Yb(42,"div",10),A.Yb(43,"mat-form-field",11),A.Yb(44,"mat-label"),A.Tc(45,"Email"),A.Xb(),A.Yb(46,"mat-icon",12),A.Tc(47,"email"),A.Xb(),A.Tb(48,"input",17),A.Xb(),A.Xb(),A.Yb(49,"div",10),A.Yb(50,"mat-form-field",11),A.Yb(51,"mat-label"),A.Tc(52,"Company"),A.Xb(),A.Yb(53,"mat-icon",12),A.Tc(54,"domain"),A.Xb(),A.Tb(55,"input",18),A.Xb(),A.Xb(),A.Yb(56,"div",10),A.Yb(57,"mat-form-field",11),A.Yb(58,"mat-label"),A.Tc(59,"Job title"),A.Xb(),A.Yb(60,"mat-icon",12),A.Tc(61,"work"),A.Xb(),A.Tb(62,"input",19),A.Xb(),A.Xb(),A.Yb(63,"div",10),A.Yb(64,"mat-form-field",11),A.Yb(65,"mat-label"),A.Tc(66,"Birthday"),A.Xb(),A.Tb(67,"input",20),A.Tb(68,"mat-datepicker-toggle",21),A.Tb(69,"mat-datepicker",null,22),A.Xb(),A.Xb(),A.Yb(71,"div",10),A.Yb(72,"mat-form-field",11),A.Yb(73,"mat-label"),A.Tc(74,"Address"),A.Xb(),A.Yb(75,"mat-icon",12),A.Tc(76,"home"),A.Xb(),A.Tb(77,"input",23),A.Xb(),A.Xb(),A.Yb(78,"div",24),A.Yb(79,"mat-form-field",11),A.Yb(80,"mat-label"),A.Tc(81,"Notes"),A.Xb(),A.Tb(82,"textarea",25),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Yb(83,"div",26),A.Rc(84,G,2,0,"button",27),A.Rc(85,I,2,1,"button",28),A.Rc(86,j,2,1,"button",28),A.Xb(),A.Xb()),2&t){var n=A.Dc(70);A.Gb(4),A.Uc(e.dialogTitle),A.Gb(5),A.rc("src",e.contact.avatar,A.Jc)("alt",e.contact.name),A.Gb(2),A.Wc("",e.contact.name," ",e.contact.lastName,""),A.Gb(2),A.rc("formGroup",e.contactForm),A.Gb(54),A.rc("matDatepicker",n),A.Gb(1),A.rc("for",n),A.Gb(16),A.rc("ngIf","edit"===e.action),A.Gb(1),A.rc("ngIf","edit"!==e.action),A.Gb(1),A.rc("ngIf","edit"===e.action)}},directives:[x.a,x.c,R.e,R.d,b.b,h.a,M.a,X.x,X.q,X.i,m.c,R.b,m.g,m.i,X.c,p.b,X.p,X.g,X.v,f.b,f.d,f.a,P.t],styles:["@media screen and (max-width:599px){.contact-form-dialog{width:100%}}@media screen and (min-width:600px){.contact-form-dialog{width:400px}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),L),V=o("2Vo4"),B=o("tk/3"),E=((F=function(){function t(e){r(this,t),this._httpClient=e,this.selectedContacts=[],this.onContactsChanged=new V.a([]),this.onSelectedContactsChanged=new V.a([]),this.onUserDataChanged=new V.a([]),this.onSearchTextChanged=new w.a,this.onFilterChanged=new w.a}return l(t,[{key:"resolve",value:function(t,e){var n=this;return new Promise((function(t,e){Promise.all([n.getContacts(),n.getUserData()]).then((function(e){c(e,1)[0],n.onSearchTextChanged.subscribe((function(t){n.searchText=t,n.getContacts()})),n.onFilterChanged.subscribe((function(t){n.filterBy=t,n.getContacts()})),t()}),e)}))}},{key:"getContacts",value:function(){var t=this;return new Promise((function(e,n){t._httpClient.get("api/contacts-contacts").subscribe((function(n){t.contacts=n,"starred"===t.filterBy&&(t.contacts=t.contacts.filter((function(e){return t.user.starred.includes(e.id)}))),"frequent"===t.filterBy&&(t.contacts=t.contacts.filter((function(e){return t.user.frequentContacts.includes(e.id)}))),t.searchText&&""!==t.searchText&&(t.contacts=D.a.filterArrayByString(t.contacts,t.searchText)),t.contacts=t.contacts.map((function(t){return new O(t)})),t.onContactsChanged.next(t.contacts),e(t.contacts)}),n)}))}},{key:"getUserData",value:function(){var t=this;return new Promise((function(e,n){t._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe((function(n){t.user=n,t.onUserDataChanged.next(t.user),e(t.user)}),n)}))}},{key:"toggleSelectedContact",value:function(t){if(this.selectedContacts.length>0){var e=this.selectedContacts.indexOf(t);if(-1!==e)return this.selectedContacts.splice(e,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"toggleSelectAll",value:function(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}},{key:"selectContacts",value:function(t,e){var n=this;this.selectedContacts=[],void 0!==t&&void 0!==e||(this.selectedContacts=[],this.contacts.map((function(t){n.selectedContacts.push(t.id)}))),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"updateContact",value:function(t){var e=this;return new Promise((function(n,a){e._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe((function(t){e.getContacts(),n(t)}))}))}},{key:"updateUserData",value:function(t){var e=this;return new Promise((function(n,a){e._httpClient.post("api/contacts-user/"+e.user.id,Object.assign({},t)).subscribe((function(t){e.getUserData(),e.getContacts(),n(t)}))}))}},{key:"deselectContacts",value:function(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"deleteContact",value:function(t){var e=this.contacts.indexOf(t);this.contacts.splice(e,1),this.onContactsChanged.next(this.contacts)}},{key:"deleteSelectedContacts",value:function(){var t,e=this,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,c=function(){};return{s:c,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}(this.selectedContacts);try{var a=function(){var n=t.value,a=e.contacts.find((function(t){return t.id===n})),c=e.contacts.indexOf(a);e.contacts.splice(c,1)};for(n.s();!(t=n.n()).done;)a()}catch(c){n.e(c)}finally{n.f()}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}]),t}()).\u0275fac=function(t){return new(t||F)(A.cc(B.b))},F.\u0275prov=A.Ob({token:F,factory:F.\u0275fac}),F),U=o("HX77"),$=o("B9zo"),W=o("znSr"),q=o("fE3o"),J=function(t){return{"active accent":t}},Z=((N=function(){function t(e){r(this,t),this._contactsService=e,this._unsubscribeAll=new w.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this.filterBy=this._contactsService.filterBy||"all",this._contactsService.onUserDataChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.user=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeFilter",value:function(t){this.filterBy=t,this._contactsService.onFilterChanged.next(this.filterBy)}}]),t}()).\u0275fac=function(t){return new(t||N)(A.Sb(E))},N.\u0275cmp=A.Mb({type:N,selectors:[["contacts-main-sidebar"]],decls:20,vars:12,consts:[[1,"sidebar-content"],[1,"card"],["fxLayout","row","fxLayoutAlign","start center",1,"header","p-24"],[1,"avatar","mr-16",3,"src","alt"],[1,"h5"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"],["aria-label","starred",1,"nav-item",3,"click"]],template:function(t,e){1&t&&(A.Yb(0,"div",0),A.Yb(1,"div",1),A.Yb(2,"div",2),A.Tb(3,"img",3),A.Yb(4,"span",4),A.Tc(5),A.Xb(),A.Xb(),A.Yb(6,"div",5),A.Yb(7,"div",6),A.Yb(8,"div",7),A.Yb(9,"a",8),A.gc("click",(function(){return e.changeFilter("all")})),A.Yb(10,"span",9),A.Tc(11,"All Contacts"),A.Xb(),A.Xb(),A.Xb(),A.Yb(12,"div",10),A.gc("click",(function(){return e.changeFilter("frequent")})),A.Yb(13,"a",11),A.Yb(14,"div",9),A.Tc(15,"Freequently contacted"),A.Xb(),A.Xb(),A.Xb(),A.Yb(16,"div",12),A.gc("click",(function(){return e.changeFilter("starred")})),A.Yb(17,"a",11),A.Yb(18,"div",9),A.Tc(19,"Starred Contacts"),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Xb()),2&t&&(A.Gb(3),A.rc("src",e.user.avatar,A.Jc)("alt",e.user.name),A.Gb(2),A.Uc(e.user.name),A.Gb(4),A.rc("ngClass",A.uc(6,J,"all"===e.filterBy)),A.Gb(4),A.rc("ngClass",A.uc(8,J,"frequent"===e.filterBy)),A.Gb(4),A.rc("ngClass",A.uc(10,J,"starred"===e.filterBy)))},directives:[R.e,R.d,M.a,d.r,P.q,W.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0;border-radius:8px}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),N),z=o("0EQZ"),Q=o("2nsM"),K=["dialogContent"];function tt(t,e){1&t&&A.Tb(0,"mat-header-cell")}function et(t,e){if(1&t){var n=A.Zb();A.Yb(0,"mat-cell"),A.Yb(1,"mat-checkbox",20),A.gc("ngModelChange",(function(t){A.Hc(n);var a=e.$implicit;return A.kc().checkboxes[a.id]=t}))("ngModelChange",(function(){A.Hc(n);var t=e.$implicit;return A.kc().onSelectedChange(t.id)}))("click",(function(t){return A.Hc(n),t.stopPropagation()})),A.Xb(),A.Xb()}if(2&t){var a=e.$implicit,c=A.kc();A.Gb(1),A.rc("ngModel",c.checkboxes[a.id])}}function nt(t,e){1&t&&A.Tb(0,"mat-header-cell")}function at(t,e){if(1&t&&A.Tb(0,"img",22),2&t){var n=A.kc().$implicit;A.rc("alt",n.name)("src",n.avatar,A.Jc)}}function ct(t,e){if(1&t&&(A.Yb(0,"mat-cell"),A.Rc(1,at,1,2,"img",21),A.Xb()),2&t){var n=e.$implicit;A.Gb(1),A.rc("ngIf",n.avatar)}}function it(t,e){1&t&&(A.Yb(0,"mat-header-cell"),A.Tc(1,"Name"),A.Xb())}function ot(t,e){if(1&t&&(A.Yb(0,"mat-cell"),A.Yb(1,"p",23),A.Tc(2),A.Xb(),A.Xb()),2&t){var n=e.$implicit;A.Gb(2),A.Wc("",n.name," ",n.lastName,"")}}function rt(t,e){1&t&&(A.Yb(0,"mat-header-cell",24),A.Tc(1,"Email"),A.Xb())}function st(t,e){if(1&t&&(A.Yb(0,"mat-cell",24),A.Yb(1,"p",25),A.Tc(2),A.Xb(),A.Xb()),2&t){var n=e.$implicit;A.Gb(2),A.Vc(" ",n.email," ")}}function lt(t,e){1&t&&(A.Yb(0,"mat-header-cell",26),A.Tc(1,"Phone"),A.Xb())}function bt(t,e){if(1&t&&(A.Yb(0,"mat-cell",26),A.Yb(1,"p",27),A.Tc(2),A.Xb(),A.Xb()),2&t){var n=e.$implicit;A.Gb(2),A.Vc(" ",n.phone," ")}}function ut(t,e){1&t&&(A.Yb(0,"mat-header-cell",28),A.Tc(1,"Job title"),A.Xb())}function dt(t,e){if(1&t&&(A.Yb(0,"mat-cell",28),A.Yb(1,"p",29),A.Tc(2),A.Xb(),A.Xb()),2&t){var n=e.$implicit;A.Gb(2),A.Vc(" ",n.jobTitle," ")}}function ft(t,e){1&t&&(A.Yb(0,"mat-header-cell",28),A.Tc(1,"Company"),A.Xb())}function mt(t,e){if(1&t&&(A.Yb(0,"mat-cell",28),A.Yb(1,"p",30),A.Tc(2),A.Xb(),A.Xb()),2&t){var n=e.$implicit;A.Gb(2),A.Vc(" ",n.company," ")}}function ht(t,e){1&t&&A.Tb(0,"mat-header-cell")}function pt(t,e){1&t&&(A.Yb(0,"mat-icon",39),A.Tc(1,"star"),A.Xb())}function gt(t,e){1&t&&(A.Yb(0,"mat-icon",36),A.Tc(1,"star_border"),A.Xb())}function vt(t,e){if(1&t){var n=A.Zb();A.Yb(0,"mat-cell"),A.Yb(1,"div",31),A.Yb(2,"button",32),A.gc("click",(function(t){A.Hc(n);var a=e.$implicit,c=A.kc();return t.stopPropagation(),c.toggleStar(a.id)})),A.Rc(3,pt,2,0,"mat-icon",33),A.Rc(4,gt,2,0,"mat-icon",34),A.Xb(),A.Yb(5,"button",35),A.gc("click",(function(t){return A.Hc(n),t.stopPropagation()})),A.Yb(6,"mat-icon",36),A.Tc(7,"more_vert"),A.Xb(),A.Xb(),A.Yb(8,"mat-menu",null,37),A.Yb(10,"button",38),A.gc("click",(function(){A.Hc(n);var t=e.$implicit;return A.kc().deleteContact(t)})),A.Yb(11,"mat-icon"),A.Tc(12,"delete"),A.Xb(),A.Yb(13,"span"),A.Tc(14,"Remove"),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Xb()}if(2&t){var a=e.$implicit,c=A.Dc(9),i=A.kc();A.Gb(3),A.rc("ngIf",i.user.starred.includes(a.id)),A.Gb(1),A.rc("ngIf",!i.user.starred.includes(a.id)),A.Gb(1),A.rc("matMenuTriggerFor",c)}}function xt(t,e){1&t&&A.Tb(0,"mat-header-row")}var yt=function(t){return{"accent-50":t}},Ct=function(){return{y:"100%"}},Xt=function(t){return{value:"*",params:t}};function wt(t,e){if(1&t){var n=A.Zb();A.Yb(0,"mat-row",40),A.gc("click",(function(){A.Hc(n);var t=e.$implicit;return A.kc().editContact(t)})),A.Xb()}if(2&t){var a=e.$implicit,c=A.kc();A.rc("ngClass",A.uc(2,yt,c.checkboxes[a.id]))("@animate",A.uc(5,Xt,A.tc(4,Ct)))}}var Yt,kt,_t=function(){return{value:"50"}},St=((Yt=function(){function t(e,n){r(this,t),this._contactsService=e,this._matDialog=n,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new w.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this.dataSource=new Tt(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.contacts=e,t.checkboxes={},e.map((function(e){t.checkboxes[e.id]=!1}))})),this._contactsService.onSelectedContactsChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){for(var n in t.checkboxes)t.checkboxes.hasOwnProperty(n)&&(t.checkboxes[n]=e.includes(n));t.selectedContacts=e})),this._contactsService.onUserDataChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.user=e})),this._contactsService.onFilterChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(){t._contactsService.deselectContacts()}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"editContact",value:function(t){var e=this;this.dialogRef=this._matDialog.open(H,{panelClass:"contact-form-dialog",data:{contact:t,action:"edit"}}),this.dialogRef.afterClosed().subscribe((function(n){if(n){var a=n[1];switch(n[0]){case"save":e._contactsService.updateContact(a.getRawValue());break;case"delete":e.deleteContact(t)}}}))}},{key:"deleteContact",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(Q.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe((function(n){n&&e._contactsService.deleteContact(t),e.confirmDialogRef=null}))}},{key:"onSelectedChange",value:function(t){this._contactsService.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||Yt)(A.Sb(E),A.Sb(T.b))},Yt.\u0275cmp=A.Mb({type:Yt,selectors:[["contacts-contact-list"]],viewQuery:function(t,e){var n;1&t&&A.Xc(K,!0),2&t&&A.Cc(n=A.hc())&&(e.dialogContent=n.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],[1,"contact",3,"ngClass","click"]],template:function(t,e){1&t&&(A.Yb(0,"mat-table",0,1),A.Wb(2,2),A.Rc(3,tt,1,0,"mat-header-cell",3),A.Rc(4,et,2,1,"mat-cell",4),A.Vb(),A.Wb(5,5),A.Rc(6,nt,1,0,"mat-header-cell",3),A.Rc(7,ct,2,1,"mat-cell",4),A.Vb(),A.Wb(8,6),A.Rc(9,it,2,0,"mat-header-cell",3),A.Rc(10,ot,3,2,"mat-cell",4),A.Vb(),A.Wb(11,7),A.Rc(12,rt,2,0,"mat-header-cell",8),A.Rc(13,st,3,1,"mat-cell",9),A.Vb(),A.Wb(14,10),A.Rc(15,lt,2,0,"mat-header-cell",11),A.Rc(16,bt,3,1,"mat-cell",12),A.Vb(),A.Wb(17,13),A.Rc(18,ut,2,0,"mat-header-cell",14),A.Rc(19,dt,3,1,"mat-cell",15),A.Vb(),A.Wb(20,16),A.Rc(21,ft,2,0,"mat-header-cell",14),A.Rc(22,mt,3,1,"mat-cell",15),A.Vb(),A.Wb(23,17),A.Rc(24,ht,1,0,"mat-header-cell",3),A.Rc(25,vt,15,3,"mat-cell",4),A.Vb(),A.Rc(26,xt,1,0,"mat-header-row",18),A.Rc(27,wt,1,7,"mat-row",19),A.Xb()),2&t&&(A.rc("dataSource",e.dataSource)("@animateStagger",A.tc(4,_t)),A.Gb(26),A.rc("matHeaderRowDef",e.displayedColumns),A.Gb(1),A.rc("matRowDefColumns",e.displayedColumns))},directives:[v.j,v.c,v.e,v.b,v.g,v.i,v.d,v.a,u.a,X.p,X.s,P.t,W.b,R.b,R.d,b.b,g.c,h.a,g.d,g.a,v.f,v.h,P.q,W.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:S.a}}),Yt),Tt=function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(c,n);var a=e(c);function c(t){var e;return r(this,c),(e=a.call(this))._contactsService=t,e}return l(c,[{key:"connect",value:function(){return this._contactsService.onContactsChanged}},{key:"disconnect",value:function(){}}]),c}(z.b),Dt=((kt=function(){function t(e,n){r(this,t),this._contactsService=e,this._matDialog=n,this._unsubscribeAll=new w.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.selectedContacts=e,setTimeout((function(){t.hasSelectedContacts=e.length>0,t.isIndeterminate=e.length!==t._contactsService.contacts.length&&e.length>0}),0)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"selectAll",value:function(){this._contactsService.selectContacts()}},{key:"deselectAll",value:function(){this._contactsService.deselectContacts()}},{key:"deleteSelectedContacts",value:function(){var t=this;this.confirmDialogRef=this._matDialog.open(Q.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe((function(e){e&&t._contactsService.deleteSelectedContacts(),t.confirmDialogRef=null}))}}]),t}()).\u0275fac=function(t){return new(t||kt)(A.Sb(E),A.Sb(T.b))},kt.\u0275cmp=A.Mb({type:kt,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,e){if(1&t&&(A.Yb(0,"div",0),A.Yb(1,"div",1),A.gc("click",(function(){return e.deselectAll()})),A.Yb(2,"button",2),A.Yb(3,"mat-icon",3),A.Tc(4,"arrow_back"),A.Xb(),A.Yb(5,"span",4),A.Tc(6,"Back"),A.Xb(),A.Xb(),A.Xb(),A.Yb(7,"div",5),A.Yb(8,"div"),A.Yb(9,"span",6),A.Yb(10,"span",7),A.Tc(11),A.Xb(),A.Yb(12,"span"),A.Tc(13,"selected"),A.Xb(),A.Xb(),A.Yb(14,"button",8),A.Yb(15,"mat-icon"),A.Tc(16,"arrow_drop_down"),A.Xb(),A.Xb(),A.Yb(17,"mat-menu",null,9),A.Yb(19,"button",10),A.gc("click",(function(){return e.selectAll()})),A.Tc(20,"Select all"),A.Xb(),A.Yb(21,"button",10),A.gc("click",(function(){return e.deselectAll()})),A.Tc(22,"Deselect all"),A.Xb(),A.Xb(),A.Xb(),A.Yb(23,"div",11),A.Yb(24,"button",12),A.gc("click",(function(){return e.deleteSelectedContacts()})),A.Yb(25,"mat-icon"),A.Tc(26,"delete"),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Xb()),2&t){var n=A.Dc(18);A.Gb(11),A.Uc(e.selectedContacts.length),A.Gb(3),A.rc("matMenuTriggerFor",n)}},directives:[R.b,R.e,R.d,b.b,h.a,g.c,g.d,g.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),kt);function Ot(t,e){1&t&&A.Tb(0,"selected-bar",17),2&t&&A.rc("@slideInTop",void 0)}var At,Rt,Mt=function(){return{delay:"50ms",scale:"0.2"}},Pt=function(t){return{value:"*",params:t}},Gt=function(){return{delay:"100ms",x:"-25px"}},It=function(){return{value:"*"}},jt=function(){return{delay:"300ms",scale:".2"}},Lt=[{path:"**",component:(At=function(){function t(e,n,a){r(this,t),this._contactsService=e,this._fuseSidebarService=n,this._matDialog=a,this.searchInput=new X.e(""),this._unsubscribeAll=new w.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(Y.a)(this._unsubscribeAll)).subscribe((function(e){t.hasSelectedContacts=e.length>0})),this.searchInput.valueChanges.pipe(Object(Y.a)(this._unsubscribeAll),Object(k.a)(300),Object(_.a)()).subscribe((function(e){t._contactsService.onSearchTextChanged.next(e)}))}},{key:"ngOnDestroy",value:function(){this._contactsService.onSearchTextChanged.next(""),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newContact",value:function(){var t=this;this.dialogRef=this._matDialog.open(H,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe((function(e){e&&t._contactsService.updateContact(e.getRawValue())}))}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}]),t}(),At.\u0275fac=function(t){return new(t||At)(A.Sb(E),A.Sb(U.a),A.Sb(T.b))},At.\u0275cmp=A.Mb({type:At,selectors:[["contacts"]],decls:28,vars:16,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a contact",3,"formControl"],["class","accent-600",4,"ngIf"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["fusePerfectScrollbar","",1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent",3,"click"],[1,"accent-600"]],template:function(t,e){1&t&&(A.Yb(0,"div",0),A.Yb(1,"div",1),A.Yb(2,"div",2),A.Yb(3,"button",3),A.gc("click",(function(){return e.toggleSidebar("contacts-main-sidebar")})),A.Yb(4,"mat-icon"),A.Tc(5,"menu"),A.Xb(),A.Xb(),A.Yb(6,"div",4),A.Yb(7,"mat-icon",5),A.Tc(8,"account_box "),A.Xb(),A.Yb(9,"span",6),A.Tc(10," Contacts "),A.Xb(),A.Xb(),A.Xb(),A.Yb(11,"div",7),A.Yb(12,"div",8),A.Yb(13,"div",9),A.Yb(14,"mat-icon"),A.Tc(15,"search"),A.Xb(),A.Tb(16,"input",10),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Rc(17,Ot,1,1,"selected-bar",11),A.Yb(18,"div",12),A.Yb(19,"fuse-sidebar",13),A.Yb(20,"div",14),A.Tb(21,"contacts-main-sidebar"),A.Xb(),A.Xb(),A.Yb(22,"div",15),A.Yb(23,"div",12),A.Tb(24,"contacts-contact-list"),A.Xb(),A.Xb(),A.Xb(),A.Xb(),A.Yb(25,"button",16),A.gc("click",(function(){return e.newContact()})),A.Yb(26,"mat-icon"),A.Tc(27,"person_add"),A.Xb(),A.Xb()),2&t&&(A.Gb(7),A.rc("@animate",A.uc(7,Pt,A.tc(6,Mt))),A.Gb(2),A.rc("@animate",A.uc(10,Pt,A.tc(9,Gt))),A.Gb(7),A.rc("formControl",e.searchInput),A.Gb(1),A.rc("ngIf",e.hasSelectedContacts),A.Gb(4),A.rc("@animate",A.tc(12,It)),A.Gb(4),A.rc("@animate",A.uc(14,Pt,A.tc(13,jt))))},directives:[$.a,R.e,R.d,b.b,W.b,h.a,R.b,X.c,X.p,X.f,P.t,q.a,M.a,Z,St,Dt],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:S.a}}),At),resolve:{contacts:E}}],Ft=((Rt=function t(){r(this,t)}).\u0275mod=A.Qb({type:Rt}),Rt.\u0275inj=A.Pb({factory:function(t){return new(t||Rt)},providers:[E],imports:[[s.k.forChild(Lt),b.c,u.b,f.c,m.e,h.b,p.c,g.b,d.s,v.k,x.b,y.a,C.a,C.i]]}),Rt)}}])}();