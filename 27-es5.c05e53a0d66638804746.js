!function(){function t(t,a){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,a)}(t))||a&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){d=!0,n=t},f:function(){try{c||null==r.return||r.return()}finally{if(d)throw n}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,a){return e&&r(t.prototype,e),a&&r(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{igdQ:function(e,r,o){"use strict";o.r(r),o.d(r,"ScrumboardModule",(function(){return je}));var n,c,d=o("tyNb"),s=o("bTqV"),b=o("bSwM"),l=o("A5z7"),m=o("FKr1"),u=o("iadO"),f=o("0IaG"),g=o("kmnG"),p=o("NFeN"),h=o("qFsG"),v=o("MutI"),x=o("STbY"),k=o("bv9b"),w=o("XhcP"),y=o("/t3+"),X=o("Qu3c"),Y=o("212X"),C=o("5HBU"),L=o("LPQX"),T=o("2Vo4"),I=o("fXoL"),A=o("tk/3"),F=((c=function(){function e(t){a(this,e),this._httpClient=t,this.onBoardsChanged=new T.a([]),this.onBoardChanged=new T.a([])}return i(e,[{key:"resolve",value:function(t,e){var a=this;return this.routeParams=t.params,new Promise((function(t,e){Promise.all([a.getBoards()]).then((function(){t()}),e)}))}},{key:"getBoards",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/scrumboard-boards").subscribe((function(a){t.boards=a,t.onBoardsChanged.next(t.boards),e(t.boards)}),a)}))}},{key:"getBoard",value:function(t){var e=this;return new Promise((function(a,r){e._httpClient.get("api/scrumboard-boards/"+t).subscribe((function(t){e.board=t,e.onBoardChanged.next(e.board),a(e.board)}),r)}))}},{key:"addCard",value:function(t,e){return this.board.lists.map((function(a){if(a.id===t)return a.idCards.push(e.id)})),this.board.cards.push(e),this.updateBoard()}},{key:"addList",value:function(t){return this.board.lists.push(t),this.updateBoard()}},{key:"removeList",value:function(e){var a,r=this.board.lists.find((function(t){return t.id===e})),i=t(r.idCards);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.removeCard(o)}}catch(c){i.e(c)}finally{i.f()}var n=this.board.lists.indexOf(r);return this.board.lists.splice(n,1),this.updateBoard()}},{key:"removeCard",value:function(t,e){var a=this.board.cards.find((function(e){return e.id===t}));if(e){var r=this.board.lists.find((function(t){return e===t.id}));r.idCards.splice(r.idCards.indexOf(t),1)}this.board.cards.splice(this.board.cards.indexOf(a),1),this.updateBoard()}},{key:"updateBoard",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.post("api/scrumboard-boards/"+t.board.id,t.board).subscribe((function(a){t.onBoardChanged.next(t.board),e(t.board)}),a)}))}},{key:"updateCard",value:function(t){this.board.cards.map((function(e){if(e.id===t.id)return t})),this.updateBoard()}},{key:"createNewBoard",value:function(t){var e=this;return new Promise((function(a,r){e._httpClient.post("api/scrumboard-boards/"+t.id,t).subscribe((function(e){a(t)}),r)}))}}]),e}()).\u0275fac=function(t){return new(t||c)(I.cc(A.b))},c.\u0275prov=I.Ob({token:c,factory:c.\u0275fac}),c),G=((n=function(){function t(e){a(this,t),this._scrumboardService=e}return i(t,[{key:"resolve",value:function(t){return this._scrumboardService.getBoard(t.paramMap.get("boardId"))}}]),t}()).\u0275fac=function(t){return new(t||n)(I.cc(F))},n.\u0275prov=I.Ob({token:n,factory:n.\u0275fac}),n),M=o("XNiG"),S=o("1G5W"),_=o("PVWW"),R=o("jD4G"),D=[{id:"56027e4119ad3a5dc28b36cd",name:"Design",color:"red-500"},{id:"5640635e19ad3a5dc21416b2",name:"App",color:"blue-500"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",color:"green-400"}],O=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"Vincent Munoz",avatar:"assets/images/avatars/vincent.jpg"}],B=function t(e){a(this,t),this.name=e.name||"Untitled Board",this.uri=e.uri||"untitled-board",this.id=e.id||R.a.generateGUID(),this.settings=e.settings||{color:"",subscribed:!0,cardCoverImages:!0},this.lists=[],this.cards=[],this.members=e.members||O,this.labels=e.labels||D},H=o("XiUz"),N=o("EwFO"),z=o("ofXK"),U=function(){return{y:"100%"}},$=function(t){return{value:"*",params:t}};function Z(t,e){if(1&t&&(I.Yb(0,"div",7),I.Yb(1,"mat-icon",5),I.Tc(2,"assessment"),I.Xb(),I.Yb(3,"div",6),I.Tc(4),I.Xb(),I.Xb()),2&t){var a=e.$implicit;I.rc("routerLink","/apps/scrumboard/boards/"+a.id+"/"+a.uri)("@animate",I.uc(4,$,I.tc(3,U))),I.Gb(4),I.Uc(a.name)}}var P,V=function(){return{delay:"100ms"}},j=function(){return{value:"50"}},q=((P=function(){function t(e,r){a(this,t),this._router=e,this._scrumboardService=r,this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.boards=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newBoard",value:function(){var t=this,e=new B({});this._scrumboardService.createNewBoard(e).then((function(){t._router.navigate(["/apps/scrumboard/boards/"+e.id+"/"+e.uri])}))}}]),t}()).\u0275fac=function(t){return new(t||P)(I.Sb(d.g),I.Sb(F))},P.\u0275cmp=I.Mb({type:P,selectors:[["scrumboard"]],decls:11,vars:11,consts:[["id","boards","fxLayout","column","fxLayoutAlign","start center","fxFlex","","fusePerfectScrollbar","",1,"fuse-navy"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"header","pt-44","pt-md-88"],["fxFlex","0 0 auto","fxLayout","row wrap","fxLayoutAlign","center center",1,"board-list"],["class","board-list-item","fxLayout","column","fxLayoutAlign","center center",3,"routerLink",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item","add-new-board",3,"click"],[1,"s-56"],[1,"board-name"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item",3,"routerLink"]],template:function(t,e){1&t&&(I.Yb(0,"div",0),I.Yb(1,"div",1),I.Yb(2,"h1"),I.Tc(3,"Scrumboard App"),I.Xb(),I.Xb(),I.Yb(4,"div",2),I.Rc(5,Z,5,6,"div",3),I.Yb(6,"div",4),I.gc("click",(function(){return e.newBoard()})),I.Yb(7,"mat-icon",5),I.Tc(8,"add_circle"),I.Xb(),I.Yb(9,"div",6),I.Tc(10,"Add new board"),I.Xb(),I.Xb(),I.Xb(),I.Xb()),2&t&&(I.Gb(1),I.rc("@animate",I.uc(5,$,I.tc(4,V))),I.Gb(3),I.rc("@animateStagger",I.tc(7,j)),I.Gb(1),I.rc("ngForOf",e.boards),I.Gb(1),I.rc("@animate",I.uc(9,$,I.tc(8,U))))},directives:[H.e,H.d,H.b,N.a,z.s,p.a,d.h],styles:["scrumboard{min-height:100%}scrumboard #boards{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}scrumboard #boards .header h1{font-size:40px;font-weight:300}scrumboard #boards .board-list{padding:32px 0;max-height:none!important}scrumboard #boards .board-list .board-list-item{min-width:210px;min-height:210px;width:210px;height:210px;padding:24px 0;margin:16px;border-radius:8px;background:rgba(0,0,0,.12);transition:box-shadow .15s ease-in;cursor:pointer}scrumboard #boards .board-list .board-list-item:hover:not(.add-new-board){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}scrumboard #boards .board-list .board-list-item .board-name{padding:16px 32px 0;font-weight:300;font-size:16px;text-align:center}scrumboard #boards .board-list .board-list-item.add-new-board{background:rgba(0,0,0,.06);border:2px dashed hsla(0,0%,100%,.37)}"],encapsulation:2,data:{animation:_.a}}),P),E=function t(e){a(this,t),this.id=e.id||R.a.generateGUID(),this.name=e.name||"",this.idCards=[]},W=o("znSr"),J=o("3Pt+"),Q=["nameInput"];function K(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",2),I.Yb(1,"span"),I.Tc(2),I.Xb(),I.Yb(3,"button",3),I.gc("click",(function(){return I.Hc(a),I.kc().openForm()})),I.Yb(4,"mat-icon",4),I.Tc(5,"edit_mode"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.Gb(2),I.Uc(r.board.name)}}function tt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"form",5),I.gc("ngSubmit",(function(){return I.Hc(a),I.kc().onFormSubmit()})),I.Tb(1,"input",6,7),I.Yb(3,"button",8),I.Yb(4,"mat-icon"),I.Tc(5,"check"),I.Xb(),I.Xb(),I.Yb(6,"button",9),I.gc("click",(function(){return I.Hc(a),I.kc().closeForm()})),I.Yb(7,"mat-icon"),I.Tc(8,"close"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.rc("formGroup",r.form)}}var et,at=((et=function(){function t(e){a(this,t),this.formBuilder=e,this.formActive=!1,this.boardNameChanged=new I.o}return i(t,[{key:"openForm",value:function(){this.form=this.formBuilder.group({name:[this.board.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.board.name=this.form.getRawValue().name,this.board.uri=encodeURIComponent(this.board.name).replace(/%20/g,"-").toLowerCase(),this.boardNameChanged.next(this.board.name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||et)(I.Sb(J.d))},et.\u0275cmp=I.Mb({type:et,selectors:[["scrumboard-edit-board-name"]],viewQuery:function(t,e){var a;1&t&&I.Xc(Q,!0),2&t&&I.Cc(a=I.hc())&&(e.nameInputField=a.first)},inputs:{board:"board"},outputs:{boardNameChanged:"boardNameChanged"},decls:2,vars:2,consts:[["class","board-name","fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","board-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",1,"board-name"],["mat-icon-button","",3,"click"],[1,"s-16"],["fxLayout","row","fxFlex","1 0 auto",1,"board-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","1 0 auto","placeholder","Write a board name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(I.Rc(0,K,6,1,"div",0),I.Rc(1,tt,9,1,"form",1)),2&t&&(I.rc("ngIf",!e.formActive),I.Gb(1),I.rc("ngIf",e.formActive))},directives:[z.t,H.b,H.e,H.d,s.b,p.a,J.x,J.q,J.i,J.c,J.p,J.g],styles:["scrumboard-edit-board-name{display:block!important}scrumboard-edit-board-name .board-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600}"],encapsulation:2}),et),rt=["nameInput"];function it(t,e){if(1&t){var a=I.Zb();I.Yb(0,"button",3),I.gc("click",(function(){return I.Hc(a),I.kc().openForm()})),I.Yb(1,"div",4),I.Yb(2,"mat-icon",5),I.Tc(3,"add"),I.Xb(),I.Yb(4,"span"),I.Tc(5,"Add a list"),I.Xb(),I.Xb(),I.Xb()}}function ot(t,e){if(1&t){var a=I.Zb();I.Yb(0,"form",6),I.gc("submit",(function(){return I.Hc(a),I.kc().onFormSubmit()})),I.Tb(1,"input",7,8),I.Yb(3,"button",9),I.Yb(4,"mat-icon"),I.Tc(5,"check"),I.Xb(),I.Xb(),I.Yb(6,"button",10),I.gc("click",(function(){return I.Hc(a),I.kc().closeForm()})),I.Yb(7,"mat-icon"),I.Tc(8,"close"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.rc("formGroup",r.form)}}var nt,ct=((nt=function(){function t(e){a(this,t),this._formBuilder=e,this.formActive=!1,this.listAdded=new I.o}return i(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[""]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.listAdded.next(this.form.getRawValue().name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||nt)(I.Sb(J.d))},nt.\u0275cmp=I.Mb({type:nt,selectors:[["scrumboard-board-add-list"]],viewQuery:function(t,e){var a;1&t&&I.Xc(rt,!0),2&t&&I.Cc(a=I.hc())&&(e.nameInputField=a.first)},outputs:{listAdded:"listAdded"},decls:3,vars:2,consts:[[1,"list","new-list","mat-elevation-z1"],["mat-button","","class","new-list-form-button",3,"click",4,"ngIf"],["class","new-list-form","fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",3,"formGroup","submit",4,"ngIf"],["mat-button","",1,"new-list-form-button",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"red"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",1,"new-list-form",3,"formGroup","submit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto",3,"click"]],template:function(t,e){1&t&&(I.Yb(0,"div",0),I.Rc(1,it,6,0,"button",1),I.Rc(2,ot,9,1,"form",2),I.Xb()),2&t&&(I.Gb(1),I.rc("ngIf",!e.formActive),I.Gb(1),I.rc("ngIf",e.formActive))},directives:[z.t,s.b,H.e,H.d,p.a,J.x,J.q,H.b,J.i,J.c,J.p,J.g],styles:["scrumboard-board-add-list .new-list{border-radius:2px}scrumboard-board-add-list .new-list .new-list-form-button{text-transform:none;font-size:15px;padding:0 16px;height:64px;margin:0;width:100%}scrumboard-board-add-list .new-list .new-list-form-button mat-icon{border-radius:50%;height:40px;width:40px;line-height:40px;margin-right:16px}scrumboard-board-add-list .new-list .new-list-form{padding:16px;height:64px}scrumboard-board-add-list .new-list .new-list-form>input{height:100%}"],encapsulation:2}),nt),dt=o("f0Cb"),st=o("Z9WT"),bt=o("s3g0");function lt(t,e){1&t&&(I.Yb(0,"mat-icon",6),I.Tc(1,"check"),I.Xb())}function mt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"button",7),I.gc("click",(function(t){I.Hc(a);var e=I.kc(2);return t.stopPropagation(),e.setColor("")})),I.Yb(1,"mat-icon",6),I.Tc(2,"delete"),I.Xb(),I.Xb()}}function ut(t,e){if(1&t){var a=I.Zb();I.Yb(0,"mat-list-item",2),I.gc("click",(function(){I.Hc(a);var t=e.$implicit;return I.kc().setColor(t.key)})),I.Yb(1,"p",3),I.Tc(2),I.Xb(),I.Rc(3,lt,2,0,"mat-icon",4),I.Rc(4,mt,3,0,"button",5),I.Xb()}if(2&t){var r=e.$implicit,i=I.kc();I.rc("ngClass",r.key),I.Gb(2),I.Uc(r.key),I.Gb(1),I.rc("ngIf",r.key===i.board.settings.color),I.Gb(1),I.rc("ngIf",r.key===i.board.settings.color)}}var ft,gt=((ft=function(){function t(e){a(this,t),this._scrumboardService=e,this.colors=st.a.all,this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setColor",value:function(t){this.board.settings.color=t,this._scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||ft)(I.Sb(F))},ft.\u0275cmp=I.Mb({type:ft,selectors:[["scrumboard-board-color-selector"]],decls:3,vars:3,consts:[[1,"colors"],["class","color m-8 mat-elevation-z1","matRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["matRipple","",1,"color","m-8","mat-elevation-z1",3,"ngClass","click"],["fxFlex",""],["class","s-16",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"s-16"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(I.Yb(0,"mat-list",0),I.Rc(1,ut,5,4,"mat-list-item",1),I.lc(2,"keys"),I.Xb()),2&t&&(I.Gb(1),I.rc("ngForOf",I.mc(2,1,e.colors)))},directives:[v.a,z.s,v.c,m.r,z.q,W.a,H.b,z.t,p.a,s.b],pipes:[bt.a],styles:["scrumboard-board-color-selector .colors .color{position:relative;cursor:pointer}"],encapsulation:2}),ft);function pt(t,e){1&t&&(I.Yb(0,"mat-icon",13),I.Tc(1,"check"),I.Xb())}function ht(t,e){1&t&&(I.Yb(0,"mat-icon",13),I.Tc(1,"check"),I.Xb())}function vt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",2),I.Yb(1,"div",3),I.Yb(2,"div"),I.Tc(3,"Settings"),I.Xb(),I.Xb(),I.Yb(4,"div",4),I.Yb(5,"div",5),I.Yb(6,"div",6),I.Yb(7,"div",7),I.gc("click",(function(){return I.Hc(a),I.kc().view="board-color"})),I.Yb(8,"mat-icon",8),I.Tc(9,"format_color_fill"),I.Xb(),I.Yb(10,"p",9),I.Tc(11,"Board Color"),I.Xb(),I.Xb(),I.Xb(),I.Yb(12,"div",6),I.Yb(13,"div",7),I.gc("click",(function(){return I.Hc(a),I.kc().toggleCardCover()})),I.Yb(14,"mat-icon",8),I.Tc(15,"photo"),I.Xb(),I.Yb(16,"p",10),I.Tc(17,"Card Cover Images"),I.Xb(),I.Rc(18,pt,2,0,"mat-icon",11),I.Xb(),I.Xb(),I.Yb(19,"div",6),I.Yb(20,"div",7),I.gc("click",(function(){return I.Hc(a),I.kc().toggleSubscription()})),I.Yb(21,"mat-icon",8),I.Tc(22,"remove_red_eye"),I.Xb(),I.Yb(23,"p",10),I.Tc(24,"Subscribe"),I.Xb(),I.Rc(25,ht,2,0,"mat-icon",11),I.Xb(),I.Xb(),I.Yb(26,"div",6),I.Yb(27,"div",12),I.Yb(28,"mat-icon",8),I.Tc(29,"content_copy"),I.Xb(),I.Yb(30,"p",9),I.Tc(31,"Copy Board"),I.Xb(),I.Xb(),I.Xb(),I.Yb(32,"div",6),I.Yb(33,"div",12),I.Yb(34,"mat-icon",8),I.Tc(35,"delete"),I.Xb(),I.Yb(36,"p",9),I.Tc(37,"Delete Board"),I.Xb(),I.Xb(),I.Xb(),I.Tb(38,"mat-divider"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.rc("@slideInLeft",void 0),I.Gb(1),I.rc("ngClass",r.board.settings.color),I.Gb(17),I.rc("ngIf",r.board.settings.cardCoverImages),I.Gb(7),I.rc("ngIf",r.board.settings.subscribed)}}function xt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",2),I.Yb(1,"div",14),I.Yb(2,"div"),I.Tc(3,"Background Color"),I.Xb(),I.Yb(4,"button",15),I.gc("click",(function(){return I.Hc(a),I.kc().view="main"})),I.Yb(5,"mat-icon",16),I.Tc(6,"arrow_back"),I.Xb(),I.Xb(),I.Xb(),I.Yb(7,"div",17),I.Tb(8,"scrumboard-board-color-selector"),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.rc("@slideInRight",void 0),I.Gb(1),I.rc("ngClass",r.board.settings.color)}}var kt,wt=((kt=function(){function t(e){a(this,t),this.scrumboardService=e,this.view="main",this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleCardCover",value:function(){this.board.settings.cardCoverImages=!this.board.settings.cardCoverImages,this.scrumboardService.updateBoard()}},{key:"toggleSubscription",value:function(){this.board.settings.subscribed=!this.board.settings.subscribed,this.scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||kt)(I.Sb(F))},kt.\u0275cmp=I.Mb({type:kt,selectors:[["scrumboard-board-settings"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch","click"],["class","view",4,"ngSwitchCase"],[1,"view"],["fxLayout","column","fxLayoutAlign","center center",1,"header","px-24",3,"ngClass"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"click"],[1,"nav-link-icon"],[1,"title"],["fxFlex","",1,"title"],["class","s-18",4,"ngIf"],["matRipple","",1,"nav-link"],[1,"s-18"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","px-24",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"s-16"],["fusePerfectScrollbar","",1,"content","p-8"]],template:function(t,e){1&t&&(I.Yb(0,"div",0),I.gc("click",(function(t){return t.stopPropagation()})),I.Rc(1,vt,39,4,"div",1),I.Rc(2,xt,9,2,"div",1),I.Xb()),2&t&&(I.rc("ngSwitch",e.view),I.Gb(1),I.rc("ngSwitchCase","main"),I.Gb(1),I.rc("ngSwitchCase","board-color"))},directives:[z.x,z.y,H.e,H.d,z.q,W.a,N.a,m.r,p.a,H.b,z.t,dt.a,s.b,gt],styles:["scrumboard-board-settings{display:flex;flex-direction:column;flex:1 0 auto;height:100%}scrumboard-board-settings .views{display:flex;flex-direction:column;position:relative;overflow:hidden;height:100%}scrumboard-board-settings .views .view{position:absolute;width:100%;height:100%;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column}scrumboard-board-settings .views .view>.header{flex:0 1 auto;height:64px;min-height:64px;border-bottom:1px solid}scrumboard-board-settings .views .view>.content{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch}"],encapsulation:2,data:{animation:_.a}}),kt),yt=o("2nsM"),Xt=function t(e){a(this,t),this.id=e.id||R.a.generateGUID(),this.name=e.name||"",this.description=e.description||"",this.idAttachmentCover=e.idAttachmentCover||"",this.idMembers=e.idMembers||[],this.idLabels=e.idLabels||[],this.attachments=e.attachments||[],this.subscribed=e.subscribed||!0,this.checklists=e.checklists||[],this.checkItems=e.checkItems||0,this.checkItemsChecked=e.checkItemsChecked||0,this.comments=e.comments||[],this.activities=e.activities||[],this.due=e.due||""},Yt=o("qwfY");function Ct(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",10),I.Tb(1,"div",11),I.Yb(2,"mat-checkbox",12),I.gc("change",(function(){I.Hc(a);var t=e.$implicit,r=I.kc(2);return r.toggleInArray(t.id,r.card.idLabels),r.onCardLabelsChanged()})),I.Tc(3),I.Xb(),I.Yb(4,"button",13),I.Yb(5,"mat-icon",14),I.gc("click",(function(){I.Hc(a);var t=e.$implicit,r=I.kc(2);return r.labelsMenuView="edit",r.selectedLabel=t})),I.Tc(6,"mode_edit"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=e.$implicit,i=I.kc(2);I.Gb(1),I.rc("ngClass",r.color),I.Gb(1),I.rc("checked",i.card.idLabels.indexOf(r.id)>-1),I.Gb(1),I.Vc(" ",r.name," ")}}function Lt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",4),I.Yb(1,"div",5),I.Yb(2,"div"),I.Tc(3,"Labels"),I.Xb(),I.Yb(4,"button",6),I.gc("click",(function(){return I.Hc(a),I.kc().labelsMenuView="add"})),I.Yb(5,"mat-icon",7),I.Tc(6,"add"),I.Xb(),I.Yb(7,"span"),I.Tc(8,"Add"),I.Xb(),I.Xb(),I.Xb(),I.Yb(9,"div",8),I.Rc(10,Ct,7,3,"div",9),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.Gb(10),I.rc("ngForOf",r.board.labels)}}function Tt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",15),I.Yb(1,"div",16),I.Yb(2,"button",17),I.gc("click",(function(){return I.Hc(a),I.kc().labelsMenuView="labels"})),I.Yb(3,"mat-icon",7),I.Tc(4,"arrow_back"),I.Xb(),I.Xb(),I.Yb(5,"div"),I.Tc(6,"Edit Label"),I.Xb(),I.Xb(),I.Yb(7,"div",18),I.Yb(8,"mat-form-field"),I.Yb(9,"input",19),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().selectedLabel.name=t}))("change",(function(){return I.Hc(a),I.kc().onLabelChange()})),I.Xb(),I.Xb(),I.Yb(10,"fuse-material-color-picker",20),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().selectedLabel.color=t}))("colorChanged",(function(t){return I.Hc(a),I.kc().onLabelChange()})),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.Gb(9),I.rc("ngModel",r.selectedLabel.name),I.Gb(1),I.rc("ngModel",r.selectedLabel.color)}}function It(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",21),I.Yb(1,"div",16),I.Yb(2,"button",17),I.gc("click",(function(){return I.Hc(a),I.kc().labelsMenuView="labels"})),I.Yb(3,"mat-icon",7),I.Tc(4,"arrow_back"),I.Xb(),I.Xb(),I.Yb(5,"div"),I.Tc(6,"Add Label"),I.Xb(),I.Xb(),I.Yb(7,"form",22,23),I.gc("submit",(function(){return I.Hc(a),I.kc().addNewLabel()})),I.Yb(9,"div",24),I.Yb(10,"mat-form-field",25),I.Yb(11,"input",26),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().newLabel.name=t})),I.Xb(),I.Xb(),I.Yb(12,"fuse-material-color-picker",27),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().newLabel.color=t})),I.Xb(),I.Xb(),I.Yb(13,"button",28),I.Tc(14,"ADD NEW LABEL"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.Dc(8),i=I.kc();I.Gb(11),I.rc("ngModel",i.newLabel.name),I.Gb(1),I.rc("ngModel",i.newLabel.color),I.Gb(1),I.rc("disabled",!r.valid)}}var At,Ft=((At=function(){function t(e){a(this,t),this._scrumboardService=e,this.cardLabelsChanged=new I.o,this.labelsMenuView="labels",this.newLabel={id:"",name:"",color:"blue-400"},this.toggleInArray=R.a.toggleInArray,this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onCardLabelsChanged",value:function(){this.cardLabelsChanged.next()}},{key:"onLabelChange",value:function(){this._scrumboardService.updateBoard()}},{key:"addNewLabel",value:function(){this.newLabel.id=R.a.generateGUID(),this.board.labels.push(Object.assign({},this.newLabel)),this.newLabel.name="",this.labelsMenuView="labels"}}]),t}()).\u0275fac=function(t){return new(t||At)(I.Sb(F))},At.\u0275cmp=I.Mb({type:At,selectors:[["scrumboard-label-selector"]],inputs:{card:"card"},outputs:{cardLabelsChanged:"cardLabelsChanged"},decls:4,vars:4,consts:[[1,"views",3,"ngSwitch","click"],["class","view","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view edit","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view add","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["fxFlex","","fxLayout","column",1,"view"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","",3,"click"],[1,"s-16"],["fxFlex","","fxLayout","column","fusePerfectScrollbar",""],["class","label","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",1,"label"],[1,"label-color",3,"ngClass"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"checked","change"],["mat-icon-button",""],[1,"s-16",3,"click"],["fxFlex","","fxLayout","column",1,"view","edit"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"content"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange","change"],[1,"ml-8",3,"ngModel","ngModelChange","colorChanged"],["fxFlex","","fxLayout","column",1,"view","add"],["fxFlex","","fxLayout","column","fxLayoutAlign","start end",3,"submit"],["newLabelForm","ngForm"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],["matInput","","placeholder","Name","name","labelName","required","",3,"ngModel","ngModelChange"],["name","labelColor",1,"ml-8",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"mat-accent","mt-16",3,"disabled"]],template:function(t,e){1&t&&(I.Yb(0,"div",0),I.gc("click",(function(t){return t.stopPropagation()})),I.Rc(1,Lt,11,1,"div",1),I.Rc(2,Tt,11,2,"div",2),I.Rc(3,It,15,3,"div",3),I.Xb()),2&t&&(I.rc("ngSwitch",e.labelsMenuView),I.Gb(1),I.rc("ngSwitchCase","labels"),I.Gb(1),I.rc("ngSwitchCase","edit"),I.Gb(1),I.rc("ngSwitchCase","add"))},directives:[z.x,z.y,H.b,H.e,H.d,s.b,p.a,N.a,z.s,z.q,W.a,b.a,g.c,h.b,J.c,J.p,J.s,Yt.a,J.x,J.q,J.r,J.v],styles:[".scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 8px 8px 16px;margin-bottom:8px}.scrumboard-labels-menu .mat-menu-content .views .view .label{margin:0 8px 8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view .label .label-color{width:8px;height:8px;border-radius:100%;margin-right:12px}.scrumboard-labels-menu .mat-menu-content .views .view.add>.header,.scrumboard-labels-menu .mat-menu-content .views .view.edit>.header{padding:0 8px 8px 0}.scrumboard-labels-menu .mat-menu-content .views .view.add form,.scrumboard-labels-menu .mat-menu-content .views .view.edit form{padding:0 16px 8px}.scrumboard-labels-menu .mat-menu-content .views .view.add form .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit form .mat-form-field-infix{width:auto!important}.scrumboard-labels-menu .mat-menu-content .views .view.add .content,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content{padding:8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add .content .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content .mat-form-field-infix{width:auto!important}"],encapsulation:2,data:{animation:_.a}}),At),Gt=o("vVcS"),Mt=["checklistMenuTrigger"],St=["newCheckListTitleField"];function _t(t,e){if(1&t&&(I.Yb(0,"button",13),I.Yb(1,"mat-icon"),I.Tc(2,"today"),I.Xb(),I.Xb()),2&t){I.kc();var a=I.Dc(6);I.rc("matMenuTriggerFor",a)}}function Rt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"mat-form-field"),I.Yb(1,"input",38),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc(2).card.due=t})),I.Xb(),I.Tb(2,"mat-datepicker-toggle",39),I.Tb(3,"mat-datepicker",null,40),I.Xb()}if(2&t){var r=I.Dc(4),i=I.kc(2);I.Gb(1),I.rc("matDatepicker",r)("ngModel",i.card.due),I.Gb(1),I.rc("for",r)}}function Dt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"mat-checkbox",41),I.gc("change",(function(){I.Hc(a);var t=e.$implicit,r=I.kc(2);return r.toggleInArray(t.id,r.card.idMembers),r.updateCard()})),I.Yb(1,"div",42),I.Tb(2,"img",43),I.Yb(3,"p",44),I.Tc(4),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=e.$implicit,i=I.kc(2);I.rc("checked",i.card.idMembers.indexOf(r.id)>-1),I.Gb(2),I.rc("alt",r.name)("src",r.avatar,I.Jc),I.Gb(2),I.Uc(r.name)}}function Ot(t,e){1&t&&(I.Yb(0,"mat-icon"),I.Tc(1,"visibility"),I.Xb())}function Bt(t,e){1&t&&(I.Yb(0,"mat-icon"),I.Tc(1,"visibility_off"),I.Xb())}function Ht(t,e){if(1&t){var a=I.Zb();I.Yb(0,"button",10),I.gc("click",(function(){return I.Hc(a),I.kc(2).toggleSubscribe()})),I.Tc(1," Unsubscribe "),I.Xb()}}function Nt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"button",10),I.gc("click",(function(){return I.Hc(a),I.kc(2).toggleSubscribe()})),I.Tc(1," Subscribe "),I.Xb()}}function zt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"mat-toolbar",3),I.Yb(1,"div",4),I.Yb(2,"div",5),I.Yb(3,"div",6),I.Rc(4,_t,3,1,"button",7),I.Yb(5,"mat-menu",8,9),I.Yb(7,"button",10),I.gc("click",(function(){return I.Hc(a),I.kc().removeDueDate()})),I.Tc(8,"Remove Due Date"),I.Xb(),I.Xb(),I.Rc(9,Rt,5,3,"mat-form-field",11),I.Xb(),I.Yb(10,"div",12),I.Yb(11,"button",13),I.Yb(12,"mat-icon"),I.Tc(13,"label"),I.Xb(),I.Xb(),I.Yb(14,"mat-menu",14,15),I.Yb(16,"scrumboard-label-selector",16),I.gc("cardLabelsChanged",(function(){return I.Hc(a),I.kc().updateCard()})),I.Xb(),I.Xb(),I.Xb(),I.Yb(17,"div",17),I.Yb(18,"button",18),I.Yb(19,"mat-icon"),I.Tc(20,"account_circle"),I.Xb(),I.Xb(),I.Yb(21,"mat-menu",8,19),I.Yb(23,"div",20),I.gc("click",(function(t){return I.Hc(a),t.stopPropagation()})),I.Rc(24,Dt,5,4,"mat-checkbox",21),I.Xb(),I.Xb(),I.Xb(),I.Yb(25,"button",22),I.Yb(26,"mat-icon"),I.Tc(27,"attachment"),I.Xb(),I.Xb(),I.Yb(28,"div",6),I.Yb(29,"button",23,24),I.gc("menuOpened",(function(){return I.Hc(a),I.kc().onChecklistMenuOpen()})),I.Yb(31,"mat-icon"),I.Tc(32,"check_box"),I.Xb(),I.Xb(),I.Yb(33,"mat-menu",8,25),I.Yb(35,"form",26,27),I.gc("submit",(function(){I.Hc(a);var t=I.Dc(36);return I.kc().addChecklist(t)}))("click",(function(t){return I.Hc(a),t.stopPropagation()})),I.Yb(37,"mat-form-field",28),I.gc("click",(function(t){return I.Hc(a),t.stopPropagation()})),I.Yb(38,"mat-label"),I.Tc(39,"Checklist title"),I.Xb(),I.Tb(40,"input",29,30),I.Xb(),I.Yb(43,"button",31),I.Tc(44,"Add Checklist "),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(45,"div",32),I.Yb(46,"button",13),I.Rc(47,Ot,2,0,"mat-icon",11),I.Rc(48,Bt,2,0,"mat-icon",11),I.Xb(),I.Yb(49,"mat-menu",8,33),I.Rc(51,Ht,2,0,"button",34),I.Rc(52,Nt,2,0,"button",34),I.Xb(),I.Xb(),I.Yb(53,"div",35),I.Yb(54,"button",18),I.Yb(55,"mat-icon"),I.Tc(56,"more_horiz"),I.Xb(),I.Xb(),I.Yb(57,"mat-menu",8,36),I.Yb(59,"button",10),I.gc("click",(function(){return I.Hc(a),I.kc().removeCard()})),I.Tc(60," Remove Card "),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(61,"button",37),I.gc("click",(function(){return I.Hc(a),I.kc().matDialogRef.close()})),I.Yb(62,"mat-icon"),I.Tc(63,"close"),I.Xb(),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.Dc(15),i=I.Dc(22),o=I.Dc(34),n=I.Dc(36),c=I.Dc(50),d=I.Dc(58),s=I.kc();I.Gb(4),I.rc("ngIf",s.card.due),I.Gb(1),I.rc("overlapTrigger",!1),I.Gb(4),I.rc("ngIf",!s.card.due),I.Gb(2),I.rc("matMenuTriggerFor",r),I.Gb(3),I.rc("overlapTrigger",!1),I.Gb(2),I.rc("card",s.card),I.Gb(2),I.rc("matMenuTriggerFor",i),I.Gb(3),I.rc("overlapTrigger",!1),I.Gb(3),I.rc("ngForOf",s.board.members),I.Gb(5),I.rc("matMenuTriggerFor",o),I.Gb(4),I.rc("overlapTrigger",!1),I.Gb(10),I.rc("disabled",!n.valid),I.Gb(3),I.rc("matMenuTriggerFor",c),I.Gb(1),I.rc("ngIf",s.card.subscribed),I.Gb(1),I.rc("ngIf",!s.card.subscribed),I.Gb(1),I.rc("overlapTrigger",!1),I.Gb(2),I.rc("ngIf",s.card.subscribed),I.Gb(1),I.rc("ngIf",!s.card.subscribed),I.Gb(2),I.rc("matMenuTriggerFor",d),I.Gb(3),I.rc("overlapTrigger",!1)}}function Ut(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",73),I.Yb(1,"mat-form-field",49),I.Yb(2,"mat-label"),I.Tc(3,"Due Date"),I.Xb(),I.Yb(4,"input",38),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc(2).card.due=t})),I.Xb(),I.Tb(5,"mat-datepicker-toggle",39),I.Tb(6,"mat-datepicker",null,74),I.Xb(),I.Xb()}if(2&t){var r=I.Dc(7),i=I.kc(2);I.Gb(4),I.rc("matDatepicker",r)("ngModel",i.card.due),I.Gb(1),I.rc("for",r)}}function $t(t,e){if(1&t&&(I.Yb(0,"mat-chip",81),I.lc(1,"getById"),I.Yb(2,"span"),I.Tc(3),I.lc(4,"getById"),I.Xb(),I.Xb()),2&t){var a=e.$implicit,r=I.kc(4);I.rc("ngClass",I.oc(1,2,r.board.labels,a,"color")),I.Gb(3),I.Uc(I.oc(4,6,r.board.labels,a,"name"))}}function Zt(t,e){if(1&t&&(I.Yb(0,"div",78),I.Yb(1,"div",60),I.Yb(2,"mat-icon",61),I.Tc(3,"label"),I.Xb(),I.Yb(4,"span",62),I.Tc(5,"Labels"),I.Xb(),I.Xb(),I.Yb(6,"div",63),I.Yb(7,"mat-chip-list",79),I.Rc(8,$t,5,10,"mat-chip",80),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.kc(3);I.Gb(8),I.rc("ngForOf",a.card.idLabels)}}function Pt(t,e){if(1&t&&(I.Yb(0,"div",85),I.Tb(1,"img",86),I.lc(2,"getById"),I.lc(3,"getById"),I.Xb()),2&t){var a=e.$implicit,r=I.kc(4);I.Gb(1),I.rc("src",I.oc(2,2,r.board.members,a,"avatar"),I.Jc)("matTooltip",I.oc(3,6,r.board.members,a,"name"))}}function Vt(t,e){if(1&t&&(I.Yb(0,"div",82),I.Yb(1,"div",60),I.Yb(2,"mat-icon",61),I.Tc(3,"supervisor_account"),I.Xb(),I.Yb(4,"span",62),I.Tc(5,"Members"),I.Xb(),I.Xb(),I.Yb(6,"div",63),I.Yb(7,"div",83),I.Rc(8,Pt,4,10,"div",84),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.kc(3);I.Gb(8),I.rc("ngForOf",a.card.idMembers)}}function jt(t,e){if(1&t&&(I.Yb(0,"div",75),I.Rc(1,Zt,9,1,"div",76),I.Rc(2,Vt,9,1,"div",77),I.Xb()),2&t){var a=I.kc(2);I.Gb(1),I.rc("ngIf",a.card.idLabels[0]),I.Gb(1),I.rc("ngIf",a.card.idMembers[0])}}function qt(t,e){1&t&&(I.Yb(0,"mat-icon",106),I.Tc(1," star "),I.Xb())}function Et(t,e){1&t&&(I.Yb(0,"span"),I.Tc(1,"Make Cover"),I.Xb())}function Wt(t,e){1&t&&(I.Yb(0,"span"),I.Tc(1,"Remove Cover"),I.Xb())}function Jt(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",95),I.Yb(1,"div",96),I.Tb(2,"img",97),I.Xb(),I.Yb(3,"div",98),I.Yb(4,"div",99),I.Yb(5,"div",100),I.Yb(6,"span",101),I.Tc(7),I.Xb(),I.Rc(8,qt,2,0,"mat-icon",102),I.Xb(),I.Yb(9,"span",103),I.Tc(10),I.Xb(),I.Xb(),I.Yb(11,"button",104),I.Yb(12,"mat-icon"),I.Tc(13,"more_vert"),I.Xb(),I.Xb(),I.Yb(14,"mat-menu",null,105),I.Yb(16,"button",10),I.gc("click",(function(){I.Hc(a);var t=I.kc().$implicit;return I.kc(3).toggleCoverImage(t.id)})),I.Rc(17,Et,2,0,"span",11),I.Rc(18,Wt,2,0,"span",11),I.Xb(),I.Yb(19,"button",10),I.gc("click",(function(){I.Hc(a);var t=I.kc().$implicit;return I.kc(3).removeAttachment(t)})),I.Tc(20," Remove Attachment "),I.Xb(),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.Dc(15),i=I.kc().$implicit,o=I.kc(3);I.Gb(2),I.rc("src",i.src,I.Jc),I.Gb(5),I.Uc(i.name),I.Gb(1),I.rc("ngIf",o.card.idAttachmentCover===i.id),I.Gb(2),I.Uc(i.time),I.Gb(1),I.rc("matMenuTriggerFor",r),I.Gb(6),I.rc("ngIf",o.card.idAttachmentCover!==i.id),I.Gb(1),I.rc("ngIf",o.card.idAttachmentCover===i.id)}}function Qt(t,e){if(1&t&&(I.Yb(0,"div",107),I.Yb(1,"div",108),I.Yb(2,"span"),I.Tc(3,"LINK"),I.Xb(),I.Xb(),I.Yb(4,"div",109),I.Yb(5,"span",110),I.Tc(6),I.Xb(),I.Yb(7,"span",103),I.Tc(8),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.kc().$implicit;I.Gb(6),I.Uc(a.url),I.Gb(2),I.Uc(a.time)}}function Kt(t,e){1&t&&(I.Yb(0,"div",92),I.Rc(1,Jt,21,7,"div",93),I.Rc(2,Qt,9,2,"div",94),I.Xb()),2&t&&(I.rc("ngSwitch",e.$implicit.type),I.Gb(1),I.rc("ngSwitchCase","image"),I.Gb(1),I.rc("ngSwitchCase","link"))}function te(t,e){if(1&t&&(I.Yb(0,"div",58),I.Yb(1,"div",87),I.Yb(2,"div",88),I.Yb(3,"mat-icon",61),I.Tc(4,"attachment"),I.Xb(),I.Yb(5,"span",62),I.Tc(6,"Attachments"),I.Xb(),I.Xb(),I.Yb(7,"div",63),I.Yb(8,"div",89),I.Rc(9,Kt,3,3,"div",90),I.Xb(),I.Yb(10,"button",91),I.Tc(11," Add an attachment "),I.Xb(),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.kc(2);I.Gb(9),I.rc("ngForOf",a.card.attachments)}}function ee(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",127),I.Yb(1,"div",5),I.Yb(2,"mat-form-field",128),I.Yb(3,"input",129),I.gc("ngModelChange",(function(t){return I.Hc(a),e.$implicit.name=t})),I.Xb(),I.Yb(4,"mat-checkbox",130),I.gc("ngModelChange",(function(t){return I.Hc(a),e.$implicit.checked=t}))("change",(function(){I.Hc(a);var t=I.kc().$implicit;return I.kc(2).updateCheckedCount(t)})),I.Xb(),I.Yb(5,"button",131),I.gc("click",(function(){I.Hc(a);var t=e.$implicit,r=I.kc().$implicit;return I.kc(2).removeChecklistItem(t,r)})),I.Yb(6,"mat-icon",132),I.Tc(7,"delete"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=e.$implicit;I.Gb(3),I.rc("ngModel",r.name),I.Gb(1),I.sc("aria-label",r.name),I.rc("ngModel",r.checked)}}function ae(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",58),I.Yb(1,"div",111),I.Yb(2,"div",60),I.Yb(3,"mat-icon",61),I.Tc(4,"check_box"),I.Xb(),I.Yb(5,"span",112),I.Tc(6),I.Xb(),I.Yb(7,"div"),I.Yb(8,"button",113),I.Yb(9,"mat-icon",47),I.Tc(10,"more_vert"),I.Xb(),I.Xb(),I.Yb(11,"mat-menu",null,114),I.Yb(13,"button",10),I.gc("click",(function(){I.Hc(a);var t=e.$implicit;return I.kc(2).removeChecklist(t)})),I.Yb(14,"mat-icon"),I.Tc(15,"delete"),I.Xb(),I.Yb(16,"span"),I.Tc(17,"Remove Checklist"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(18,"div",63),I.Yb(19,"div",115),I.Yb(20,"span",116),I.Tc(21),I.Xb(),I.Tb(22,"mat-progress-bar",117),I.Xb(),I.Yb(23,"div",118),I.Rc(24,ee,8,3,"div",119),I.Xb(),I.Yb(25,"form",120,121),I.gc("submit",(function(){I.Hc(a);var t=e.$implicit,r=I.Dc(26);return I.kc(2).addCheckItem(r,t)})),I.Yb(27,"div",122),I.Yb(28,"mat-form-field",123),I.Tb(29,"input",124,125),I.Xb(),I.Xb(),I.Yb(31,"button",126),I.Yb(32,"mat-icon"),I.Tc(33,"add"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=e.$implicit,i=I.Dc(12),o=I.Dc(26);I.Gb(6),I.Uc(r.name),I.Gb(2),I.rc("matMenuTriggerFor",i),I.Gb(13),I.Wc(" ",r.checkItemsChecked," / ",r.checkItems.length," "),I.Gb(1),I.sc("value",100*r.checkItemsChecked/r.checkItems.length),I.Gb(2),I.rc("ngForOf",r.checkItems),I.Gb(7),I.rc("disabled",!o.valid||o.pristine)}}function re(t,e){if(1&t&&(I.Yb(0,"div",133),I.Tb(1,"img",134),I.lc(2,"getById"),I.Yb(3,"div",135),I.Yb(4,"div",136),I.Tc(5),I.lc(6,"getById"),I.Xb(),I.Yb(7,"div",137),I.Tc(8),I.Xb(),I.Yb(9,"div",138),I.Tc(10),I.Xb(),I.Xb(),I.Xb()),2&t){var a=e.$implicit,r=I.kc(2);I.Gb(1),I.rc("src",I.oc(2,4,r.board.members,a.idMember,"avatar"),I.Jc),I.Gb(4),I.Vc(" ",I.oc(6,8,r.board.members,a.idMember,"name")," "),I.Gb(3),I.Uc(a.message),I.Gb(2),I.Uc(a.time)}}function ie(t,e){if(1&t&&(I.Yb(0,"div",141),I.Tb(1,"img",142),I.lc(2,"getById"),I.Yb(3,"div"),I.Yb(4,"div",42),I.Yb(5,"div",143),I.Tc(6),I.lc(7,"getById"),I.Xb(),I.Yb(8,"div",144),I.Tc(9),I.Xb(),I.Xb(),I.Yb(10,"div",145),I.Tc(11),I.Xb(),I.Xb(),I.Xb()),2&t){var a=e.$implicit,r=I.kc(3);I.Gb(1),I.rc("src",I.oc(2,4,r.board.members,a.idMember,"avatar"),I.Jc),I.Gb(5),I.Vc(" ",I.oc(7,8,r.board.members,a.idMember,"name")," "),I.Gb(3),I.Uc(a.message),I.Gb(2),I.Uc(a.time)}}function oe(t,e){if(1&t&&(I.Yb(0,"div",58),I.Yb(1,"div",139),I.Yb(2,"div",60),I.Yb(3,"mat-icon",61),I.Tc(4,"list"),I.Xb(),I.Yb(5,"span",62),I.Tc(6,"Activity"),I.Xb(),I.Xb(),I.Yb(7,"div",63),I.Rc(8,ie,12,12,"div",140),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.kc(2);I.Gb(8),I.rc("ngForOf",a.card.activities)}}function ne(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",45),I.Yb(1,"div",46),I.Yb(2,"span"),I.Tc(3),I.Xb(),I.Yb(4,"mat-icon",47),I.Tc(5,"chevron_right"),I.Xb(),I.Yb(6,"span"),I.Tc(7),I.Xb(),I.Xb(),I.Yb(8,"div",42),I.Yb(9,"div",48),I.Yb(10,"mat-form-field",49),I.Yb(11,"mat-label"),I.Tc(12,"Title"),I.Xb(),I.Yb(13,"input",50),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().card.name=t}))("change",(function(){return I.Hc(a),I.kc().updateCard()})),I.Xb(),I.Xb(),I.Xb(),I.Rc(14,Ut,8,3,"div",51),I.Xb(),I.Yb(15,"div",52),I.Yb(16,"mat-form-field",49),I.Yb(17,"mat-label"),I.Tc(18,"Description"),I.Xb(),I.Yb(19,"textarea",53),I.gc("ngModelChange",(function(t){return I.Hc(a),I.kc().card.description=t}))("change",(function(){return I.Hc(a),I.kc().updateCard()})),I.Xb(),I.Xb(),I.Xb(),I.Yb(20,"div",54),I.Rc(21,jt,3,2,"div",55),I.Rc(22,te,12,1,"div",56),I.Rc(23,ae,34,7,"div",57),I.Yb(24,"div",58),I.Yb(25,"div",59),I.Yb(26,"div",60),I.Yb(27,"mat-icon",61),I.Tc(28,"comment"),I.Xb(),I.Yb(29,"span",62),I.Tc(30,"Comments"),I.Xb(),I.Xb(),I.Yb(31,"div",63),I.Yb(32,"form",64,65),I.gc("submit",(function(){I.Hc(a);var t=I.Dc(33);return I.kc().addNewComment(t)})),I.Yb(34,"div",66),I.Tb(35,"img",67),I.Yb(36,"mat-form-field",68),I.Yb(37,"mat-label"),I.Tc(38,"Comment"),I.Xb(),I.Tb(39,"input",69,70),I.Xb(),I.Yb(41,"button",71),I.Yb(42,"mat-icon"),I.Tc(43,"add"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Rc(44,re,11,12,"div",72),I.Xb(),I.Xb(),I.Xb(),I.Rc(45,oe,9,1,"div",56),I.Xb(),I.Xb()}if(2&t){var r=I.Dc(33),i=I.kc();I.Gb(3),I.Uc(i.board.name),I.Gb(4),I.Uc(i.list.name),I.Gb(6),I.rc("ngModel",i.card.name),I.Gb(1),I.rc("ngIf",i.card.due),I.Gb(5),I.rc("ngModel",i.card.description),I.Gb(2),I.rc("ngIf",i.card.idLabels[0]||i.card.idMembers[0]),I.Gb(1),I.rc("ngIf",i.card.attachments[0]),I.Gb(1),I.rc("ngForOf",i.card.checklists),I.Gb(18),I.rc("disabled",!r.valid||r.pristine),I.Gb(3),I.rc("ngForOf",i.card.comments),I.Gb(1),I.rc("ngIf",i.card.activities[0])}}var ce,de=((ce=function(){function e(t,r,i,o){a(this,e),this.matDialogRef=t,this._data=r,this._matDialog=i,this._scrumboardService=o,this.toggleInArray=R.a.toggleInArray,this._unsubscribeAll=new M.a}return i(e,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e,t.card=t.board.cards.find((function(e){return t._data.cardId===e.id})),t.list=t.board.lists.find((function(e){return t._data.listId===e.id}))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"removeDueDate",value:function(){this.card.due="",this.updateCard()}},{key:"toggleSubscribe",value:function(){this.card.subscribed=!this.card.subscribed,this.updateCard()}},{key:"toggleCoverImage",value:function(t){this.card.idAttachmentCover=this.card.idAttachmentCover===t?"":t,this.updateCard()}},{key:"removeAttachment",value:function(t){t.id===this.card.idAttachmentCover&&(this.card.idAttachmentCover=""),this.card.attachments.splice(this.card.attachments.indexOf(t),1),this.updateCard()}},{key:"removeChecklist",value:function(t){this.card.checklists.splice(this.card.checklists.indexOf(t),1),this.updateCard()}},{key:"updateCheckedCount",value:function(e){var a,r=0,i=0,o=0,n=t(e.checkItems);try{for(n.s();!(a=n.n()).done;)a.value.checked&&r++}catch(b){n.e(b)}finally{n.f()}e.checkItemsChecked=r;var c,d=t(this.card.checklists);try{for(d.s();!(c=d.n()).done;){var s=c.value;o+=s.checkItems.length,i+=s.checkItemsChecked}}catch(b){d.e(b)}finally{d.f()}this.card.checkItems=o,this.card.checkItemsChecked=i,this.updateCard()}},{key:"removeChecklistItem",value:function(t,e){e.checkItems.splice(e.checkItems.indexOf(t),1),this.updateCheckedCount(e),this.updateCard()}},{key:"addCheckItem",value:function(t,e){var a=t.value.checkItem;a&&""!==a&&(e.checkItems.push({name:a,checked:!1}),this.updateCheckedCount(e),t.setValue({checkItem:""}),this.updateCard())}},{key:"addChecklist",value:function(t){this.card.checklists.push({id:R.a.generateGUID(),name:t.value.checklistTitle,checkItemsChecked:0,checkItems:[]}),t.setValue({checklistTitle:""}),t.resetForm(),this.checklistMenu.closeMenu(),this.updateCard()}},{key:"onChecklistMenuOpen",value:function(){var t=this;setTimeout((function(){t.newCheckListTitleField.nativeElement.focus()}))}},{key:"addNewComment",value:function(t){this.card.comments.unshift({idMember:"36027j1930450d8bf7b10158",message:t.value.newComment,time:"now"}),t.setValue({newComment:""}),this.updateCard()}},{key:"removeCard",value:function(){var t=this;this.confirmDialogRef=this._matDialog.open(yt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the card?",this.confirmDialogRef.afterClosed().subscribe((function(e){e&&(t.matDialogRef.close(),t._scrumboardService.removeCard(t.card.id,t.list.id))}))}},{key:"updateCard",value:function(){this._scrumboardService.updateCard(this.card)}}]),e}()).\u0275fac=function(t){return new(t||ce)(I.Sb(f.f),I.Sb(f.a),I.Sb(f.b),I.Sb(F))},ce.\u0275cmp=I.Mb({type:ce,selectors:[["scrumboard-board-card-dialog"]],viewQuery:function(t,e){var a;1&t&&(I.Xc(Mt,!0),I.Xc(St,!0)),2&t&&(I.Cc(a=I.hc())&&(e.checklistMenu=a.first),I.Cc(a=I.hc())&&(e.newCheckListTitleField=a.first))},decls:3,vars:2,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","","class","accent m-0","fxFlex","1 0 auto","fxLayout","row",4,"ngIf"],["mat-dialog-content","","class","py-24 px-0 m-0","fusePerfectScrollbar","",4,"ngIf"],["matDialogTitle","","fxFlex","1 0 auto","fxLayout","row",1,"accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","0 1 auto",1,"due-date"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["dueDateMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto",1,"labels"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"scrumboard-labels-menu",3,"overlapTrigger"],["labelsMenu","matMenu"],[3,"card","cardLabelsChanged"],["fxFlex","0 1 auto",1,"members"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["membersMenu","matMenu"],["fxFlex","","fxLayout","column",1,"scrumboard-members-menu",3,"click"],["class","member px-16",3,"checked","change",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Attachment"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","menuOpened"],["checklistMenuTrigger","matMenuTrigger"],["checklistMenu","matMenu"],["fxLayout","column","fxLayoutAlign","start end",1,"px-16","py-8",3,"submit","click"],["newChecklistForm","ngForm"],["appearance","outline","fxFlex","",3,"click"],["matInput","","ngModel","","name","checklistTitle","required",""],["newCheckListTitleField","","checklistTitle","ngModel"],["mat-raised-button","","aria-label","Add Checklist",1,"mat-accent",3,"disabled"],["fxFlex","0 1 auto",1,"subscribe"],["subscribeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["fxFlex","0 1 auto",1,"options"],["optionsMenu","matMenu"],["mat-icon-button","","aria-label","Close Dialog",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["menuPicker",""],[1,"member","px-16",3,"checked","change"],["fxLayout","row","fxLayoutAlign","start center"],[1,"avatar",3,"alt","src"],[1,"member-name"],["mat-dialog-content","","fusePerfectScrollbar","",1,"py-24","px-0","m-0"],["fxLayout","row","fxLayoutAlign","start center",1,"card-breadcrumb","mt-8","mb-32","px-24"],[1,"s-20"],["fxLayout","row","fxLayoutAlign","start center",1,"card-name","px-24"],["appearance","outline",1,"w-100-p"],["matInput","","required","",3,"ngModel","ngModelChange","change"],["class","due-date px-24 pl-0","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[1,"description","px-24","mb-16"],["matInput","","columns","1","mat-maxlength","150","max-rows","4",3,"ngModel","ngModelChange","change"],[1,"sections"],["class","section","fxLayout","column","fxLayout.gt-xs","row",4,"ngIf"],["class","section",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"comments"],["fxLayout","row","fxLayoutAlign","start center",1,"section-header"],[1,"mr-8"],[1,"section-title"],[1,"section-content"],["name","cardCommentForm","fxLayout","column","fxLayoutAlign","start","no-validate","",1,"comment","new-comment",3,"submit"],["newCommentForm","ngForm"],["fxLayout","row","fxLayoutAlign","center center"],["src","assets/images/avatars/profile.jpg",1,"comment-member-avatar"],["appearance","outline","fxFlex","",1,"mr-12"],["matInput","","name","newComment","ngModel","","required",""],["newComment","ngModel"],["mat-mini-fab","","aria-label","Add",1,"mat-accent",3,"disabled"],["class","comment","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"due-date","px-24","pl-0"],["picker",""],["fxLayout","column","fxLayout.gt-xs","row",1,"section"],["fxFlex","","class","labels",4,"ngIf"],["fxFlex","","class","members",4,"ngIf"],["fxFlex","",1,"labels"],[1,"label-chips"],["class","label-chip mb-4","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"label-chip","mb-4",3,"ngClass"],["fxFlex","",1,"members"],["fxLayout","row","fxLayoutWrap","",1,"member-chips"],["class","member-chip mb-4","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-chip","mb-4"],[1,"member-chip-avatar",3,"src","matTooltip"],[1,"attachments"],["fxLayout","row","fxLayoutAlign","start",1,"section-header"],["fxLayout","column","fxLayoutAlign","start","fxLayoutWrap","","fxLayout.gt-sm","row"],["class","attachment","fxFlex","33",3,"ngSwitch",4,"ngFor","ngForOf"],["mat-stroked-button","","aria-label","add attachment",1,"add-attachment-button"],["fxFlex","33",1,"attachment",3,"ngSwitch"],["fxLayout","column","fxLayoutAlign","start",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout","column","fxLayoutAlign","start"],[1,"attachment-preview","mat-elevation-z1"],[3,"src"],["fxLayout","row","fxLayoutAlign","start center",1,"attachment-content","mt-8"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","start start"],[1,"attachment-name"],["class","yellow-700-fg attachment-is-cover",4,"ngIf"],[1,"attachment-time"],["mat-icon-button","",1,"attachment-actions-button",3,"matMenuTriggerFor"],["attachmentActionsMenu","matMenu"],[1,"yellow-700-fg","attachment-is-cover"],["fxLayout","row"],["fxLayout","column","fxLayoutAlign","center center",1,"attachment-preview","mat-elevation-z2"],["fxLayout","column",1,"attachment-content"],[1,"attachment-url"],[1,"checklist"],["fxFlex","",1,"section-title"],["mat-icon-button","",1,"checklist-actions-button",3,"matMenuTriggerFor"],["checklistActionsMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start center",1,"checklist-progress"],[1,"checklist-progress-value"],["color","accent","mode","determinate",1,"checklist-progressbar",3,"value"],[1,"check-items"],["class","check-item","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["name","newCheckItemForm","fxLayout","row","fxLayoutAlign","start center",1,"new-check-item-form",3,"submit"],["newCheckItemForm","ngForm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["appearance","outline","fxFlex","",1,"no-errors-spacer","mr-16"],["matInput","","ngModel","","name","checkItem","autocomplete","off","placeholder","New checklist item"],["checkItem","ngModel"],["mat-mini-fab","","color","accent","aria-label","Add",3,"disabled"],["fxLayout","row","fxLayoutAlign","space-between center",1,"check-item"],["appearance","outline","fxFlex",""],["matInput","",3,"ngModel","ngModelChange"],["matPrefix","",3,"ngModel","aria-label","ngModelChange","change"],["mat-icon-button","","matSuffix","",1,"checklist-actions-button",3,"click"],[1,"secondary-text"],["fxLayout","row","fxLayoutAlign","start center",1,"comment"],[1,"comment-member-avatar",3,"src"],["fxLayout","column"],[1,"comment-member-name"],[1,"comment-bubble"],[1,"comment-time","secondary-text"],[1,"activities"],["class","activity","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"activity"],[1,"activity-member-avatar",3,"src"],[1,"activity-member-name"],[1,"activity-message"],[1,"activity-time","mt-4","secondary-text"]],template:function(t,e){1&t&&(I.Yb(0,"div",0),I.Rc(1,zt,64,20,"mat-toolbar",1),I.Rc(2,ne,46,11,"div",2),I.Xb()),2&t&&(I.Gb(1),I.rc("ngIf",e.card),I.Gb(1),I.rc("ngIf",e.card))},directives:[z.t,y.a,f.g,H.b,H.e,H.d,x.d,x.a,s.b,x.c,p.a,Ft,z.s,J.x,J.q,J.r,g.c,g.g,h.b,J.c,J.p,J.s,J.v,u.b,u.d,g.i,u.a,b.a,f.d,N.a,l.c,l.a,z.q,W.a,X.a,z.x,z.y,k.a,g.h],pipes:[Gt.a],styles:["@media screen and (max-width:599px){.scrumboard-card-dialog{width:100%}}@media screen and (min-width:600px){.scrumboard-card-dialog{width:720px}}.scrumboard-card-dialog .mat-dialog-container{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field{width:auto;margin:0 8px}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{align-items:center}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content{position:relative}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-breadcrumb{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-subscribe{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .picker{width:140px;min-width:140px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{width:100%;font-size:22px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{font-size:14px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section{border-bottom:1px solid;padding:0 24px;margin-bottom:32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child{border-bottom:none;margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child .section-content{padding-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header{font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header .section-title{font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-content{padding:24px 16px 32px 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip{display:block}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip{margin:4px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .member-chip-avatar{width:32px;border-radius:50%}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment{padding:0 24px 24px 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{font-weight:600;border-radius:4px;overflow:hidden}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-name,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-url{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-is-cover{margin-left:6px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button mat-icon{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress{margin:0 0 16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress .checklist-progress-value{margin-right:12px;font-weight:600;white-space:nowrap;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .editable-wrap{flex:1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox{position:relative;top:-5px;margin:0 12px 0 3px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox .mat-label{font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox.mat-checked .mat-label{text-decoration:line-through}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item .checklist-actions-button{position:relative;top:2px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form{margin:32px 0 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-name{font-size:14px;font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-time{font-size:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble{position:relative;padding:8px 12px;border:1px solid;font-size:14px;margin:6px 0;border-radius:20px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-name{font-size:14px;font-weight:600;margin-right:5px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-message{font-size:14px;margin-right:8px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-time{font-size:12px}.scrumboard-card-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.scrumboard-members-menu{width:240px}.scrumboard-members-menu .mat-checkbox-label,.scrumboard-members-menu .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid}"],encapsulation:2}),ce),se=["nameInput"];function be(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",2),I.gc("click",(function(){return I.Hc(a),I.kc().openForm()})),I.Tc(1),I.Xb()}if(2&t){var r=I.kc();I.Gb(1),I.Vc(" ",r.list.name,"\n")}}function le(t,e){if(1&t){var a=I.Zb();I.Yb(0,"form",3),I.gc("ngSubmit",(function(){return I.Hc(a),I.kc().onFormSubmit()})),I.Tb(1,"input",4,5),I.Yb(3,"button",6),I.Yb(4,"mat-icon"),I.Tc(5,"check"),I.Xb(),I.Xb(),I.Yb(6,"button",7),I.gc("click",(function(){return I.Hc(a),I.kc().closeForm()})),I.Yb(7,"mat-icon"),I.Tc(8,"close"),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.rc("formGroup",r.form)}}var me,ue=((me=function(){function t(e){a(this,t),this._formBuilder=e,this.formActive=!1,this.listNameChanged=new I.o}return i(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[this.list.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.list.name=this.form.getRawValue().name,this.listNameChanged.next(this.list.name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||me)(I.Sb(J.d))},me.\u0275cmp=I.Mb({type:me,selectors:[["scrumboard-board-edit-list-name"]],viewQuery:function(t,e){var a;1&t&&I.Xc(se,!0),2&t&&I.Cc(a=I.hc())&&(e.nameInputField=a.first)},inputs:{list:"list"},outputs:{listNameChanged:"listNameChanged"},decls:2,vars:2,consts:[["fxFlex","1 0 auto","class","list-header-name",3,"click",4,"ngIf"],["class","list-header-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto",1,"list-header-name",3,"click"],["fxLayout","row","fxFlex","1 0 auto",1,"list-header-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(I.Rc(0,be,2,1,"div",0),I.Rc(1,le,9,1,"form",1)),2&t&&(I.rc("ngIf",!e.formActive),I.Gb(1),I.rc("ngIf",e.formActive))},directives:[z.t,H.b,J.x,J.q,H.e,J.i,J.c,J.p,J.g,s.b,p.a],styles:["scrumboard-board-edit-list-name .list-header-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;cursor:pointer}"],encapsulation:2}),me),fe=["nameInput"];function ge(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",2),I.gc("click",(function(){return I.Hc(a),I.kc().openForm()})),I.Yb(1,"mat-icon",3),I.Tc(2,"add"),I.Xb(),I.Yb(3,"div"),I.Tc(4,"Add a card"),I.Xb(),I.Xb()}}function pe(t,e){if(1&t){var a=I.Zb();I.Yb(0,"div",4),I.Yb(1,"form",5),I.gc("submit",(function(){return I.Hc(a),I.kc().onFormSubmit()})),I.Yb(2,"mat-form-field",6),I.Tb(3,"input",7,8),I.Xb(),I.Yb(5,"div",9),I.Yb(6,"button",10),I.Yb(7,"span"),I.Tc(8,"Add"),I.Xb(),I.Xb(),I.Yb(9,"button",11),I.gc("click",(function(){return I.Hc(a),I.kc().closeForm()})),I.Yb(10,"mat-icon"),I.Tc(11,"close"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb()}if(2&t){var r=I.kc();I.Gb(1),I.rc("formGroup",r.form),I.Gb(5),I.rc("disabled",r.form.invalid)}}var he,ve=((he=function(){function t(e){a(this,t),this._formBuilder=e,this.formActive=!1,this.cardAdded=new I.o}return i(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:""}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){if(this.form.valid){var t=this.form.getRawValue().name;this.cardAdded.next(t),this.formActive=!1}}}]),t}()).\u0275fac=function(t){return new(t||he)(I.Sb(J.d))},he.\u0275cmp=I.Mb({type:he,selectors:[["scrumboard-board-add-card"]],viewQuery:function(t,e){var a;1&t&&I.Xc(fe,!0),2&t&&I.Cc(a=I.hc())&&(e.nameInputField=a.first)},outputs:{cardAdded:"cardAdded"},decls:2,vars:2,consts:[["class","add-card-button","fxLayout","row","fxLayoutAlign","start center",3,"click",4,"ngIf"],["class","add-card-form-wrapper",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"add-card-button",3,"click"],[1,"s-20"],[1,"add-card-form-wrapper"],["fxLayout","column",1,"add-card-form",3,"formGroup","submit"],["fxFlex","","floatLabel","never"],["matInput","","formControlName","name","placeholder","Card title","autocomplete","off","required",""],["nameInput",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"pl-8"],["mat-raised-button","","aria-label","add",1,"add-button","mat-accent",3,"disabled"],["mat-icon-button","","aria-label","cancel",1,"cancel-button",3,"click"]],template:function(t,e){1&t&&(I.Rc(0,ge,5,0,"div",0),I.Rc(1,pe,12,2,"div",1)),2&t&&(I.rc("ngIf",!e.formActive),I.Gb(1),I.rc("ngIf",e.formActive))},directives:[z.t,H.e,H.d,p.a,J.x,J.q,J.i,g.c,H.b,h.b,J.c,J.p,J.g,J.v,s.b],styles:["scrumboard-board-add-card .add-card-button{position:relative;height:48px;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:600;font-size:14px;cursor:pointer;border-radius:2px}scrumboard-board-add-card .add-card-button mat-icon{margin-right:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form{z-index:999;display:block;position:relative;padding:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form mat-form-field{width:100%;margin:0;padding:12px 8px}"],encapsulation:2}),he),xe=o("wd/R");function ke(t,e){if(1&t&&(I.Yb(0,"div",12),I.Tb(1,"img",13),I.lc(2,"getById"),I.Xb()),2&t){var a=I.kc();I.Gb(1),I.rc("src",I.oc(2,1,a.card.attachments,a.card.idAttachmentCover,"src"),I.Jc)}}function we(t,e){if(1&t&&(I.Tb(0,"span",16),I.lc(1,"getById"),I.lc(2,"getById")),2&t){var a=e.$implicit,r=I.kc(2);I.rc("ngClass",I.oc(1,2,r.board.labels,a,"color"))("matTooltip",I.oc(2,6,r.board.labels,a,"name"))}}function ye(t,e){if(1&t&&(I.Yb(0,"div",14),I.Rc(1,we,3,10,"span",15),I.Xb()),2&t){var a=I.kc();I.Gb(1),I.rc("ngForOf",a.card.idLabels)}}var Xe=function(t){return{overdue:t}};function Ye(t,e){if(1&t&&(I.Yb(0,"span",20),I.Yb(1,"mat-icon",21),I.Tc(2,"access_time"),I.Xb(),I.Yb(3,"span"),I.Tc(4),I.lc(5,"date"),I.Xb(),I.Xb()),2&t){var a=I.kc(2);I.rc("ngClass",I.uc(5,Xe,a.isOverdue(a.card.due))),I.Gb(4),I.Uc(I.nc(5,2,a.card.due,"mediumDate"))}}var Ce=function(t){return{completed:t}};function Le(t,e){if(1&t&&(I.Yb(0,"span",22),I.Yb(1,"mat-icon",21),I.Tc(2,"check_circle"),I.Xb(),I.Yb(3,"span"),I.Tc(4),I.Xb(),I.Yb(5,"span"),I.Tc(6,"/"),I.Xb(),I.Yb(7,"span"),I.Tc(8),I.Xb(),I.Xb()),2&t){var a=I.kc(2);I.rc("ngClass",I.uc(3,Ce,a.card.checkItemsChecked===a.card.checkItems)),I.Gb(4),I.Uc(a.card.checkItemsChecked),I.Gb(4),I.Uc(a.card.checkItems)}}function Te(t,e){if(1&t&&(I.Yb(0,"div",17),I.Rc(1,Ye,6,7,"span",18),I.Rc(2,Le,9,5,"span",19),I.Xb()),2&t){var a=I.kc();I.Gb(1),I.rc("ngIf",a.card.due),I.Gb(1),I.rc("ngIf",a.card.checkItems)}}function Ie(t,e){if(1&t&&(I.Yb(0,"div",25),I.Tb(1,"img",26),I.lc(2,"getById"),I.lc(3,"getById"),I.Xb()),2&t){var a=e.$implicit,r=I.kc(2);I.Gb(1),I.rc("src",I.oc(2,2,r.board.members,a,"avatar"),I.Jc)("matTooltip",I.oc(3,6,r.board.members,a,"name"))}}function Ae(t,e){if(1&t&&(I.Yb(0,"div",23),I.Rc(1,Ie,4,10,"div",24),I.Xb()),2&t){var a=I.kc();I.Gb(1),I.rc("ngForOf",a.card.idMembers)}}function Fe(t,e){1&t&&(I.Yb(0,"span",27),I.Yb(1,"mat-icon",28),I.Tc(2,"remove_red_eye"),I.Xb(),I.Xb())}function Ge(t,e){1&t&&(I.Yb(0,"span",27),I.Yb(1,"mat-icon",28),I.Tc(2,"description"),I.Xb(),I.Xb())}function Me(t,e){if(1&t&&(I.Yb(0,"span",27),I.Yb(1,"mat-icon",28),I.Tc(2,"attachment"),I.Xb(),I.Yb(3,"span",29),I.Tc(4),I.Xb(),I.Xb()),2&t){var a=I.kc();I.Gb(4),I.Uc(a.card.attachments.length)}}function Se(t,e){if(1&t&&(I.Yb(0,"span",27),I.Yb(1,"mat-icon",28),I.Tc(2,"comment"),I.Xb(),I.Yb(3,"span",29),I.Tc(4),I.Xb(),I.Xb()),2&t){var a=I.kc();I.Gb(4),I.Uc(a.card.comments.length)}}var _e,Re=((_e=function(){function t(e){a(this,t),this._activatedRoute=e}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.board=this._activatedRoute.snapshot.data.board,this.card=this.board.cards.filter((function(e){return t.cardId===e.id}))[0]}},{key:"isOverdue",value:function(t){return xe()>xe(new Date(t))}}]),t}()).\u0275fac=function(t){return new(t||_e)(I.Sb(d.a))},_e.\u0275cmp=I.Mb({type:_e,selectors:[["scrumboard-board-card"]],inputs:{cardId:"cardId"},decls:16,vars:9,consts:[["class","list-card-cover",4,"ngIf"],[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["class","list-card-labels","fxLayout","row wrap",4,"ngIf"],[1,"list-card-name"],["class","list-card-badges","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","list-card-members","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer"],["fxLayout","row","fxLayoutAlign","start center"],["class","list-card-footer-item","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-cover"],[3,"src"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-label",3,"ngClass","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-badges"],["class","badge due-date","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["class","badge check-items","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","due-date",3,"ngClass"],[1,"s-16"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","check-items",3,"ngClass"],["fxLayout","row",1,"list-card-members"],["class","list-card-member",4,"ngFor","ngForOf"],[1,"list-card-member"],[1,"list-card-member-avatar",3,"src","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-footer-item"],[1,"s-18"],[1,"value"]],template:function(t,e){1&t&&(I.Rc(0,ke,3,5,"div",0),I.Yb(1,"div",1),I.Yb(2,"div",2),I.Tb(3,"mat-icon",3),I.Xb(),I.Rc(4,ye,2,1,"div",4),I.Yb(5,"div",5),I.Tc(6),I.Xb(),I.Rc(7,Te,3,2,"div",6),I.Rc(8,Ae,2,1,"div",7),I.Xb(),I.Yb(9,"div",8),I.Yb(10,"div",9),I.Rc(11,Fe,3,0,"span",10),I.Rc(12,Ge,3,0,"span",10),I.Xb(),I.Yb(13,"div",11),I.Rc(14,Me,5,1,"span",10),I.Rc(15,Se,5,1,"span",10),I.Xb(),I.Xb()),2&t&&(I.rc("ngIf",e.board.settings.cardCoverImages&&e.card.idAttachmentCover),I.Gb(4),I.rc("ngIf",e.card.idLabels.length>0),I.Gb(2),I.Uc(e.card.name),I.Gb(1),I.rc("ngIf",e.card.due||e.card.checkItems),I.Gb(1),I.rc("ngIf",e.card.idMembers.length>0),I.Gb(3),I.rc("ngIf",e.card.subscribed),I.Gb(1),I.rc("ngIf",""!==e.card.description),I.Gb(2),I.rc("ngIf",e.card.attachments),I.Gb(1),I.rc("ngIf",e.card.comments))},directives:[z.t,p.a,H.e,H.d,z.s,z.q,W.a,X.a],pipes:[Gt.a,z.f],styles:['scrumboard-board-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}scrumboard-board-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}scrumboard-board-card .list-card-details{padding:16px 16px 0}scrumboard-board-card .list-card-details .list-card-labels{margin-bottom:6px}scrumboard-board-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}scrumboard-board-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges .badge{margin-right:8px;padding:4px 8px;border-radius:2px}scrumboard-board-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}scrumboard-board-card .list-card-details .list-card-members{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-members .list-card-member{margin-right:8px}scrumboard-board-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}scrumboard-board-card .list-card-footer{border-top:1px solid;padding:0 16px}scrumboard-board-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}scrumboard-board-card .list-card-footer .list-card-footer-item .value{padding-left:8px}scrumboard-board-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}scrumboard-board-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-card.gu-hide{display:none!important}scrumboard-board-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),_e);function De(t,e){if(1&t){var a=I.Zb();I.Yb(0,"scrumboard-board-card",13),I.gc("click",(function(){I.Hc(a);var t=e.$implicit;return I.kc().openCardDialog(t)})),I.Xb()}if(2&t){var r=e.$implicit;I.rc("model",r)("cardId",r)}}var Oe,Be=((Oe=function(){function t(e,r,i){a(this,t),this._activatedRoute=e,this._scrumboardService=r,this._matDialog=i,this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListNameChanged",value:function(t){this.list.name=t}},{key:"onCardAdd",value:function(t){var e=this;""!==t&&(this._scrumboardService.addCard(this.list.id,new Xt({name:t})),setTimeout((function(){e.listScroll.scrollToBottom(0,400)})))}},{key:"removeList",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(yt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the list and it's all cards?",this.confirmDialogRef.afterClosed().subscribe((function(a){a&&e._scrumboardService.removeList(t)}))}},{key:"openCardDialog",value:function(t){this.dialogRef=this._matDialog.open(de,{panelClass:"scrumboard-card-dialog",data:{cardId:t,listId:this.list.id}}),this.dialogRef.afterClosed().subscribe((function(t){}))}},{key:"onDrop",value:function(t){this._scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||Oe)(I.Sb(d.a),I.Sb(F),I.Sb(f.b))},Oe.\u0275cmp=I.Mb({type:Oe,selectors:[["scrumboard-board-list"]],viewQuery:function(t,e){var a;1&t&&I.Xc(N.a,!0),2&t&&I.Cc(a=I.hc())&&(e.listScroll=a.first)},inputs:{list:"list"},decls:17,vars:4,consts:[["fxLayout","column",1,"list","mat-elevation-z1"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",1,"list-header"],["fxFlex","1 0 auto",3,"list","listNameChanged"],["fxFlex","0 1 auto"],["mat-icon-button","",1,"list-header-option-button",3,"matMenuTriggerFor"],["listMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","column",1,"list-content"],["ngxDroppable","card","fusePerfectScrollbar","",1,"list-cards","ngx-dnd-container",3,"model","out"],["listScroll",""],["ngxDraggable","","class","scrumboard-board-card ngx-dnd-item",3,"model","cardId","click",4,"ngFor","ngForOf"],[1,"list-footer"],[3,"cardAdded"],["ngxDraggable","",1,"scrumboard-board-card","ngx-dnd-item",3,"model","cardId","click"]],template:function(t,e){if(1&t&&(I.Yb(0,"div",0),I.Yb(1,"div",1),I.Yb(2,"scrumboard-board-edit-list-name",2),I.gc("listNameChanged",(function(t){return e.onListNameChanged(t)})),I.Xb(),I.Yb(3,"div",3),I.Yb(4,"button",4),I.Yb(5,"mat-icon"),I.Tc(6,"more_vert"),I.Xb(),I.Xb(),I.Yb(7,"mat-menu",null,5),I.Yb(9,"button",6),I.gc("click",(function(){return e.removeList(e.list.id)})),I.Tc(10,"Remove List"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(11,"div",7),I.Yb(12,"div",8,9),I.gc("out",(function(t){return e.onDrop(t)})),I.Rc(14,De,1,2,"scrumboard-board-card",10),I.Xb(),I.Xb(),I.Yb(15,"div",11),I.Yb(16,"scrumboard-board-add-card",12),I.gc("cardAdded",(function(t){return e.onCardAdd(t)})),I.Xb(),I.Xb(),I.Xb()),2&t){var a=I.Dc(8);I.Gb(2),I.rc("list",e.list),I.Gb(2),I.rc("matMenuTriggerFor",a),I.Gb(8),I.rc("model",e.list.idCards),I.Gb(2),I.rc("ngForOf",e.list.idCards)}},directives:[H.e,H.b,H.d,ue,s.b,x.c,p.a,x.d,x.a,Y.c,N.a,z.s,ve,Re,Y.b],styles:['scrumboard-board-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}scrumboard-board-list .list{max-height:100%;border-radius:2px;transition:box-shadow .15s ease}scrumboard-board-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){scrumboard-board-list .list .list-header{height:48px;min-height:48px}}scrumboard-board-list .list .list-content{position:relative;min-height:0;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}scrumboard-board-list .list .list-content .list-cards{position:relative;min-height:32px;padding:0 16px}scrumboard-board-list .list .list-footer{display:flex;flex-direction:column;flex:1 0 auto;border-top:1px solid;min-height:48px}scrumboard-board-list .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-list.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}scrumboard-board-list.gu-mirror>.list{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-list.gu-hide{display:none!important}scrumboard-board-list.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-list.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Oe);function He(t,e){1&t&&(I.Yb(0,"mat-icon",17),I.Tc(1,"remove_red_eye"),I.Xb())}var Ne=function(){return{duration:"350ms",x:"100%"}},ze=function(t){return{value:"*",params:t}};function Ue(t,e){if(1&t&&I.Tb(0,"scrumboard-board-list",18),2&t){var a=e.$implicit;I.rc("model",a)("list",a)("@animate",I.uc(4,ze,I.tc(3,Ne)))}}var $e,Ze,Pe=function(){return{value:"50"}},Ve=[{path:"boards",component:q,resolve:{scrumboard:F}},{path:"boards/:boardId/:boardUri",component:($e=function(){function t(e,r,i){a(this,t),this._activatedRoute=e,this._location=r,this._scrumboardService=i,this._unsubscribeAll=new M.a}return i(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListAdd",value:function(t){""!==t&&this._scrumboardService.addList(new E({name:t}))}},{key:"onBoardNameChanged",value:function(t){this._scrumboardService.updateBoard(),this._location.go("/apps/scrumboard/boards/"+this.board.id+"/"+this.board.uri)}},{key:"onDrop",value:function(t){this._scrumboardService.updateBoard()}}]),t}(),$e.\u0275fac=function(t){return new(t||$e)(I.Sb(d.a),I.Sb(z.n),I.Sb(F))},$e.\u0275cmp=I.Mb({type:$e,selectors:[["scrumboard-board"]],decls:24,vars:13,consts:[["id","board"],["fxLayout","column",1,"header","p-16","p-md-24",3,"ngClass"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","1 0 auto",1,"header-content"],["fxLayout","row","fxLayoutAlign","center center","fxFlexOrder","2","fxFlexOrder.gt-xs","1"],["mat-raised-button","","routerLink","/apps/scrumboard/boards","aria-label","boards button",1,"header-boards-button",3,"ngClass"],[1,"mr-8"],["fxLayout","row","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","center center","fxFlex","1 0 100%","fxFlex.gt-xs","1 0 auto","fxFlexOrder","1","fxFlexOrder.gt-xs","2",1,"header-board-name","mb-8","mb-md-0"],["class","board-subscribe s-16",4,"ngIf"],[3,"board","boardNameChanged"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexOrder","3",1,"toolbar"],["mat-icon-button","","aria-label","Settings","matTooltip","Settings",3,"click"],["fxFlex","",1,"board-content-wrapper","p-16","p-md-24"],["fxLayout","row","ngxDroppable","list",1,"board-content","ngx-dnd-container","p-16","p-md-24",3,"model","out"],["class","scrumboard-board-list list-wrapper ngx-dnd-item","ngxDraggable","",3,"model","list",4,"ngFor","ngForOf"],["ngxDraggable","",1,"new-list-wrapper",3,"moves","listAdded"],["position","end"],["settingsSidenav",""],[1,"board-subscribe","s-16"],["ngxDraggable","",1,"scrumboard-board-list","list-wrapper","ngx-dnd-item",3,"model","list"]],template:function(t,e){if(1&t){var a=I.Zb();I.Yb(0,"mat-sidenav-container"),I.Yb(1,"div",0),I.Yb(2,"div",1),I.Yb(3,"div",2),I.Yb(4,"div",3),I.Yb(5,"button",4),I.Yb(6,"mat-icon",5),I.Tc(7,"assessment"),I.Xb(),I.Yb(8,"span"),I.Tc(9,"BOARDS"),I.Xb(),I.Xb(),I.Xb(),I.Yb(10,"div",6),I.Rc(11,He,2,0,"mat-icon",7),I.Yb(12,"scrumboard-edit-board-name",8),I.gc("boardNameChanged",(function(t){return e.onBoardNameChanged(t)})),I.Xb(),I.Xb(),I.Yb(13,"div",9),I.Yb(14,"button",10),I.gc("click",(function(){return I.Hc(a),I.Dc(22).toggle()})),I.Yb(15,"mat-icon"),I.Tc(16,"settings"),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(17,"div",11),I.Yb(18,"div",12),I.gc("out",(function(t){return e.onDrop(t)})),I.Rc(19,Ue,1,6,"scrumboard-board-list",13),I.Yb(20,"scrumboard-board-add-list",14),I.gc("listAdded",(function(t){return e.onListAdd(t)})),I.Xb(),I.Xb(),I.Xb(),I.Xb(),I.Yb(21,"mat-sidenav",15,16),I.Tb(23,"scrumboard-board-settings"),I.Xb(),I.Xb()}2&t&&(I.Gb(2),I.rc("ngClass",e.board.settings.color),I.Gb(3),I.rc("ngClass",e.board.settings.color+"-800"),I.Gb(6),I.rc("ngIf",e.board.settings.subscribed),I.Gb(1),I.rc("board",e.board),I.Gb(6),I.rc("model",e.board.lists)("@animateStagger",I.tc(9,Pe)),I.Gb(1),I.rc("ngForOf",e.board.lists),I.Gb(1),I.rc("moves",!1)("@animate",I.uc(11,ze,I.tc(10,Ne))))},directives:[w.b,H.e,z.q,W.a,H.d,H.b,H.c,s.b,d.h,p.a,z.t,at,X.a,Y.c,z.s,ct,Y.b,w.a,wt,Be],styles:["scrumboard-board mat-sidenav-container{width:100%;height:100%}scrumboard-board mat-sidenav-container mat-sidenav{width:320px!important;min-width:320px!important;max-width:320px!important}scrumboard-board mat-sidenav-container #board{display:flex;flex-direction:column!important;height:100%}scrumboard-board mat-sidenav-container #board>.header{position:relative;min-height:96px;background-image:none;z-index:49}scrumboard-board mat-sidenav-container #board>.header .header-content .header-boards-button{margin:0}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name{font-size:16px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .board-subscribe{margin-right:8px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .editable-buttons mat-icon{color:#fff!important}scrumboard-board mat-sidenav-container #board>.header .header-content .right-side>.mat-button:last-child{margin-right:0}scrumboard-board mat-sidenav-container #board #board-selector{position:absolute;top:96px;right:0;left:0;height:192px;z-index:48;padding:24px;opacity:1}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item{width:128px;height:192px;padding:16px;cursor:pointer;position:relative}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .board-name{text-align:center;padding:16px 0}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon{position:absolute;top:0;left:50%;width:32px;height:32px;margin-left:-16px;border-radius:50%;text-align:center;color:#fff}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon i{line-height:32px!important}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item.add-new-board{opacity:.6}scrumboard-board mat-sidenav-container #board .board-content-wrapper{position:relative}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:_.a}}),$e),resolve:{board:G}},{path:"**",redirectTo:"boards"}],je=((Ze=function t(){a(this,t)}).\u0275mod=I.Qb({type:Ze}),Ze.\u0275inj=I.Pb({factory:function(t){return new(t||Ze)},providers:[F,G],imports:[[d.k.forChild(Ve),s.c,b.b,l.e,u.c,f.e,g.e,p.b,h.c,v.d,x.b,k.b,m.s,w.c,y.b,X.b,Y.d,C.a,L.a,L.d]]}),Ze)}}])}();