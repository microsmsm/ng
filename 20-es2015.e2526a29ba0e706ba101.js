(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{B9zo:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var a=c("XNiG"),n=c("1G5W"),i=c("fXoL"),o=c("h2q7");let s=(()=>{class t{constructor(t,e,c){this._elementRef=t,this._fuseMediaMatchService=e,this._renderer=c,this._unsubscribeAll=new a.a}ngOnInit(){this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(n.a)(this._unsubscribeAll)).subscribe(t=>{"xs"===t?this._removeClass():this._addClass()}))}ngOnDestroy(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}_addClass(){this._renderer.addClass(this._grandParent,"inner-scroll")}_removeClass(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.l),i.Sb(o.a),i.Sb(i.J))},t.\u0275dir=i.Nb({type:t,selectors:[["",8,"inner-scroll"]]}),t})()},NulH:function(t,e,c){"use strict";c.r(e),c.d(e,"ContactsModule",(function(){return Tt}));var a=c("tyNb"),n=c("bTqV"),i=c("bSwM"),o=c("FKr1"),s=c("iadO"),r=c("kmnG"),l=c("NFeN"),b=c("qFsG"),d=c("STbY"),m=c("+0xr"),u=c("/t3+"),h=c("5HBU"),f=c("LPQX"),p=c("3Pt+"),g=c("XNiG"),x=c("1G5W"),C=c("Kj3r"),v=c("/uUt"),X=c("PVWW"),Y=c("0IaG"),w=c("jD4G");class _{constructor(t){this.id=t.id||w.a.generateGUID(),this.name=t.name||"",this.lastName=t.lastName||"",this.avatar=t.avatar||"assets/images/avatars/profile.jpg",this.nickname=t.nickname||"",this.company=t.company||"",this.jobTitle=t.jobTitle||"",this.email=t.email||"",this.phone=t.phone||"",this.address=t.address||"",this.birthday=t.birthday||"",this.notes=t.notes||""}}var y=c("fXoL"),T=c("XiUz"),S=c("EwFO"),k=c("ofXK");function D(t,e){if(1&t){const t=y.Zb();y.Yb(0,"button",29),y.gc("click",(function(){y.Hc(t);const e=y.kc();return e.matDialogRef.close(["delete",e.contactForm])})),y.Tc(1," DELETE "),y.Xb()}}function A(t,e){if(1&t){const t=y.Zb();y.Yb(0,"button",30),y.gc("click",(function(){y.Hc(t);const e=y.kc();return e.matDialogRef.close(e.contactForm)})),y.Tc(1," ADD "),y.Xb()}if(2&t){const t=y.kc();y.rc("disabled",t.contactForm.invalid)}}function R(t,e){if(1&t){const t=y.Zb();y.Yb(0,"button",30),y.gc("click",(function(){y.Hc(t);const e=y.kc();return e.matDialogRef.close(["save",e.contactForm])})),y.Tc(1," SAVE "),y.Xb()}if(2&t){const t=y.kc();y.rc("disabled",t.contactForm.invalid)}}let O=(()=>{class t{constructor(t,e,c){this.matDialogRef=t,this._data=e,this._formBuilder=c,this.action=e.action,"edit"===this.action?(this.dialogTitle="Edit Contact",this.contact=e.contact):(this.dialogTitle="New Contact",this.contact=new _({})),this.contactForm=this.createContactForm()}createContactForm(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}return t.\u0275fac=function(e){return new(e||t)(y.Sb(Y.f),y.Sb(Y.a),y.Sb(p.d))},t.\u0275cmp=y.Mb({type:t,selectors:[["contacts-contact-form-dialog"]],decls:87,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","pb-0","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start"],["appearance","outline","fxFlex",""],["matSuffix","",1,"secondary-text"],["name","name","formControlName","name","matInput","","required",""],["name","lastName","formControlName","lastName","matInput",""],["name","nickname","formControlName","nickname","matInput",""],["formControlName","phone","matInput",""],["name","email","formControlName","email","matInput","","type","email"],["name","company","formControlName","company","matInput",""],["name","jobTitle","formControlName","jobTitle","matInput",""],["matInput","","name","birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput",""],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center",1,"m-0","p-16"],["mat-button","","class","mr-8","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-button","","class","save-button","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-button","","aria-label","Delete","matTooltip","Delete",1,"mr-8",3,"click"],["mat-button","","aria-label","SAVE",1,"save-button",3,"disabled","click"]],template:function(t,e){if(1&t&&(y.Yb(0,"div",0),y.Yb(1,"mat-toolbar",1),y.Yb(2,"mat-toolbar-row",2),y.Yb(3,"span",3),y.Tc(4),y.Xb(),y.Yb(5,"button",4),y.gc("click",(function(){return e.matDialogRef.close()})),y.Yb(6,"mat-icon"),y.Tc(7,"close"),y.Xb(),y.Xb(),y.Xb(),y.Yb(8,"mat-toolbar-row",5),y.Tb(9,"img",6),y.Yb(10,"div",7),y.Tc(11),y.Xb(),y.Xb(),y.Xb(),y.Yb(12,"div",8),y.Yb(13,"form",9),y.Yb(14,"div",10),y.Yb(15,"mat-form-field",11),y.Yb(16,"mat-label"),y.Tc(17,"Name"),y.Xb(),y.Yb(18,"mat-icon",12),y.Tc(19,"account_circle"),y.Xb(),y.Tb(20,"input",13),y.Xb(),y.Xb(),y.Yb(21,"div",10),y.Yb(22,"mat-form-field",11),y.Yb(23,"mat-label"),y.Tc(24,"Lastname"),y.Xb(),y.Yb(25,"mat-icon",12),y.Tc(26,"account_circle"),y.Xb(),y.Tb(27,"input",14),y.Xb(),y.Xb(),y.Yb(28,"div",10),y.Yb(29,"mat-form-field",11),y.Yb(30,"mat-label"),y.Tc(31,"Nickname"),y.Xb(),y.Yb(32,"mat-icon",12),y.Tc(33,"star"),y.Xb(),y.Tb(34,"input",15),y.Xb(),y.Xb(),y.Yb(35,"div",10),y.Yb(36,"mat-form-field",11),y.Yb(37,"mat-label"),y.Tc(38,"Phone number"),y.Xb(),y.Yb(39,"mat-icon",12),y.Tc(40,"phone"),y.Xb(),y.Tb(41,"input",16),y.Xb(),y.Xb(),y.Yb(42,"div",10),y.Yb(43,"mat-form-field",11),y.Yb(44,"mat-label"),y.Tc(45,"Email"),y.Xb(),y.Yb(46,"mat-icon",12),y.Tc(47,"email"),y.Xb(),y.Tb(48,"input",17),y.Xb(),y.Xb(),y.Yb(49,"div",10),y.Yb(50,"mat-form-field",11),y.Yb(51,"mat-label"),y.Tc(52,"Company"),y.Xb(),y.Yb(53,"mat-icon",12),y.Tc(54,"domain"),y.Xb(),y.Tb(55,"input",18),y.Xb(),y.Xb(),y.Yb(56,"div",10),y.Yb(57,"mat-form-field",11),y.Yb(58,"mat-label"),y.Tc(59,"Job title"),y.Xb(),y.Yb(60,"mat-icon",12),y.Tc(61,"work"),y.Xb(),y.Tb(62,"input",19),y.Xb(),y.Xb(),y.Yb(63,"div",10),y.Yb(64,"mat-form-field",11),y.Yb(65,"mat-label"),y.Tc(66,"Birthday"),y.Xb(),y.Tb(67,"input",20),y.Tb(68,"mat-datepicker-toggle",21),y.Tb(69,"mat-datepicker",null,22),y.Xb(),y.Xb(),y.Yb(71,"div",10),y.Yb(72,"mat-form-field",11),y.Yb(73,"mat-label"),y.Tc(74,"Address"),y.Xb(),y.Yb(75,"mat-icon",12),y.Tc(76,"home"),y.Xb(),y.Tb(77,"input",23),y.Xb(),y.Xb(),y.Yb(78,"div",24),y.Yb(79,"mat-form-field",11),y.Yb(80,"mat-label"),y.Tc(81,"Notes"),y.Xb(),y.Tb(82,"textarea",25),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Yb(83,"div",26),y.Rc(84,D,2,0,"button",27),y.Rc(85,A,2,1,"button",28),y.Rc(86,R,2,1,"button",28),y.Xb(),y.Xb()),2&t){const t=y.Dc(70);y.Gb(4),y.Uc(e.dialogTitle),y.Gb(5),y.rc("src",e.contact.avatar,y.Jc)("alt",e.contact.name),y.Gb(2),y.Wc("",e.contact.name," ",e.contact.lastName,""),y.Gb(2),y.rc("formGroup",e.contactForm),y.Gb(54),y.rc("matDatepicker",t),y.Gb(1),y.rc("for",t),y.Gb(16),y.rc("ngIf","edit"===e.action),y.Gb(1),y.rc("ngIf","edit"!==e.action),y.Gb(1),y.rc("ngIf","edit"===e.action)}},directives:[u.a,u.c,T.e,T.d,n.b,l.a,S.a,p.x,p.q,p.i,r.c,T.b,r.g,r.i,p.c,b.b,p.p,p.g,p.v,s.b,s.d,s.a,k.t],styles:["@media screen and (max-width:599px){.contact-form-dialog{width:100%}}@media screen and (min-width:600px){.contact-form-dialog{width:400px}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),t})();var M=c("2Vo4"),G=c("tk/3");let P=(()=>{class t{constructor(t){this._httpClient=t,this.selectedContacts=[],this.onContactsChanged=new M.a([]),this.onSelectedContactsChanged=new M.a([]),this.onUserDataChanged=new M.a([]),this.onSearchTextChanged=new g.a,this.onFilterChanged=new g.a}resolve(t,e){return new Promise((t,e)=>{Promise.all([this.getContacts(),this.getUserData()]).then(([e])=>{this.onSearchTextChanged.subscribe(t=>{this.searchText=t,this.getContacts()}),this.onFilterChanged.subscribe(t=>{this.filterBy=t,this.getContacts()}),t()},e)})}getContacts(){return new Promise((t,e)=>{this._httpClient.get("api/contacts-contacts").subscribe(e=>{this.contacts=e,"starred"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.starred.includes(t.id))),"frequent"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.frequentContacts.includes(t.id))),this.searchText&&""!==this.searchText&&(this.contacts=w.a.filterArrayByString(this.contacts,this.searchText)),this.contacts=this.contacts.map(t=>new _(t)),this.onContactsChanged.next(this.contacts),t(this.contacts)},e)})}getUserData(){return new Promise((t,e)=>{this._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe(e=>{this.user=e,this.onUserDataChanged.next(this.user),t(this.user)},e)})}toggleSelectedContact(t){if(this.selectedContacts.length>0){const e=this.selectedContacts.indexOf(t);if(-1!==e)return this.selectedContacts.splice(e,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}toggleSelectAll(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}selectContacts(t,e){this.selectedContacts=[],void 0!==t&&void 0!==e||(this.selectedContacts=[],this.contacts.map(t=>{this.selectedContacts.push(t.id)})),this.onSelectedContactsChanged.next(this.selectedContacts)}updateContact(t){return new Promise((e,c)=>{this._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe(t=>{this.getContacts(),e(t)})})}updateUserData(t){return new Promise((e,c)=>{this._httpClient.post("api/contacts-user/"+this.user.id,Object.assign({},t)).subscribe(t=>{this.getUserData(),this.getContacts(),e(t)})})}deselectContacts(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}deleteContact(t){const e=this.contacts.indexOf(t);this.contacts.splice(e,1),this.onContactsChanged.next(this.contacts)}deleteSelectedContacts(){for(const t of this.selectedContacts){const e=this.contacts.find(e=>e.id===t),c=this.contacts.indexOf(e);this.contacts.splice(c,1)}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}return t.\u0275fac=function(e){return new(e||t)(y.cc(G.b))},t.\u0275prov=y.Ob({token:t,factory:t.\u0275fac}),t})();var I=c("HX77"),L=c("B9zo"),F=c("znSr"),N=c("fE3o");const H=function(t){return{"active accent":t}};let j=(()=>{class t{constructor(t){this._contactsService=t,this._unsubscribeAll=new g.a}ngOnInit(){this.filterBy=this._contactsService.filterBy||"all",this._contactsService.onUserDataChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeFilter(t){this.filterBy=t,this._contactsService.onFilterChanged.next(this.filterBy)}}return t.\u0275fac=function(e){return new(e||t)(y.Sb(P))},t.\u0275cmp=y.Mb({type:t,selectors:[["contacts-main-sidebar"]],decls:20,vars:12,consts:[[1,"sidebar-content"],[1,"card"],["fxLayout","row","fxLayoutAlign","start center",1,"header","p-24"],[1,"avatar","mr-16",3,"src","alt"],[1,"h5"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"],["aria-label","starred",1,"nav-item",3,"click"]],template:function(t,e){1&t&&(y.Yb(0,"div",0),y.Yb(1,"div",1),y.Yb(2,"div",2),y.Tb(3,"img",3),y.Yb(4,"span",4),y.Tc(5),y.Xb(),y.Xb(),y.Yb(6,"div",5),y.Yb(7,"div",6),y.Yb(8,"div",7),y.Yb(9,"a",8),y.gc("click",(function(){return e.changeFilter("all")})),y.Yb(10,"span",9),y.Tc(11,"All Contacts"),y.Xb(),y.Xb(),y.Xb(),y.Yb(12,"div",10),y.gc("click",(function(){return e.changeFilter("frequent")})),y.Yb(13,"a",11),y.Yb(14,"div",9),y.Tc(15,"Freequently contacted"),y.Xb(),y.Xb(),y.Xb(),y.Yb(16,"div",12),y.gc("click",(function(){return e.changeFilter("starred")})),y.Yb(17,"a",11),y.Yb(18,"div",9),y.Tc(19,"Starred Contacts"),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Xb()),2&t&&(y.Gb(3),y.rc("src",e.user.avatar,y.Jc)("alt",e.user.name),y.Gb(2),y.Uc(e.user.name),y.Gb(4),y.rc("ngClass",y.uc(6,H,"all"===e.filterBy)),y.Gb(4),y.rc("ngClass",y.uc(8,H,"frequent"===e.filterBy)),y.Gb(4),y.rc("ngClass",y.uc(10,H,"starred"===e.filterBy)))},directives:[T.e,T.d,S.a,o.r,k.q,F.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0;border-radius:8px}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),t})();var V=c("0EQZ"),B=c("2nsM");const U=["dialogContent"];function $(t,e){1&t&&y.Tb(0,"mat-header-cell")}function W(t,e){if(1&t){const t=y.Zb();y.Yb(0,"mat-cell"),y.Yb(1,"mat-checkbox",20),y.gc("ngModelChange",(function(c){y.Hc(t);const a=e.$implicit;return y.kc().checkboxes[a.id]=c}))("ngModelChange",(function(){y.Hc(t);const c=e.$implicit;return y.kc().onSelectedChange(c.id)}))("click",(function(e){return y.Hc(t),e.stopPropagation()})),y.Xb(),y.Xb()}if(2&t){const t=e.$implicit,c=y.kc();y.Gb(1),y.rc("ngModel",c.checkboxes[t.id])}}function q(t,e){1&t&&y.Tb(0,"mat-header-cell")}function E(t,e){if(1&t&&y.Tb(0,"img",22),2&t){const t=y.kc().$implicit;y.rc("alt",t.name)("src",t.avatar,y.Jc)}}function J(t,e){if(1&t&&(y.Yb(0,"mat-cell"),y.Rc(1,E,1,2,"img",21),y.Xb()),2&t){const t=e.$implicit;y.Gb(1),y.rc("ngIf",t.avatar)}}function Z(t,e){1&t&&(y.Yb(0,"mat-header-cell"),y.Tc(1,"Name"),y.Xb())}function z(t,e){if(1&t&&(y.Yb(0,"mat-cell"),y.Yb(1,"p",23),y.Tc(2),y.Xb(),y.Xb()),2&t){const t=e.$implicit;y.Gb(2),y.Wc("",t.name," ",t.lastName,"")}}function Q(t,e){1&t&&(y.Yb(0,"mat-header-cell",24),y.Tc(1,"Email"),y.Xb())}function K(t,e){if(1&t&&(y.Yb(0,"mat-cell",24),y.Yb(1,"p",25),y.Tc(2),y.Xb(),y.Xb()),2&t){const t=e.$implicit;y.Gb(2),y.Vc(" ",t.email," ")}}function tt(t,e){1&t&&(y.Yb(0,"mat-header-cell",26),y.Tc(1,"Phone"),y.Xb())}function et(t,e){if(1&t&&(y.Yb(0,"mat-cell",26),y.Yb(1,"p",27),y.Tc(2),y.Xb(),y.Xb()),2&t){const t=e.$implicit;y.Gb(2),y.Vc(" ",t.phone," ")}}function ct(t,e){1&t&&(y.Yb(0,"mat-header-cell",28),y.Tc(1,"Job title"),y.Xb())}function at(t,e){if(1&t&&(y.Yb(0,"mat-cell",28),y.Yb(1,"p",29),y.Tc(2),y.Xb(),y.Xb()),2&t){const t=e.$implicit;y.Gb(2),y.Vc(" ",t.jobTitle," ")}}function nt(t,e){1&t&&(y.Yb(0,"mat-header-cell",28),y.Tc(1,"Company"),y.Xb())}function it(t,e){if(1&t&&(y.Yb(0,"mat-cell",28),y.Yb(1,"p",30),y.Tc(2),y.Xb(),y.Xb()),2&t){const t=e.$implicit;y.Gb(2),y.Vc(" ",t.company," ")}}function ot(t,e){1&t&&y.Tb(0,"mat-header-cell")}function st(t,e){1&t&&(y.Yb(0,"mat-icon",39),y.Tc(1,"star"),y.Xb())}function rt(t,e){1&t&&(y.Yb(0,"mat-icon",36),y.Tc(1,"star_border"),y.Xb())}function lt(t,e){if(1&t){const t=y.Zb();y.Yb(0,"mat-cell"),y.Yb(1,"div",31),y.Yb(2,"button",32),y.gc("click",(function(c){y.Hc(t);const a=e.$implicit,n=y.kc();return c.stopPropagation(),n.toggleStar(a.id)})),y.Rc(3,st,2,0,"mat-icon",33),y.Rc(4,rt,2,0,"mat-icon",34),y.Xb(),y.Yb(5,"button",35),y.gc("click",(function(e){return y.Hc(t),e.stopPropagation()})),y.Yb(6,"mat-icon",36),y.Tc(7,"more_vert"),y.Xb(),y.Xb(),y.Yb(8,"mat-menu",null,37),y.Yb(10,"button",38),y.gc("click",(function(){y.Hc(t);const c=e.$implicit;return y.kc().deleteContact(c)})),y.Yb(11,"mat-icon"),y.Tc(12,"delete"),y.Xb(),y.Yb(13,"span"),y.Tc(14,"Remove"),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Xb()}if(2&t){const t=e.$implicit,c=y.Dc(9),a=y.kc();y.Gb(3),y.rc("ngIf",a.user.starred.includes(t.id)),y.Gb(1),y.rc("ngIf",!a.user.starred.includes(t.id)),y.Gb(1),y.rc("matMenuTriggerFor",c)}}function bt(t,e){1&t&&y.Tb(0,"mat-header-row")}const dt=function(t){return{"accent-50":t}},mt=function(){return{y:"100%"}},ut=function(t){return{value:"*",params:t}};function ht(t,e){if(1&t){const t=y.Zb();y.Yb(0,"mat-row",40),y.gc("click",(function(){y.Hc(t);const c=e.$implicit;return y.kc().editContact(c)})),y.Xb()}if(2&t){const t=e.$implicit,c=y.kc();y.rc("ngClass",y.uc(2,dt,c.checkboxes[t.id]))("@animate",y.uc(5,ut,y.tc(4,mt)))}}const ft=function(){return{value:"50"}};let pt=(()=>{class t{constructor(t,e){this._contactsService=t,this._matDialog=e,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new g.a}ngOnInit(){this.dataSource=new gt(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.contacts=t,this.checkboxes={},t.map(t=>{this.checkboxes[t.id]=!1})}),this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{for(const e in this.checkboxes)this.checkboxes.hasOwnProperty(e)&&(this.checkboxes[e]=t.includes(e));this.selectedContacts=t}),this._contactsService.onUserDataChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t}),this._contactsService.onFilterChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(()=>{this._contactsService.deselectContacts()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}editContact(t){this.dialogRef=this._matDialog.open(O,{panelClass:"contact-form-dialog",data:{contact:t,action:"edit"}}),this.dialogRef.afterClosed().subscribe(e=>{if(!e)return;const c=e[1];switch(e[0]){case"save":this._contactsService.updateContact(c.getRawValue());break;case"delete":this.deleteContact(t)}})}deleteContact(t){this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this._contactsService.deleteContact(t),this.confirmDialogRef=null})}onSelectedChange(t){this._contactsService.toggleSelectedContact(t)}toggleStar(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}return t.\u0275fac=function(e){return new(e||t)(y.Sb(P),y.Sb(Y.b))},t.\u0275cmp=y.Mb({type:t,selectors:[["contacts-contact-list"]],viewQuery:function(t,e){var c;1&t&&y.Xc(U,!0),2&t&&y.Cc(c=y.hc())&&(e.dialogContent=c.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],[1,"contact",3,"ngClass","click"]],template:function(t,e){1&t&&(y.Yb(0,"mat-table",0,1),y.Wb(2,2),y.Rc(3,$,1,0,"mat-header-cell",3),y.Rc(4,W,2,1,"mat-cell",4),y.Vb(),y.Wb(5,5),y.Rc(6,q,1,0,"mat-header-cell",3),y.Rc(7,J,2,1,"mat-cell",4),y.Vb(),y.Wb(8,6),y.Rc(9,Z,2,0,"mat-header-cell",3),y.Rc(10,z,3,2,"mat-cell",4),y.Vb(),y.Wb(11,7),y.Rc(12,Q,2,0,"mat-header-cell",8),y.Rc(13,K,3,1,"mat-cell",9),y.Vb(),y.Wb(14,10),y.Rc(15,tt,2,0,"mat-header-cell",11),y.Rc(16,et,3,1,"mat-cell",12),y.Vb(),y.Wb(17,13),y.Rc(18,ct,2,0,"mat-header-cell",14),y.Rc(19,at,3,1,"mat-cell",15),y.Vb(),y.Wb(20,16),y.Rc(21,nt,2,0,"mat-header-cell",14),y.Rc(22,it,3,1,"mat-cell",15),y.Vb(),y.Wb(23,17),y.Rc(24,ot,1,0,"mat-header-cell",3),y.Rc(25,lt,15,3,"mat-cell",4),y.Vb(),y.Rc(26,bt,1,0,"mat-header-row",18),y.Rc(27,ht,1,7,"mat-row",19),y.Xb()),2&t&&(y.rc("dataSource",e.dataSource)("@animateStagger",y.tc(4,ft)),y.Gb(26),y.rc("matHeaderRowDef",e.displayedColumns),y.Gb(1),y.rc("matRowDefColumns",e.displayedColumns))},directives:[m.j,m.c,m.e,m.b,m.g,m.i,m.d,m.a,i.a,p.p,p.s,k.t,F.b,T.b,T.d,n.b,d.c,l.a,d.d,d.a,m.f,m.h,k.q,F.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:X.a}}),t})();class gt extends V.b{constructor(t){super(),this._contactsService=t}connect(){return this._contactsService.onContactsChanged}disconnect(){}}let xt=(()=>{class t{constructor(t,e){this._contactsService=t,this._matDialog=e,this._unsubscribeAll=new g.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.selectedContacts=t,setTimeout(()=>{this.hasSelectedContacts=t.length>0,this.isIndeterminate=t.length!==this._contactsService.contacts.length&&t.length>0},0)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectAll(){this._contactsService.selectContacts()}deselectAll(){this._contactsService.deselectContacts()}deleteSelectedContacts(){this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.deleteSelectedContacts(),this.confirmDialogRef=null})}}return t.\u0275fac=function(e){return new(e||t)(y.Sb(P),y.Sb(Y.b))},t.\u0275cmp=y.Mb({type:t,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,e){if(1&t&&(y.Yb(0,"div",0),y.Yb(1,"div",1),y.gc("click",(function(){return e.deselectAll()})),y.Yb(2,"button",2),y.Yb(3,"mat-icon",3),y.Tc(4,"arrow_back"),y.Xb(),y.Yb(5,"span",4),y.Tc(6,"Back"),y.Xb(),y.Xb(),y.Xb(),y.Yb(7,"div",5),y.Yb(8,"div"),y.Yb(9,"span",6),y.Yb(10,"span",7),y.Tc(11),y.Xb(),y.Yb(12,"span"),y.Tc(13,"selected"),y.Xb(),y.Xb(),y.Yb(14,"button",8),y.Yb(15,"mat-icon"),y.Tc(16,"arrow_drop_down"),y.Xb(),y.Xb(),y.Yb(17,"mat-menu",null,9),y.Yb(19,"button",10),y.gc("click",(function(){return e.selectAll()})),y.Tc(20,"Select all"),y.Xb(),y.Yb(21,"button",10),y.gc("click",(function(){return e.deselectAll()})),y.Tc(22,"Deselect all"),y.Xb(),y.Xb(),y.Xb(),y.Yb(23,"div",11),y.Yb(24,"button",12),y.gc("click",(function(){return e.deleteSelectedContacts()})),y.Yb(25,"mat-icon"),y.Tc(26,"delete"),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Xb()),2&t){const t=y.Dc(18);y.Gb(11),y.Uc(e.selectedContacts.length),y.Gb(3),y.rc("matMenuTriggerFor",t)}},directives:[T.b,T.e,T.d,n.b,l.a,d.c,d.d,d.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),t})();function Ct(t,e){1&t&&y.Tb(0,"selected-bar",17),2&t&&y.rc("@slideInTop",void 0)}const vt=function(){return{delay:"50ms",scale:"0.2"}},Xt=function(t){return{value:"*",params:t}},Yt=function(){return{delay:"100ms",x:"-25px"}},wt=function(){return{value:"*"}},_t=function(){return{delay:"300ms",scale:".2"}},yt=[{path:"**",component:(()=>{class t{constructor(t,e,c){this._contactsService=t,this._fuseSidebarService=e,this._matDialog=c,this.searchInput=new p.e(""),this._unsubscribeAll=new g.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.hasSelectedContacts=t.length>0}),this.searchInput.valueChanges.pipe(Object(x.a)(this._unsubscribeAll),Object(C.a)(300),Object(v.a)()).subscribe(t=>{this._contactsService.onSearchTextChanged.next(t)})}ngOnDestroy(){this._contactsService.onSearchTextChanged.next(""),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}newContact(){this.dialogRef=this._matDialog.open(O,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.updateContact(t.getRawValue())})}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}return t.\u0275fac=function(e){return new(e||t)(y.Sb(P),y.Sb(I.a),y.Sb(Y.b))},t.\u0275cmp=y.Mb({type:t,selectors:[["contacts"]],decls:28,vars:16,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a contact",3,"formControl"],["class","accent-600",4,"ngIf"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["fusePerfectScrollbar","",1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent",3,"click"],[1,"accent-600"]],template:function(t,e){1&t&&(y.Yb(0,"div",0),y.Yb(1,"div",1),y.Yb(2,"div",2),y.Yb(3,"button",3),y.gc("click",(function(){return e.toggleSidebar("contacts-main-sidebar")})),y.Yb(4,"mat-icon"),y.Tc(5,"menu"),y.Xb(),y.Xb(),y.Yb(6,"div",4),y.Yb(7,"mat-icon",5),y.Tc(8,"account_box "),y.Xb(),y.Yb(9,"span",6),y.Tc(10," Contacts "),y.Xb(),y.Xb(),y.Xb(),y.Yb(11,"div",7),y.Yb(12,"div",8),y.Yb(13,"div",9),y.Yb(14,"mat-icon"),y.Tc(15,"search"),y.Xb(),y.Tb(16,"input",10),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Rc(17,Ct,1,1,"selected-bar",11),y.Yb(18,"div",12),y.Yb(19,"fuse-sidebar",13),y.Yb(20,"div",14),y.Tb(21,"contacts-main-sidebar"),y.Xb(),y.Xb(),y.Yb(22,"div",15),y.Yb(23,"div",12),y.Tb(24,"contacts-contact-list"),y.Xb(),y.Xb(),y.Xb(),y.Xb(),y.Yb(25,"button",16),y.gc("click",(function(){return e.newContact()})),y.Yb(26,"mat-icon"),y.Tc(27,"person_add"),y.Xb(),y.Xb()),2&t&&(y.Gb(7),y.rc("@animate",y.uc(7,Xt,y.tc(6,vt))),y.Gb(2),y.rc("@animate",y.uc(10,Xt,y.tc(9,Yt))),y.Gb(7),y.rc("formControl",e.searchInput),y.Gb(1),y.rc("ngIf",e.hasSelectedContacts),y.Gb(4),y.rc("@animate",y.tc(12,wt)),y.Gb(4),y.rc("@animate",y.uc(14,Xt,y.tc(13,_t))))},directives:[L.a,T.e,T.d,n.b,F.b,l.a,T.b,p.c,p.p,p.f,k.t,N.a,S.a,j,pt,xt],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:X.a}}),t})(),resolve:{contacts:P}}];let Tt=(()=>{class t{}return t.\u0275mod=y.Qb({type:t}),t.\u0275inj=y.Pb({factory:function(e){return new(e||t)},providers:[P],imports:[[a.k.forChild(yt),n.c,i.b,s.c,r.e,l.b,b.c,d.b,o.s,m.k,u.b,h.a,f.a,f.i]]}),t})()}}]);