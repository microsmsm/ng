!function(){function t(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],n=!0,c=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);n=!0);}catch(r){c=!0,i=r}finally{try{n||null==o.return||o.return()}finally{if(c)throw i}}return a}(t,a)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{B9zo:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("XNiG"),s=n("1G5W"),o=n("fXoL"),r=n("h2q7"),u=function(){var t=function(){function t(e,n,c){a(this,t),this._elementRef=e,this._fuseMediaMatchService=n,this._renderer=c,this._unsubscribeAll=new i.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(e){"xs"===e?t._removeClass():t._addClass()})))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.l),o.Sb(r.a),o.Sb(o.J))},t.\u0275dir=o.Nb({type:t,selectors:[["",8,"inner-scroll"]]}),t}()},nImp:function(e,n,i){"use strict";i.r(n),i.d(n,"ChatModule",(function(){return jt}));var s,o,r,u,l,h,b=i("tyNb"),d=i("bTqV"),f=(i("R1ws"),i("FKr1")),v=i("fXoL"),m=((s=function t(){a(this,t)}).\u0275mod=v.Qb({type:s}),s.\u0275inj=v.Pb({factory:function(t){return new(t||s)},imports:[[f.k],f.k]}),s),p=i("kmnG"),g=i("NFeN"),x=i("qFsG"),w=i("MutI"),y=i("STbY"),S=i("QibW"),X=i("XhcP"),Y=i("/t3+"),_=i("5HBU"),k=i("2Vo4"),T=i("XNiG"),C=i("jD4G"),L=i("tk/3"),A=((o=function(){function e(t){a(this,e),this._httpClient=t,this.onChatSelected=new k.a(null),this.onContactSelected=new k.a(null),this.onChatsUpdated=new T.a,this.onUserUpdated=new T.a,this.onLeftSidenavViewChanged=new T.a,this.onRightSidenavViewChanged=new T.a}return c(e,[{key:"resolve",value:function(e,a){var n=this;return new Promise((function(e,a){Promise.all([n.getContacts(),n.getChats(),n.getUser()]).then((function(a){var c=t(a,3),i=c[0],s=c[1],o=c[2];n.contacts=i,n.chats=s,n.user=o,e()}),a)}))}},{key:"getChat",value:function(t){var e=this,a=this.user.chatList.find((function(e){return e.contactId===t}));if(a)return new Promise((function(n,c){e._httpClient.get("api/chat-chats/"+a.id).subscribe((function(a){var n=a,c=e.contacts.find((function(e){return e.id===t}));e.onChatSelected.next(Object.assign({},{chatId:n.id,dialog:n.dialog,contact:c}))}),c)}));this.createNewChat(t).then((function(a){e.getChat(t)}))}},{key:"createNewChat",value:function(t){var e=this;return new Promise((function(a,n){var c=e.contacts.find((function(e){return e.id===t})),i=C.a.generateGUID(),s={id:i,dialog:[]};e.user.chatList.push({contactId:t,id:i,lastMessageTime:"2017-02-18T10:30:18.931Z",name:c.name,unread:null}),e._httpClient.post("api/chat-chats",Object.assign({},s)).subscribe((function(t){e._httpClient.post("api/chat-user/"+e.user.id,e.user).subscribe((function(t){e.getUser().then((function(t){e.onUserUpdated.next(t),a(t)}))}))}),n)}))}},{key:"selectContact",value:function(t){this.onContactSelected.next(t)}},{key:"setUserStatus",value:function(t){this.user.status=t}},{key:"updateUserData",value:function(t){var e=this;this._httpClient.post("api/chat-user/"+this.user.id,t).subscribe((function(a){e.user=t}))}},{key:"updateDialog",value:function(t,e){var a=this;return new Promise((function(n,c){a._httpClient.post("api/chat-chats/"+t,{id:t,dialog:e}).subscribe((function(t){n(t)}),c)}))}},{key:"getContacts",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-contacts").subscribe((function(t){e(t)}),a)}))}},{key:"getChats",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-chats").subscribe((function(t){e(t)}),a)}))}},{key:"getUser",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-user").subscribe((function(t){e(t[0])}),a)}))}}]),e}()).\u0275fac=function(t){return new(t||o)(v.cc(L.b))},o.\u0275prov=v.Ob({token:o,factory:o.\u0275fac}),o),I=i("1G5W"),O=i("PVWW"),M=i("B9zo"),G=i("h2q7"),F=((r=function(){function t(){a(this,t),this.sidenavInstances=[]}return c(t,[{key:"setSidenav",value:function(t,e){this.sidenavInstances[t]=e}},{key:"getSidenav",value:function(t){return this.sidenavInstances[t]}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275prov=v.Ob({token:r,factory:r.\u0275fac,providedIn:"root"}),r),U=i("pD6V"),R=((l=function(){function t(e,n,c,i){a(this,t),this._fuseMatchMediaService=e,this._fuseMatSidenavHelperService=n,this._matSidenav=c,this._mediaObserver=i,this.isLockedOpen=!0,this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._fuseMatSidenavHelperService.setSidenav(this.fuseMatSidenavHelper,this._matSidenav),this.matIsLockedOpen&&this._mediaObserver.isActive(this.matIsLockedOpen)?(this.isLockedOpen=!0,this._matSidenav.mode="side",this._matSidenav.toggle(!0)):(this.isLockedOpen=!1,this._matSidenav.mode="over",this._matSidenav.toggle(!1)),this._fuseMatchMediaService.onMediaChange.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(){t.matIsLockedOpen&&t._mediaObserver.isActive(t.matIsLockedOpen)?(t.isLockedOpen=!0,t._matSidenav.mode="side",t._matSidenav.toggle(!0)):(t.isLockedOpen=!1,t._matSidenav.mode="over",t._matSidenav.toggle(!1))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||l)(v.Sb(G.a),v.Sb(F),v.Sb(X.a),v.Sb(U.g))},l.\u0275dir=v.Nb({type:l,selectors:[["","fuseMatSidenavHelper",""]],hostVars:2,hostBindings:function(t,e){2&t&&v.Kb("mat-is-locked-open",e.isLockedOpen)},inputs:{fuseMatSidenavHelper:"fuseMatSidenavHelper",matIsLockedOpen:"matIsLockedOpen"}}),l),j=((u=function(){function t(e){a(this,t),this._fuseMatSidenavHelperService=e}return c(t,[{key:"onClick",value:function(){this._fuseMatSidenavHelperService.getSidenav(this.fuseMatSidenavToggler).toggle()}}]),t}()).\u0275fac=function(t){return new(t||u)(v.Sb(F))},u.\u0275dir=v.Nb({type:u,selectors:[["","fuseMatSidenavToggler",""]],hostBindings:function(t,e){1&t&&v.gc("click",(function(){return e.onClick()}))},inputs:{fuseMatSidenavToggler:"fuseMatSidenavToggler"}}),u),D=i("ofXK"),P=i("XiUz"),V=i("znSr"),H=i("3Pt+"),z=i("EwFO"),N=i("uREc"),B=((h=function(){function t(){a(this,t)}return c(t,[{key:"transform",value:function(t,e,a){return C.a.filterArrayByString(t,e)}}]),t}()).\u0275fac=function(t){return new(t||h)},h.\u0275pipe=v.Rb({name:"filter",type:h,pure:!0}),h),J=i("vVcS");function q(t,e){1&t&&(v.Yb(0,"div",27),v.Tc(1," Chats "),v.Xb())}function $(t,e){if(1&t&&(v.Yb(0,"div",39),v.Tc(1),v.Xb()),2&t){var a=v.kc().$implicit;v.Gb(1),v.Uc(a.unread)}}var E=function(){return{y:"100%"}},W=function(t){return{value:"*",params:t}};function K(t,e){if(1&t){var a=v.Zb();v.Yb(0,"button",28),v.gc("click",(function(){v.Hc(a);var t=e.$implicit;return v.kc(2).getChat(t.contactId)})),v.Yb(1,"div",8),v.Yb(2,"div",29),v.Tb(3,"img",30),v.lc(4,"getById"),v.lc(5,"getById"),v.Tb(6,"mat-icon",31),v.lc(7,"getById"),v.Xb(),v.Yb(8,"div",32),v.Yb(9,"div",33),v.Yb(10,"div",34),v.Tc(11),v.lc(12,"getById"),v.Xb(),v.Yb(13,"div",35),v.Tc(14),v.Xb(),v.Xb(),v.Yb(15,"div",36),v.Yb(16,"div",37),v.Tc(17),v.lc(18,"date"),v.Xb(),v.Rc(19,$,2,1,"div",38),v.Xb(),v.Xb(),v.Xb(),v.Xb()}if(2&t){var n=e.$implicit,c=v.kc(2);v.rc("@animate",v.uc(27,W,v.tc(26,E))),v.Gb(3),v.sc("alt",v.oc(5,12,c.contacts,n.contactId,"name")),v.rc("src",v.oc(4,8,c.contacts,n.contactId,"avatar"),v.Jc),v.Gb(3),v.rc("ngClass",v.oc(7,16,c.contacts,n.contactId,"status")),v.Gb(5),v.Uc(v.oc(12,20,c.contacts,n.contactId,"name")),v.Gb(3),v.Uc(n.lastMessage),v.Gb(3),v.Vc(" ",v.mc(18,24,n.lastMessageTime)," "),v.Gb(2),v.rc("ngIf",n.unread)}}function Q(t,e){1&t&&(v.Yb(0,"div",27),v.Tc(1," Contacts "),v.Xb())}function Z(t,e){if(1&t){var a=v.Zb();v.Yb(0,"button",40),v.gc("click",(function(){v.Hc(a);var t=e.$implicit;return v.kc(2).getChat(t.id)})),v.Yb(1,"div",8),v.Yb(2,"div",41),v.Tb(3,"img",42),v.Tb(4,"mat-icon",31),v.Xb(),v.Yb(5,"div",43),v.Yb(6,"div",34),v.Tc(7),v.Xb(),v.Yb(8,"p",44),v.Tc(9),v.Xb(),v.Xb(),v.Xb(),v.Xb()}if(2&t){var n=e.$implicit;v.rc("@animate",v.uc(7,W,v.tc(6,E))),v.Gb(3),v.sc("src",n.avatar,v.Jc),v.sc("alt",n.name),v.Gb(1),v.rc("ngClass",n.status),v.Gb(3),v.Uc(n.name),v.Gb(2),v.Uc(n.mood)}}function tt(t,e){1&t&&(v.Yb(0,"div",45),v.Tc(1," No results.. "),v.Xb())}var et=function(){return{value:"50"}};function at(t,e){if(1&t&&(v.Yb(0,"div"),v.Yb(1,"div",21),v.Rc(2,q,2,0,"div",22),v.lc(3,"filter"),v.Rc(4,K,20,29,"button",23),v.lc(5,"filter"),v.Xb(),v.Yb(6,"div",24),v.Rc(7,Q,2,0,"div",22),v.lc(8,"filter"),v.Rc(9,Z,10,9,"button",25),v.lc(10,"filter"),v.Xb(),v.Rc(11,tt,2,0,"div",26),v.lc(12,"filter"),v.Xb()),2&t){var a=v.kc();v.rc("@animateStagger",v.tc(21,et)),v.Gb(2),v.rc("ngIf",v.nc(3,6,a.user.chatList,a.searchText).length>0),v.Gb(2),v.rc("ngForOf",v.nc(5,9,a.user.chatList,a.searchText)),v.Gb(3),v.rc("ngIf",v.nc(8,12,a.contacts,a.searchText).length>0),v.Gb(2),v.rc("ngForOf",v.nc(10,15,a.contacts,a.searchText)),v.Gb(2),v.rc("ngIf",0===v.nc(12,18,a.contacts,a.searchText).length)}}var nt,ct,it=((nt=function(){function t(e,n,c){a(this,t),this._chatService=e,this._fuseMatSidenavHelperService=n,this._mediaObserver=c,this.chatSearch={name:""},this.searchText="",this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.chats=this._chatService.chats,this.contacts=this._chatService.contacts,this._chatService.onChatsUpdated.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.chats=e})),this._chatService.onUserUpdated.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.user=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getChat",value:function(t){this._chatService.getChat(t),this._mediaObserver.isActive("gt-md")||this._fuseMatSidenavHelperService.getSidenav("chat-left-sidenav").toggle()}},{key:"setUserStatus",value:function(t){this._chatService.setUserStatus(t)}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}},{key:"logout",value:function(){console.log("logout triggered")}}]),t}()).\u0275fac=function(t){return new(t||nt)(v.Sb(A),v.Sb(F),v.Sb(U.g))},nt.\u0275cmp=v.Mb({type:nt,selectors:[["chat-chats-sidenav"]],decls:46,vars:6,consts:[[1,"sidenav-header"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt","click"],[1,"s-16","status",3,"ngClass","matMenuTriggerFor"],["id","user-status-menu"],["userStatusMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"s-16","status","online"],[1,"s-16","status","away"],[1,"s-16","status","do-not-disturb"],[1,"s-16","status","offline"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["userMenu","matMenu"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"s-16","secondary-text"],["type","text","placeholder","Search or start new chat","fxFlex","",3,"ngModel","ngModelChange"],["fusePerfectScrollbar","","fxFlex","",1,"sidenav-content"],[4,"fuseIfOnDom"],["fxLayout","column",1,"chat-list"],["matSubheader","",4,"ngIf"],["mat-button","","class","contact","ngClass","{'unread':contact.unread}",3,"click",4,"ngFor","ngForOf"],["fxLayout","column",1,"contact-list"],["mat-button","","class","contact",3,"click",4,"ngFor","ngForOf"],["class","no-results-message",4,"ngIf"],["matSubheader",""],["mat-button","","ngClass","{'unread':contact.unread}",1,"contact",3,"click"],["fxFlex","0 1 auto","fxLayoutAlign","center center",1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],["fxLayout","row","fxFlex",""],["fxFlex","","fxLayout","column","fxLayoutAlign","center start",1,"pr-4"],[1,"contact-name"],[1,"contact-last-message"],["fxLayout","column","fxLayoutAlign","start end"],[1,"contact-last-message-time"],["class","mt-4 unread-message-count accent",4,"ngIf"],[1,"mt-4","unread-message-count","accent"],["mat-button","",1,"contact",3,"click"],["fxFlex","0 1 auto",1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt"],["fxLayout","column","fxLayoutAlign","start start"],[1,"contact-mood"],[1,"no-results-message"]],template:function(t,e){if(1&t&&(v.Yb(0,"div",0),v.Yb(1,"mat-toolbar"),v.Yb(2,"mat-toolbar-row",1),v.Yb(3,"div",2),v.Yb(4,"img",3),v.gc("click",(function(){return e.changeLeftSidenavView("user")})),v.Xb(),v.Tb(5,"mat-icon",4),v.Yb(6,"mat-menu",5,6),v.Yb(8,"button",7),v.gc("click",(function(){return e.setUserStatus("online")})),v.Yb(9,"div",8),v.Tb(10,"mat-icon",9),v.Yb(11,"span"),v.Tc(12,"Online"),v.Xb(),v.Xb(),v.Xb(),v.Yb(13,"button",7),v.gc("click",(function(){return e.setUserStatus("away")})),v.Yb(14,"div",8),v.Tb(15,"mat-icon",10),v.Yb(16,"span"),v.Tc(17,"Away"),v.Xb(),v.Xb(),v.Xb(),v.Yb(18,"button",7),v.gc("click",(function(){return e.setUserStatus("do-not-disturb")})),v.Yb(19,"div",8),v.Tb(20,"mat-icon",11),v.Yb(21,"span"),v.Tc(22,"Do not disturb"),v.Xb(),v.Xb(),v.Xb(),v.Yb(23,"button",7),v.gc("click",(function(){return e.setUserStatus("offline")})),v.Yb(24,"div",8),v.Tb(25,"mat-icon",12),v.Yb(26,"span"),v.Tc(27,"Offline"),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Yb(28,"div"),v.Yb(29,"button",13),v.Yb(30,"mat-icon"),v.Tc(31,"more_vert"),v.Xb(),v.Xb(),v.Yb(32,"mat-menu",null,14),v.Yb(34,"button",7),v.gc("click",(function(){return e.changeLeftSidenavView("user")})),v.Tc(35," Profile "),v.Xb(),v.Yb(36,"button",7),v.gc("click",(function(){return e.logout()})),v.Tc(37," Logout "),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Yb(38,"mat-toolbar-row"),v.Yb(39,"div",15),v.Yb(40,"div",16),v.Yb(41,"mat-icon",17),v.Tc(42,"search"),v.Xb(),v.Yb(43,"input",18),v.gc("ngModelChange",(function(t){return e.searchText=t})),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Yb(44,"div",19),v.Rc(45,at,13,22,"div",20),v.Xb()),2&t){var a=v.Dc(7),n=v.Dc(33);v.Gb(4),v.sc("src",e.user.avatar,v.Jc),v.sc("alt",e.user.name),v.Gb(1),v.rc("ngClass",e.user.status)("matMenuTriggerFor",a),v.Gb(24),v.rc("matMenuTriggerFor",n),v.Gb(14),v.rc("ngModel",e.searchText)}},directives:[Y.a,Y.c,P.e,P.d,g.a,D.q,V.a,y.c,y.d,y.a,d.b,P.b,H.c,H.p,H.s,z.a,N.a,D.t,D.s,w.f],pipes:[B,J.a,D.f],styles:["chat-chats-sidenav{display:flex;flex:1;flex-direction:column}chat-chats-sidenav .sidenav-header mat-toolbar{border-bottom:1px solid}chat-chats-sidenav .sidenav-header mat-toolbar .avatar-wrapper .avatar,chat-chats-sidenav .sidenav-header mat-toolbar .avatar-wrapper .status{cursor:pointer}chat-chats-sidenav .sidenav-header mat-toolbar .search{height:36px;line-height:36px;padding:8px;font-size:13px;border-radius:18px;border:1px solid;overflow:hidden}chat-chats-sidenav .sidenav-header mat-toolbar .search .mat-icon{margin:0}chat-chats-sidenav .sidenav-header mat-toolbar .search input{padding:0 12px 0 8px;height:36px;border:none}chat-chats-sidenav .sidenav-content{overflow:auto;-webkit-overflow-scrolling:touch}chat-chats-sidenav .sidenav-content .chat-list .mat-subheader,chat-chats-sidenav .sidenav-content .contact-list .mat-subheader{padding-left:16px;font-size:20px;font-weight:300;height:88px;line-height:88px}chat-chats-sidenav .sidenav-content .chat-list .contact,chat-chats-sidenav .sidenav-content .contact-list .contact{white-space:normal;text-align:left;letter-spacing:.01em;min-height:88px;border-bottom:1px solid;padding:16px;font-weight:400;border-radius:0}chat-chats-sidenav .sidenav-content .chat-list .contact .avatar-wrapper .avatar,chat-chats-sidenav .sidenav-content .contact-list .contact .avatar-wrapper .avatar{margin-right:16px}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-name,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-name{font-size:16px;white-space:nowrap;text-overflow:ellipsis}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-last-message,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-last-message{line-height:normal;margin-top:0}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-last-message-time,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-last-message-time{font-size:12px;margin-top:4px}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-mood,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-mood{line-height:normal;margin:0}chat-chats-sidenav .sidenav-content .chat-list .contact .unread-message-count,chat-chats-sidenav .sidenav-content .contact-list .contact .unread-message-count{font-size:12px;border-radius:50%;text-align:center;width:20px;height:20px;line-height:20px}chat-chats-sidenav .sidenav-content .no-results-message{position:absolute;width:100%;height:88px;padding:16px;font-size:15px;font-weight:400}"],encapsulation:2,data:{animation:O.a}}),nt),st=i("Kj3r"),ot=i("/uUt"),rt=((ct=function(){function t(e){a(this,t),this._chatService=e,this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.userForm=new H.h({mood:new H.e(this.user.mood),status:new H.e(this.user.status)}),this.userForm.valueChanges.pipe(Object(I.a)(this._unsubscribeAll),Object(st.a)(500),Object(ot.a)()).subscribe((function(e){t.user.mood=e.mood,t.user.status=e.status,t._chatService.updateUserData(t.user)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||ct)(v.Sb(A))},ct.\u0275cmp=v.Mb({type:ct,selectors:[["chat-user-sidenav"]],decls:37,vars:4,consts:[[1,"sidenav-header"],[1,"accent"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","aria-label","back",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","user-avatar","huge",3,"src","alt"],[1,"user-name","my-8"],["fxFlex","",1,"sidenav-content","py-32","px-24"],["fxLayout","column",3,"formGroup"],["appearance","outline","fxFlex","0 1 auto"],["matInput","","name","mood","formControlName","mood","rows","3"],["formControlName","status","fxLayout","column"],["value","online",1,"py-8"],["fxLayout","row","fxLayoutAlign","start center"],[1,"status","online","mr-8"],[1,"mat-h4","m-0"],["value","away",1,"py-8"],[1,"status","away","mr-8"],["value","do-not-disturb",1,"py-8"],[1,"status","do-not-disturb","mr-8"],["value","offline",1,"py-8"],[1,"status","offline","mr-8"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Yb(1,"mat-toolbar",1),v.Yb(2,"mat-toolbar-row",2),v.Yb(3,"button",3),v.gc("click",(function(){return e.changeLeftSidenavView("chats")})),v.Yb(4,"mat-icon"),v.Tc(5,"arrow_back"),v.Xb(),v.Xb(),v.Xb(),v.Yb(6,"mat-toolbar-row",4),v.Tb(7,"img",5),v.Yb(8,"div",6),v.Tc(9),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Yb(10,"div",7),v.Yb(11,"form",8),v.Yb(12,"mat-form-field",9),v.Yb(13,"mat-label"),v.Tc(14,"Mood"),v.Xb(),v.Tb(15,"textarea",10),v.Xb(),v.Yb(16,"mat-radio-group",11),v.Yb(17,"mat-radio-button",12),v.Yb(18,"div",13),v.Tb(19,"mat-icon",14),v.Yb(20,"span",15),v.Tc(21,"Online"),v.Xb(),v.Xb(),v.Xb(),v.Yb(22,"mat-radio-button",16),v.Yb(23,"div",13),v.Tb(24,"mat-icon",17),v.Yb(25,"span",15),v.Tc(26,"Away"),v.Xb(),v.Xb(),v.Xb(),v.Yb(27,"mat-radio-button",18),v.Yb(28,"div",13),v.Tb(29,"mat-icon",19),v.Yb(30,"span",15),v.Tc(31,"Do not disturb"),v.Xb(),v.Xb(),v.Xb(),v.Yb(32,"mat-radio-button",20),v.Yb(33,"div",13),v.Tb(34,"mat-icon",21),v.Yb(35,"span",15),v.Tc(36,"Offline"),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb()),2&t&&(v.Gb(7),v.sc("alt",e.user.name),v.rc("src",e.user.avatar,v.Jc),v.Gb(2),v.Uc(e.user.name),v.Gb(2),v.rc("formGroup",e.userForm))},directives:[Y.a,Y.c,P.e,P.d,d.b,g.a,P.b,H.x,H.q,H.i,p.c,p.g,x.b,H.c,H.p,H.g,S.b,S.a],styles:["chat-user-sidenav{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}chat-user-sidenav mat-toolbar .toolbar-bottom{height:180px}"],encapsulation:2}),ct);function ut(t,e){1&t&&v.Tb(0,"chat-chats-sidenav",3),2&t&&v.rc("@slideInRight",void 0)}function lt(t,e){1&t&&v.Tb(0,"chat-user-sidenav",4),2&t&&v.rc("@slideInLeft",void 0)}var ht,bt=((ht=function(){function t(e){a(this,t),this._chatService=e,this.view="chats",this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onLeftSidenavViewChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.view=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||ht)(v.Sb(A))},ht.\u0275cmp=v.Mb({type:ht,selectors:[["chat-left-sidenav"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch"],["class","view",4,"ngSwitchCase"],["class","view","fusePerfectScrollbar","",4,"ngSwitchCase"],[1,"view"],["fusePerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Rc(1,ut,1,1,"chat-chats-sidenav",1),v.Rc(2,lt,1,1,"chat-user-sidenav",2),v.Xb()),2&t&&(v.rc("ngSwitch",e.view),v.Gb(1),v.rc("ngSwitchCase","chats"),v.Gb(1),v.rc("ngSwitchCase","user"))},directives:[D.x,D.y,it,rt,z.a],styles:["chat-left-sidenav,chat-left-sidenav .views{display:flex;flex-direction:column;height:100%}chat-left-sidenav .views .view{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],encapsulation:2,data:{animation:O.a}}),ht);function dt(t,e){if(1&t&&(v.Yb(0,"div",2),v.Yb(1,"mat-toolbar",3),v.Yb(2,"mat-toolbar-row",4),v.Yb(3,"div"),v.Tc(4,"Contact Info"),v.Xb(),v.Yb(5,"button",5),v.Yb(6,"mat-icon"),v.Tc(7,"close"),v.Xb(),v.Xb(),v.Xb(),v.Yb(8,"mat-toolbar-row",6),v.Tb(9,"img",7),v.Yb(10,"div",8),v.Tc(11),v.Xb(),v.Xb(),v.Xb(),v.Xb()),2&t){var a=v.kc();v.Gb(9),v.sc("alt",a.contact.name),v.rc("src",a.contact.avatar,v.Jc),v.Gb(2),v.Uc(a.contact.name)}}function ft(t,e){if(1&t&&(v.Yb(0,"div",9),v.Yb(1,"div",10),v.Tc(2,"Mood"),v.Xb(),v.Yb(3,"div"),v.Tc(4),v.Xb(),v.Xb()),2&t){var a=v.kc();v.Gb(4),v.Uc(a.contact.mood)}}var vt,mt=((vt=function(){function t(e){a(this,t),this._chatService=e,this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onContactSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.contact=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||vt)(v.Sb(A))},vt.\u0275cmp=v.Mb({type:vt,selectors:[["chat-contact-sidenav"]],decls:2,vars:2,consts:[["class","sidenav-header",4,"ngIf"],["class","sidenav-content py-32 px-24","fxFlex","","fxLayout","column",4,"ngIf"],[1,"sidenav-header"],[1,"accent"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","fuseMatSidenavToggler","chat-right-sidenav","aria-label","close"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","contact-avatar","huge",3,"src","alt"],[1,"contact-name","my-8"],["fxFlex","","fxLayout","column",1,"sidenav-content","py-32","px-24"],[1,"secondary-text","mb-8"]],template:function(t,e){1&t&&(v.Rc(0,dt,12,3,"div",0),v.Rc(1,ft,5,1,"div",1)),2&t&&(v.rc("ngIf",e.contact),v.Gb(1),v.rc("ngIf",e.contact))},directives:[D.t,Y.a,Y.c,P.e,P.d,d.b,j,g.a,P.b],styles:["chat-contact-sidenav{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}chat-contact-sidenav mat-toolbar .toolbar-bottom{height:180px}"],encapsulation:2}),vt);function pt(t,e){1&t&&v.Tb(0,"chat-contact-sidenav",2),2&t&&v.rc("@slideInRight",void 0)}var gt,xt,wt=((gt=function(){function t(e){a(this,t),this._chatService=e,this.view="contact",this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onRightSidenavViewChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.view=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||gt)(v.Sb(A))},gt.\u0275cmp=v.Mb({type:gt,selectors:[["chat-right-sidenav"]],decls:2,vars:2,consts:[[1,"views",3,"ngSwitch"],["class","view","fusePerfectScrollbar","",4,"ngSwitchCase"],["fusePerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Rc(1,pt,1,1,"chat-contact-sidenav",1),v.Xb()),2&t&&(v.rc("ngSwitch",e.view),v.Gb(1),v.rc("ngSwitchCase","contact"))},directives:[D.x,D.y,mt,z.a],styles:["chat-right-sidenav,chat-right-sidenav .views{display:flex;flex-direction:column;height:100%}chat-right-sidenav .views .view{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],encapsulation:2,data:{animation:O.a}}),gt),yt=function(){return{delay:"50ms",scale:"0.2"}},St=function(t){return{value:"*",params:t}},Xt=function(){return{delay:"100ms",y:"25px"}},Yt=function(){return{delay:"200ms",y:"50px"}},_t=((xt=function t(){a(this,t)}).\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=v.Mb({type:xt,selectors:[["chat-start"]],decls:10,vars:12,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"big-circle","app-logo"],[1,"s-64","s-md-128","mat-accent"],[1,"app-title","mt-48","mb-8"],["fxHide","","fxShow.gt-md","",1,"app-message"],["mat-raised-button","","fxHide.gt-md","","fuseMatSidenavToggler","chat-left-sidenav"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Yb(1,"div",1),v.Yb(2,"mat-icon",2),v.Tc(3,"chat"),v.Xb(),v.Xb(),v.Yb(4,"span",3),v.Tc(5," Chat App "),v.Xb(),v.Yb(6,"span",4),v.Tc(7," Select a contact to start a chat! "),v.Xb(),v.Yb(8,"button",5),v.Tc(9," Select a contact to start a chat! "),v.Xb(),v.Xb()),2&t&&(v.Gb(1),v.rc("@animate",v.uc(4,St,v.tc(3,yt))),v.Gb(3),v.rc("@animate",v.uc(7,St,v.tc(6,Xt))),v.Gb(2),v.rc("@animate",v.uc(10,St,v.tc(9,Yt))))},directives:[P.b,P.e,P.d,g.a,V.b,d.b,j],styles:["chat-start{display:flex;flex:1}chat-start .big-circle{border-radius:50%;width:240px;height:240px;line-height:240px;text-align:center;border:1px solid}@media screen and (max-width:959px){chat-start .big-circle{width:160px;height:160px;line-height:160px}}chat-start .app-title{font-weight:600;font-size:32px}chat-start .secondary-text{font-size:16px}"],encapsulation:2,data:{animation:O.a}}),xt),kt=["replyForm"],Tt=["replyInput"];function Ct(t,e){if(1&t&&v.Tb(0,"img",30),2&t){var a=v.kc(2);v.sc("src",a.contact.avatar,v.Jc)}}var Lt=function(t,e,a,n){return{me:t,contact:e,"first-of-group":a,"last-of-group":n}};function At(t,e){if(1&t&&(v.Yb(0,"div",25),v.Rc(1,Ct,1,1,"img",26),v.Yb(2,"div",27),v.Yb(3,"div",28),v.Tc(4),v.Xb(),v.Yb(5,"div",29),v.Tc(6),v.lc(7,"date"),v.Xb(),v.Xb(),v.Xb()),2&t){var a=e.$implicit,n=e.index,c=v.kc();v.rc("ngClass",v.xc(7,Lt,a.who===c.user.id,a.who!==c.user.id,c.isFirstMessageOfGroup(a,n),c.isLastMessageOfGroup(a,n))),v.Gb(1),v.rc("ngIf",c.shouldShowContactAvatar(a,n)),v.Gb(3),v.Uc(a.message),v.Gb(2),v.Uc(v.nc(7,4,a.time,"short"))}}var It,Ot=((It=function(){function t(e){a(this,t),this._chatService=e,this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this._chatService.onChatSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){e&&(t.selectedChat=e,t.contact=e.contact,t.dialog=e.dialog,t.readyToReply())}))}},{key:"ngAfterViewInit",value:function(){this.replyInput=this.replyInputField.first.nativeElement,this.readyToReply()}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"shouldShowContactAvatar",value:function(t,e){return t.who===this.contact.id&&(this.dialog[e+1]&&this.dialog[e+1].who!==this.contact.id||!this.dialog[e+1])}},{key:"isFirstMessageOfGroup",value:function(t,e){return 0===e||this.dialog[e-1]&&this.dialog[e-1].who!==t.who}},{key:"isLastMessageOfGroup",value:function(t,e){return e===this.dialog.length-1||this.dialog[e+1]&&this.dialog[e+1].who!==t.who}},{key:"selectContact",value:function(){this._chatService.selectContact(this.contact)}},{key:"readyToReply",value:function(){var t=this;setTimeout((function(){t.focusReplyInput(),t.scrollToBottom()}))}},{key:"focusReplyInput",value:function(){var t=this;setTimeout((function(){t.replyInput.focus()}))}},{key:"scrollToBottom",value:function(t){var e=this;t=t||400,this.directiveScroll&&(this.directiveScroll.update(),setTimeout((function(){e.directiveScroll.scrollToBottom(0,t)})))}},{key:"reply",value:function(t){var e=this;if(t.preventDefault(),this.replyForm.form.value.message){var a={who:this.user.id,message:this.replyForm.form.value.message,time:(new Date).toISOString()};this.dialog.push(a),this.replyForm.reset(),this._chatService.updateDialog(this.selectedChat.chatId,this.dialog).then((function(t){e.readyToReply()}))}}}]),t}()).\u0275fac=function(t){return new(t||It)(v.Sb(A))},It.\u0275cmp=v.Mb({type:It,selectors:[["chat-view"]],viewQuery:function(t,e){var a;1&t&&(v.Xc(z.a,!0),v.Xc(kt,!0),v.Xc(Tt,!0)),2&t&&(v.Cc(a=v.hc())&&(e.directiveScroll=a.first),v.Cc(a=v.hc())&&(e.replyForm=a.first),v.Cc(a=v.hc())&&(e.replyInputField=a))},decls:34,vars:8,consts:[["fxFlex","","fxLayout","column",1,"chat"],[1,"chat-toolbar"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-md","","fuseMatSidenavToggler","chat-left-sidenav","aria-label","chats button",1,"responsive-chats-button","mr-16"],["fxLayout","row","fxLayoutAlign","start center","fuseMatSidenavToggler","chat-right-sidenav",1,"chat-contact",3,"click"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],[1,"chat-contact-name"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["contactMenu","matMenu"],["mat-menu-item","","fuseMatSidenavToggler","chat-right-sidenav",3,"click"],["id","chat-content","fxFlex","1 1 auto","fusePerfectScrollbar",""],[1,"chat-messages"],["class","message-row",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","column",1,"chat-footer"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"reply-form"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"ngSubmit","keydown.enter"],["replyForm","ngForm"],["fxFlex","","floatLabel","never","appearance","standard",1,"message-text"],["matInput","","placeholder","Type your message","ngModel","","name","message",3,"rows","matTextareaAutosize"],["replyInput",""],["mat-icon-button","","type","submit","aria-label","Send message",1,"send-message-button"],[1,"secondary-text"],[1,"message-row",3,"ngClass"],["class","avatar",3,"src",4,"ngIf"],[1,"bubble"],[1,"message"],[1,"time","secondary-text"],[1,"avatar",3,"src"]],template:function(t,e){if(1&t&&(v.Yb(0,"div",0),v.Yb(1,"mat-toolbar",1),v.Yb(2,"div",2),v.Yb(3,"div",3),v.Yb(4,"button",4),v.Yb(5,"mat-icon"),v.Tc(6,"chat"),v.Xb(),v.Xb(),v.Yb(7,"div",5),v.gc("click",(function(){return e.selectContact()})),v.Yb(8,"div",6),v.Tb(9,"img",7),v.Tb(10,"mat-icon",8),v.Xb(),v.Yb(11,"div",9),v.Tc(12),v.Xb(),v.Xb(),v.Xb(),v.Yb(13,"div"),v.Yb(14,"button",10),v.Yb(15,"mat-icon"),v.Tc(16,"more_vert"),v.Xb(),v.Xb(),v.Yb(17,"mat-menu",null,11),v.Yb(19,"button",12),v.gc("click",(function(){return e.selectContact()})),v.Tc(20," Contact Info "),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Yb(21,"div",13),v.Yb(22,"div",14),v.Rc(23,At,8,12,"div",15),v.Xb(),v.Xb(),v.Yb(24,"div",16),v.Yb(25,"div",17),v.Yb(26,"form",18,19),v.gc("ngSubmit",(function(t){return e.reply(t)}))("keydown.enter",(function(t){return e.reply(t)})),v.Yb(28,"mat-form-field",20),v.Tb(29,"textarea",21,22),v.Xb(),v.Yb(31,"button",23),v.Yb(32,"mat-icon",24),v.Tc(33,"send"),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb()),2&t){var a=v.Dc(18);v.Gb(9),v.sc("alt",e.contact.name),v.rc("src",e.contact.avatar,v.Jc),v.Gb(1),v.rc("ngClass",e.contact.status),v.Gb(2),v.Vc(" ",e.contact.name," "),v.Gb(2),v.rc("matMenuTriggerFor",a),v.Gb(9),v.rc("ngForOf",e.dialog),v.Gb(6),v.rc("rows",1)("matTextareaAutosize",!0)}},directives:[P.b,P.e,Y.a,P.d,d.b,V.b,j,g.a,D.q,V.a,y.c,y.d,y.a,z.a,D.s,H.x,H.q,H.r,p.c,x.b,H.c,x.d,H.p,H.s,D.t],pipes:[D.f],styles:["chat-view{display:flex;flex:1 0 auto;overflow:hidden;max-width:100%}chat-view .chat .chat-toolbar{min-height:64px;border-bottom:1px solid}chat-view .chat .chat-toolbar .responsive-chats-button{padding:0}chat-view .chat .chat-toolbar .chat-contact{cursor:pointer}chat-view .chat .chat-toolbar .chat-contact .avatar{margin-right:16px}chat-view .chat #chat-content{background:transparent;overflow:auto;-webkit-overflow-scrolling:touch}chat-view .chat #chat-content .chat-messages{position:relative;padding:16px 0 40px 40px}chat-view .chat #chat-content .chat-messages .message-row{position:relative;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:0 16px 4px}chat-view .chat #chat-content .chat-messages .message-row .avatar{position:absolute;left:-32px;margin:0}chat-view .chat #chat-content .chat-messages .message-row .bubble{position:relative;display:flex;align-items:center;justify-content:center;padding:12px;max-width:100%}chat-view .chat #chat-content .chat-messages .message-row .bubble .message{white-space:pre-wrap;line-height:1.2}chat-view .chat #chat-content .chat-messages .message-row .bubble .time{position:absolute;display:none;width:100%;font-size:11px;margin-top:8px;top:100%;left:0;white-space:nowrap}chat-view .chat #chat-content .chat-messages .message-row.contact .bubble{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:20px;border-bottom-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact .bubble .time{margin-left:12px}chat-view .chat #chat-content .chat-messages .message-row.contact.first-of-group .bubble{border-top-left-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact.last-of-group .bubble{border-bottom-left-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.me{padding-left:40px}chat-view .chat #chat-content .chat-messages .message-row.me .avatar{order:2;margin:0 0 0 16px}chat-view .chat #chat-content .chat-messages .message-row.me .bubble{margin-left:auto;border-top-left-radius:20px;border-bottom-left-radius:20px;border-top-right-radius:5px;border-bottom-right-radius:5px}chat-view .chat #chat-content .chat-messages .message-row.me .bubble .time{justify-content:flex-end;right:0;margin-right:12px}chat-view .chat #chat-content .chat-messages .message-row.me.first-of-group .bubble{border-top-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.me.last-of-group .bubble{border-bottom-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact+.me,chat-view .chat #chat-content .chat-messages .message-row.me+.contact{padding-top:20px;margin-top:20px}chat-view .chat #chat-content .chat-messages .message-row.first-of-group .bubble{border-top-left-radius:20px;padding-top:13px}chat-view .chat #chat-content .chat-messages .message-row.last-of-group .bubble{border-bottom-left-radius:20px;padding-bottom:13px}chat-view .chat #chat-content .chat-messages .message-row.last-of-group .bubble .time{display:flex}chat-view .chat .chat-footer{border-top:1px solid;padding:8px 8px 8px 16px}chat-view .chat .chat-footer .reply-form{position:relative}chat-view .chat .chat-footer .reply-form .message-text{padding:16px 8px}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper,chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex{padding:0}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding:0;border-radius:20px;border:1px solid}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix textarea{overflow:hidden;margin:16px 48px 16px 16px;width:calc(100% - 64px);padding:0}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-underline{display:none!important}chat-view .chat .chat-footer .reply-form .send-message-button{position:absolute;right:16px;bottom:21px}"],encapsulation:2}),It);function Mt(t,e){1&t&&v.Tb(0,"chat-start")}function Gt(t,e){1&t&&v.Tb(0,"chat-view")}var Ft,Ut,Rt=[{path:"**",component:(Ft=function(){function t(e){a(this,t),this._chatService=e,this._unsubscribeAll=new T.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onChatSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.selectedChat=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}(),Ft.\u0275fac=function(t){return new(t||Ft)(v.Sb(A))},Ft.\u0275cmp=v.Mb({type:Ft,selectors:[["chat"]],decls:11,vars:2,consts:[["id","chat",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],[1,"content-card"],["position","start","opened","true","mode","side","fuseMatSidenavHelper","chat-left-sidenav","matIsLockedOpen","gt-md",1,"sidenav"],[4,"ngIf"],["position","end","opened","false","mode","over","fuseMatSidenavHelper","chat-right-sidenav",1,"sidenav"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Tb(1,"div",1),v.Yb(2,"div",2),v.Yb(3,"div",3),v.Yb(4,"mat-sidenav-container"),v.Yb(5,"mat-sidenav",4),v.Tb(6,"chat-left-sidenav"),v.Xb(),v.Rc(7,Mt,1,0,"chat-start",5),v.Rc(8,Gt,1,0,"chat-view",5),v.Yb(9,"mat-sidenav",6),v.Tb(10,"chat-right-sidenav"),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Xb()),2&t&&(v.Gb(7),v.rc("ngIf",!e.selectedChat),v.Gb(1),v.rc("ngIf",e.selectedChat))},directives:[M.a,X.b,X.a,R,bt,D.t,wt,_t,Ot],styles:["#chat .center{padding:32px!important;max-width:1400px;margin:0 auto}@media screen and (max-width:1279px){#chat .center{padding:0!important}}#chat .center .content-card{position:relative;display:flex;flex:1;border-radius:8px}#chat .center .content-card .mat-sidenav-container{display:flex;flex:1;width:100%}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content,#chat .center .content-card .mat-sidenav-container>.mat-sidenav-content{display:flex;flex:1 1 auto;min-height:100%;height:auto}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content{max-width:100%}#chat .center .content-card .mat-sidenav-container mat-sidenav{display:flex;flex-direction:column;width:400px;max-width:90%;overflow:hidden}"],encapsulation:2,data:{animation:O.a}}),Ft),children:[],resolve:{chat:A}}],jt=((Ut=function t(){a(this,t)}).\u0275mod=v.Qb({type:Ut}),Ut.\u0275inj=v.Pb({factory:function(t){return new(t||Ut)},providers:[A],imports:[[b.k.forChild(Rt),d.c,m,p.e,g.b,x.c,w.d,y.b,S.c,X.c,Y.b,_.a]]}),Ut)},vVcS:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),s=function(){var t=function(){function t(){a(this,t)}return c(t,[{key:"transform",value:function(t,e,a){var n=t.find((function(t){return void 0!==t.id&&t.id===e}));if(n)return n[a]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Rb({name:"getById",type:t,pure:!1}),t}()}}])}();